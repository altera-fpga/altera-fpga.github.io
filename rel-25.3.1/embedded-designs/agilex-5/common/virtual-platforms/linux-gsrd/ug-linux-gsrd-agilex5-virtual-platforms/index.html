
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://altera-fpga.github.io/rel-25.3.1/embedded-designs/agilex-5/common/virtual-platforms/linux-gsrd/ug-linux-gsrd-agilex5-virtual-platforms/">
      
      
        <link rel="prev" href="../../../../e-series/013B/security/vab/hps-first/ug-vab-hps-first-agx5e-soc/">
      
      
        <link rel="next" href="../../zephyr-gsrd/ug-zephyr-gsrd-agilex5-virtual-platforms/">
      
      <link rel="icon" href="../../../../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.9">
    
    
      
        <title>Simics Linux GSRD - Altera FPGA Developer Site</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hps-simics-linux-gsrd-tutorial-example-design-agilextm-5-virtual-platforms" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../.." title="Altera FPGA Developer Site" class="md-header__button md-logo" aria-label="Altera FPGA Developer Site" data-md-component="logo">
      
  <img src="../../../../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Altera FPGA Developer Site
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Simics Linux GSRD
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/altera-fpga" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    altera-fpga
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../driver-list_linux/" class="md-tabs__link">
        Linux Drivers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../driver-list_zephyr/" class="md-tabs__link">
        Zephyr Drivers
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../virtualization/hypervisors/xen/xen-overview/" class="md-tabs__link">
        Virtualization
      </a>
    </li>
  

  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../driver-list_baremetal/" class="md-tabs__link">
        Baremetal Drivers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../sw-tools-list/host-attach-tools/" class="md-tabs__link">
        Host Attach Utilities
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../ed-demo-list/ed-list/" class="md-tabs__link md-tabs__link--active">
        Example Designs
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../.." title="Altera FPGA Developer Site" class="md-nav__button md-logo" aria-label="Altera FPGA Developer Site" data-md-component="logo">
      
  <img src="../../../../../../assets/logo.png" alt="logo">

    </a>
    Altera FPGA Developer Site
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/altera-fpga" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    altera-fpga
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../../../driver-list_linux/">Linux Drivers</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux Drivers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          HPS Host Drivers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          HPS Host Drivers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/hwmon/hwmon/" class="md-nav__link">
        Altera Hardware Monitor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/clock_manager/clock_manager/" class="md-nav__link">
        Clock Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/dma/dma/" class="md-nav__link">
        DMA Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/edac/edac/" class="md-nav__link">
        Error Detection & Correction (EDAC)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/ptp_tod/ptp_emb_tod/" class="md-nav__link">
        Ethernet 1588 PTP Time of Day Clock
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/emac/emac/" class="md-nav__link">
        Ethernet Media Access Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/hssi/hssi/" class="md-nav__link">
        Ethernet Subsystem FPGA IP MAC Specific Ctrl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/hssi_xtile/hssi_xtile/" class="md-nav__link">
        Ethernet Subsystem FPGA IP Tile Specific Ctrl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/apb_timers/apb_timers/" class="md-nav__link">
        General Purpose Timers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/gpio/gpio/" class="md-nav__link">
        General Purpose I/O (GPIO)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/i2c/i2c/" class="md-nav__link">
        I2C
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/i3c/i3c/" class="md-nav__link">
        I3C
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/interrupt_controller_GICv3/irq_gic_v3/" class="md-nav__link">
        Interrupt Controller (GICv3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/msgdma/msgdma/" class="md-nav__link">
        MSGDMA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/nand/nand/" class="md-nav__link">
        NAND Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/qsfp/qsfp/" class="md-nav__link">
        QSFP Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/qspi/qspi/" class="md-nav__link">
        QSPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/reset_manager/reset_manager/" class="md-nav__link">
        Reset Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/sd-emmc/sd-emmc/" class="md-nav__link">
        SD/eMMC Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/spi/spi/" class="md-nav__link">
        SPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/system_manager/system_manager/" class="md-nav__link">
        System Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/smmu/smmu/" class="md-nav__link">
        System Memory Management Unit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/uart/uart/" class="md-nav__link">
        UART
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/usb2_0_otg/usb_2_0_otg/" class="md-nav__link">
        USB 2.0 OTG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/usb3_1/usb3_1/" class="md-nav__link">
        USB 3.1 Gen-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/watchdog_timers/watchdog_timers/" class="md-nav__link">
        Watchdog Timers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-embedded/drivers/zarlink_clock_synchronizer/zarlink_clock_synchronizer/" class="md-nav__link">
        Zarlink Clock Synchronizer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          PCIe Host Drivers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          PCIe Host Drivers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/uart_16550/uart_16550/" class="md-nav__link">
        Altera 16550 Compatible UART
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/dfl_afu/dfl_afu/" class="md-nav__link">
        Accelerator Functional Unit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/intel_m10_bmc_core/intel_m10_bmc_core/" class="md-nav__link">
        Board Management Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/dfl/dfl/" class="md-nav__link">
        Device Feature List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/s10hssi/s10hssi/" class="md-nav__link">
        Ethernet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/ptp_dfl_tod/ptp_dfl_tod/" class="md-nav__link">
        Ethernet 1588 PTP Time of Day Clock
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/dfl_fme/dfl_fme/" class="md-nav__link">
        FPGA Management Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/dfl_pci/dfl_pci/" class="md-nav__link">
        PCIe Subsystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/dfl_emif/dfl_emif/" class="md-nav__link">
        Memory Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/intel_m10_bmc_core/intel_m10_bmc_core/" class="md-nav__link">
        MAX 10 Board Management Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/spi_altera_dfl/spi_altera_dfl/" class="md-nav__link">
        SPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../linux-dfl/uio_dfl/uio_dfl/" class="md-nav__link">
        User space I/O (UIO)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../../../driver-list_zephyr/">Zephyr Drivers</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Zephyr Drivers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          HPS Zephyr Drivers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          HPS Zephyr Drivers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/clock_manager/clock_manager/" class="md-nav__link">
        Clock Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/psci/psci/" class="md-nav__link">
        Cold & Warm Reset -Power State Coordination Interface (PSCI)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/dma/dma/" class="md-nav__link">
        DMA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/timer/timer/" class="md-nav__link">
        General Purpose Timer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/gpio/gpio/" class="md-nav__link">
        GPIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/qspi/qspi/" class="md-nav__link">
        Quad SPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/reset_manager/reset_manager/" class="md-nav__link">
        Reset Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/seu/seu/" class="md-nav__link">
        Single Event Upset (SEU)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/smp/smp/" class="md-nav__link">
        SMP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/uart/uart/" class="md-nav__link">
        UART
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../zephyr-embedded/watchdog/watchdog/" class="md-nav__link">
        Watchdog Timer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Virtualization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Virtualization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Hypervisors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Hypervisors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_1_1" id="__nav_4_1_1_label" tabindex="0">
          Xen
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1">
          <span class="md-nav__icon md-icon"></span>
          Xen
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../virtualization/hypervisors/xen/xen-overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_1_1_2" id="__nav_4_1_1_2_label" tabindex="0">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_2">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../virtualization/hypervisors/xen/ug-xen-agx3/" class="md-nav__link">
        Agilex™ 3 C-Series FPGA and SoC Development Kit Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../virtualization/hypervisors/xen/ug-xen-agx5e-premium/" class="md-nav__link">
        Agilex™ 5 E-Series Premium Development Kit Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../virtualization/hypervisors/xen/ug-xen-agx5e-modular/" class="md-nav__link">
        Agilex™ 5 E-Series Modular Development Kit Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../virtualization/hypervisors/xen/ug-xen-agx7f-soc/" class="md-nav__link">
        Agilex™ 7 F-Series SoC Development Kit Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../../../driver-list_baremetal/">Baremetal Drivers</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Baremetal Drivers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Host Attach Utilities
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Host Attach Utilities
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../sw-tools-list/host-attach-tools/" class="md-nav__link">
        Host Attach Utilities Summary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/fpgaconf/fpgaconf/" class="md-nav__link">
        fpgaconf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/fpgad/fpgad/" class="md-nav__link">
        fpgad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/fpgainfo/fpgainfo/" class="md-nav__link">
        fpgainfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/fpgaport/fpgaport/" class="md-nav__link">
        fpgaport
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/fpgasupdate/fpgasupdate/" class="md-nav__link">
        fpgasupdate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/hssi/hssi/" class="md-nav__link">
        hssi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/host_exerciser/host_exerciser/" class="md-nav__link">
        host_exerciser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/hssi_ethernet/hssimac/" class="md-nav__link">
        HSSI ethernet loopback
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/hssi_ethernet/hssistats/" class="md-nav__link">
        HSSI ethernet statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/hssi_ethernet/hssimac/" class="md-nav__link">
        HSSI ethernet mac
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/mem_tg/mem_tg/" class="md-nav__link">
        mem_tg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/mmlink/mmlink/" class="md-nav__link">
        mmlink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/ofs_uio/ofs_uio/" class="md-nav__link">
        ofs.uio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/opae_io/opae_io/" class="md-nav__link">
        opae.io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/opaeuio/opaeuio/" class="md-nav__link">
        opaeuio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/opaevfio/opaevfio/" class="md-nav__link">
        opaevfio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/pac_hssi_config/pac_hssi_config/" class="md-nav__link">
        pac_hssi_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/packager/packager/" class="md-nav__link">
        packager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/pci_device/pci_device/" class="md-nav__link">
        pci_device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/rsu/rsu/" class="md-nav__link">
        rsu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/userclk/userclk/" class="md-nav__link">
        userclk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../host-attach-util/vabtool/vabtool/" class="md-nav__link">
        vabtool
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Example Designs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Example Designs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../ed-demo-list/ed-list/" class="md-nav__link">
        Summary
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
          Agilex™ 3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Agilex™ 3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_2_1" id="__nav_7_2_1_label" tabindex="0">
          C-Series SoC and FPGA Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2_1">
          <span class="md-nav__icon md-icon"></span>
          C-Series SoC and FPGA Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/drive-on-chip/doc-plc/" class="md-nav__link">
        Drive-On-Chip with PLC Design Example for Agilex™ Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-3/c-series/gsrd/ug-gsrd-agx3/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-3/c-series/boot-examples/ug-linux-boot-agx3/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-3/c-series/rsu/ug-rsu-agx3c-fpga/" class="md-nav__link">
        HPS Remote System Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-3/c-series/remote-debug/ug-remote-debug-agx3/" class="md-nav__link">
        SoC FPGA Remote Debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-3/c-series/armds-debug-u-boot/ug-armds-debug-uboot-agx3/" class="md-nav__link">
        Debugging U-Boot with Arm Development Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-3/c-series/riscfree-debug-u-boot/ug-riscfree-debug-uboot-agx3/" class="md-nav__link">
        Debugging U-Boot with Ashling RiscFree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-3/c-series/riscfree-debug-linux/ug-riscfree-debug-linux-agx3/" class="md-nav__link">
        Debugging Linux with Ashling RiscFree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-3/c-series/armds-debug-linux/ug-armds-debug-linux-agx3/" class="md-nav__link">
        Debugging Linux with Arm Development Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-3/c-series/xen/ug-xen-agx3/" class="md-nav__link">
        HPS Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_2_2" id="__nav_7_2_2_label" tabindex="0">
          Intel Simics Virtual Platform Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2_2">
          <span class="md-nav__icon md-icon"></span>
          Intel Simics Virtual Platform Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-3/common/virtual-platforms/linux-gsrd/ug-linux-gsrd-agilex3-virtual-platforms/" class="md-nav__link">
        HPS Simics Linux GSRD
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" checked>
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
          Agilex™ 5
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Agilex™ 5
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_1" id="__nav_7_3_1_label" tabindex="0">
          E-Series Premium Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_1">
          <span class="md-nav__icon md-icon"></span>
          E-Series Premium Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/gsrd/ug-gsrd-agx5e-premium/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/egsrd/ug-ehps-agx5e-premium/" class="md-nav__link">
        Enhanced HPS User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/gsrd_zephyr/ug-zgsrd-agx5e-premium/" class="md-nav__link">
        HPS Zephyr GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/boot-examples/ug-linux-boot-agx5e-premium/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_5" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_1_5" id="__nav_7_3_1_5_label" tabindex="0">
          TSN Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_1_5">
          <span class="md-nav__icon md-icon"></span>
          TSN Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/tsn/rgmii-hps/ug-tsncfg1-agx5e-premium/" class="md-nav__link">
        HPS TSN RGMII System Example Design User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/tsn/rgmii-hvio/ug-tsncfg2-agx5e-premium/" class="md-nav__link">
        HPS TSN RGMII HVIO System Example Design User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/tsn/sgmii_xcvr/ug-tsn-sgmii-xcvr-agilex5/" class="md-nav__link">
        HPS TSN SGMII XCVR System Example Design User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/usb3p1/ug-usb3p1-dev-drd-modes/" class="md-nav__link">
        USB 3.1 Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/remote-debug/ug-remote-debug-agx5e-premium/" class="md-nav__link">
        SoC FPGA Remote Debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/rsu/ug-rsu-agx5e-soc/" class="md-nav__link">
        HPS Remote System Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/xen/ug-xen-agx5e-premium/" class="md-nav__link">
        HPS Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/pcie_rp/ug-pcie_rp-agx5e-premium/" class="md-nav__link">
        PCIe Root Port
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_11" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_1_11" id="__nav_7_3_1_11_label" tabindex="0">
          Nios V Processor Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_1_11">
          <span class="md-nav__icon md-icon"></span>
          Nios V Processor Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_11_1" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_1_11_1" id="__nav_7_3_1_11_1_label" tabindex="0">
          Nios V/c
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_1_11_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_1_11_1">
          <span class="md-nav__icon md-icon"></span>
          Nios V/c
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/niosv/niosv_c/niosv_c_helloworld_ocm_mem_test/ug-helloworld-ocm-mem-test-agx5e-premium/" class="md-nav__link">
        Helloworld and OCM memory test design on Nios® V/c Processor
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_11_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_1_11_2" id="__nav_7_3_1_11_2_label" tabindex="0">
          Nios V/m
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_1_11_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_1_11_2">
          <span class="md-nav__icon md-icon"></span>
          Nios V/m
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/niosv/niosv_m/niosv_m_baseline_ghrd/ug-baseline-ghrd-agx5e-premium/" class="md-nav__link">
        Nios® V/m Processor Baseline GHRD Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/niosv/niosv_m/niosv_m_full_feature_ghrd/ug-full-feature-ghrd-agx5e-premium/" class="md-nav__link">
        Nios® V/m Full Feature Golden Hardware Reference Design
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_11_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_1_11_3" id="__nav_7_3_1_11_3_label" tabindex="0">
          Nios V/g
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_1_11_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_1_11_3">
          <span class="md-nav__icon md-icon"></span>
          Nios V/g
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/niosv/niosv_g/tinyml_liteRT/ug-tinyml-liteRT-agx5e-premium/" class="md-nav__link">
        Nios® V/g TinyML LiteRT for Microcontroller Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/premium/niosv/niosv_g/webserver_ping/ug-webserver-ping-agx5e-premium/" class="md-nav__link">
        Nios® V/g Processor Ping Application
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../baremetal-embedded/agilex-5/e-series/premium/ug-baremetal-agx5e-premium/" class="md-nav__link">
        Baremetal Hello World Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/altera-fpga/agilex5-demo-hps2fpga-interfaces/blob/main/documentation/01_index.md" class="md-nav__link">
        Third Party Boards - HPS-FPGA Interfaces Demos User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-5/e-series/premium/armds-debug-uboot/ug-armds-debug-uboot-agx5e-premium/" class="md-nav__link">
        Debugging U-Boot with Arm Development Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-5/e-series/premium/riscfree-debug-u-boot/ug-riscfree-debug-uboot-agx5e-premium/" class="md-nav__link">
        Debugging U-Boot with Ashling RiscFree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-5/e-series/premium/riscfree-debug-linux/ug-riscfree-debug-linux-agx5e-premium/" class="md-nav__link">
        Debugging Linux with Ashling RiscFree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demos/agilex-5/e-series/premium/armds-debug-linux/ug-armds-debug-linux-agx5e-premium/" class="md-nav__link">
        Debugging Linux with Arm Development Studio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_2" id="__nav_7_3_2_label" tabindex="0">
          E-Series Modular Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_2">
          <span class="md-nav__icon md-icon"></span>
          E-Series Modular Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../ed-ai-suite/agilex5/modular_jtag/modular_jtag/" class="md-nav__link">
        Hostless JTAG Example Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/gsrd/ug-gsrd-agx5e-modular/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/boot-examples/ug-linux-boot-agx5e-modular/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/xen/ug-xen-agx5e-modular/" class="md-nav__link">
        HPS Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/drive-on-chip/doc-funct-safety/" class="md-nav__link">
        Drive-On-Chip with Functional Safety Design Example for Agilex™ 5 Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/drive-on-chip/doc-plc/" class="md-nav__link">
        Drive-On-Chip with PLC Design Example for Agilex™ Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/drive-on-chip/doc-crc/" class="md-nav__link">
        ROS Consolidated Robot Controller Example Design for Agilex™ 5 Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/camera/camera_4k/camera_4k/" class="md-nav__link">
        4Kp60 Multi-Sensor HDR Camera Solution System Example Design for Agilex™ 5 Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/camera/camera_4k_ai/camera_4k_ai/" class="md-nav__link">
        4Kp30 Multi-Sensor Camera with AI Inference Solution System Example Design for Agilex™ 5 Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/holoscan-sensor-bridge/mipi/hsb-mipi-1-10GbE/" class="md-nav__link">
        Holoscan Sensor Bridge MIPI to 10GbE System Example Design for Agilex™ 5 Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/ethernet/agx5e-ethernet-10g/ug-agx5e-ethernet-10g/" class="md-nav__link">
        Agilex™ 5 FPGA E-Series Modular Development Kit 1x10G Ethernet System Example Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_2_12" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_2_12" id="__nav_7_3_2_12_label" tabindex="0">
          TSN Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_2_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_2_12">
          <span class="md-nav__icon md-icon"></span>
          TSN Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/modular/tsn/sgmii_xcvr_3x2.5G/ug-tsn-sgmii-xcvr-3x2.5G-agilex5/" class="md-nav__link">
        HPS TSN SGMII XCVR System 3x2.5G Example Design User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_3" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_3" id="__nav_7_3_3_label" tabindex="0">
          E-Series 013B Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3_3">
          <span class="md-nav__icon md-icon"></span>
          E-Series 013B Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/013B/gsrd/ug-gsrd-agx5e-013b/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/013B/boot-examples/ug-linux-boot-agx5e-013b/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/013B/security/crypto/cryptoservices/ug-fpga-cryptoservice-agx5e-soc/" class="md-nav__link">
        FPGA Crypto Services (FCS) Tutorial Example Design User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../e-series/013B/security/vab/hps-first/ug-vab-hps-first-agx5e-soc/" class="md-nav__link">
        Vendor Authorized Boot (HPS-First) Tutorial Example Design User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_4" checked>
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3_4" id="__nav_7_3_4_label" tabindex="0">
          Intel Simics Virtual Platform Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_7_3_4">
          <span class="md-nav__icon md-icon"></span>
          Intel Simics Virtual Platform Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Simics Linux GSRD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Simics Linux GSRD
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#release-content" class="md-nav__link">
    Release Content
  </a>
  
    <nav class="md-nav" aria-label="Release Content">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#known-issues-with-the-release" class="md-nav__link">
    Known Issues with the Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-instructions-gsrd-20-baseline" class="md-nav__link">
    Build Instructions - GSRD 2.0 Baseline
  </a>
  
    <nav class="md-nav" aria-label="Build Instructions - GSRD 2.0 Baseline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-the-environment" class="md-nav__link">
    Set Up the Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-hardware-design" class="md-nav__link">
    Build Hardware Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-sd-card-gsrd-20" class="md-nav__link">
    Build SD Card GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-qspi-gsrd-20" class="md-nav__link">
    Build QSPI GSRD 2.0
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agilextm-5-simics-virtual-platform-universal" class="md-nav__link">
    Agilex™ 5  Simics Virtual Platform - Universal
  </a>
  
    <nav class="md-nav" aria-label="Agilex™ 5  Simics Virtual Platform - Universal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-features-supported-by-the-altera-agilextm-5-e-series-universal-virtual-platform" class="md-nav__link">
    Main Features Supported by the Altera® Agilex™ 5 E-Series Universal Virtual Platform
  </a>
  
    <nav class="md-nav" aria-label="Main Features Supported by the Altera® Agilex™ 5 E-Series Universal Virtual Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boot-an-operative-system" class="md-nav__link">
    Boot an Operative System
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-ethernet" class="md-nav__link">
    Basic Ethernet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu-power-on-and-boot-core-selection" class="md-nav__link">
    CPU Power-On and Boot Core Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset-flow" class="md-nav__link">
    Reset Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio-loopback-connection" class="md-nav__link">
    GPIO Loopback Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usb-disks-hot-plug-support" class="md-nav__link">
    USB Disks Hot-Plug Support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fpga-fabric-example-design" class="md-nav__link">
    FPGA Fabric Example Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fpga-to-hps-bridges" class="md-nav__link">
    FPGA-to-HPS Bridges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b0-silicon-features-selection" class="md-nav__link">
    B0 Silicon Features Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uart1uart2-serial-console-selection" class="md-nav__link">
    UART1/UART2 Serial Console Selection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurable-parameters-in-the-altera-agilextm-5-e-series-universal-virtual-platform" class="md-nav__link">
    Configurable Parameters in the Altera® Agilex™ 5 E-Series Universal Virtual Platform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercising-simics-simulation-from-gsrd-20" class="md-nav__link">
    Exercising Simics Simulation from GSRD 2.0
  </a>
  
    <nav class="md-nav" aria-label="Exercising Simics Simulation from GSRD 2.0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simulation-setup-under-gsrd-20" class="md-nav__link">
    Simulation Setup under GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-sdcard-boot-mode-under-gsrd-20" class="md-nav__link">
    Exercise SDCard Boot Mode under GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-qspi-boot-mode-under-gsrd-20" class="md-nav__link">
    Exercise QSPI Boot Mode under GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-simics-simulation-with-a76-as-boot-core" class="md-nav__link">
    Exercise Simics Simulation with a76 as Boot Core
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-cases-supported-by-the-agilextm-5-e-series-universal-virtual-platform" class="md-nav__link">
    Use Cases Supported by the Agilex™ 5 E-Series Universal Virtual Platform
  </a>
  
    <nav class="md-nav" aria-label="Use Cases Supported by the Agilex™ 5 E-Series Universal Virtual Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simulation-setup" class="md-nav__link">
    Simulation Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-sdcard-boot-flow-from-fsbl-to-linux" class="md-nav__link">
    Use Case: Exercise SDCard Boot Flow from FSBL to Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-access-the-web-server-application-from-host-pc" class="md-nav__link">
    Use Case: Access the Web Server Application from Host PC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-access-on-chip-ram-in-fpga-example-design-from-linux-prompt" class="md-nav__link">
    Use Case: Access ON-Chip RAM in FPGA Example Design from Linux Prompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-peripheral-components-in-fpga-fabric-example-design" class="md-nav__link">
    Use Case: Exercise Peripheral Components in FPGA Fabric Example Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-usb-disk-hot-plug" class="md-nav__link">
    Use Case: Exercise USB Disk Hot-Plug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-ubifs-qspi-boot-flow-from-fsbl-to-linux" class="md-nav__link">
    Use Case: Exercise UBIFS QSPI Boot Flow from FSBL to Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-debug-bare-metal-code-using-intel-simics-simulator" class="md-nav__link">
    Use Case: Debug Bare-Metal Code Using Intel Simics Simulator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-debug-bare-metal-code-using-simics-riscfree" class="md-nav__link">
    Use Case: Debug Bare-metal Code Using Simics-RiscFree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-remote-debugging-of-a-linux-user-mode-program-using-arm-ds-debugger" class="md-nav__link">
    Use Case: Remote Debugging of a Linux User Mode Program Using ARM DS Debugger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../zephyr-gsrd/ug-zephyr-gsrd-agilex5-virtual-platforms/" class="md-nav__link">
        Simics Zephyr GSRD
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
          Agilex™ 7
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Agilex™ 7
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_1" id="__nav_7_4_1_label" tabindex="0">
          F-Series SoC Development Kit (P-Tiles & E-Tile)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_1">
          <span class="md-nav__icon md-icon"></span>
          F-Series SoC Development Kit (P-Tiles & E-Tile)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/gsrd/ug-gsrd-agx7f-soc/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/rsu/ug-rsu-agx7f-soc/" class="md-nav__link">
        HPS Remote System Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/rsu/ug-rsu-multiqspi-agx7f-soc/" class="md-nav__link">
        HPS Multi-QSPI Remote System Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/remote-debug/ug-remote-debug-agx7f-soc/" class="md-nav__link">
        SoC FPGA Remote Debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/emmc/ug-emmc-agx7f-soc/" class="md-nav__link">
        HPS eMMC Boot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/fabric-config/ug-linux-fabric-config-agx7f-soc/" class="md-nav__link">
        SoC Fabric Configuration from Linux Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/boot-examples/ug-linux-boot-agx7-soc/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/xen/ug-xen-agx7f-soc/" class="md-nav__link">
        HPS Xen Hypervisor GSRD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/setup-use-bridges/ug-setup-use-bridges-agx7f-soc/" class="md-nav__link">
        Setting up and Using Bridges HPS Linux Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/security/crypto/cryptoservices/ug-fpga-cryptoservice-agx7-soc/" class="md-nav__link">
        FPGA Crypto Services (FCS) Tutorial Example Design User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/security/crypto/sdos/ug-sdos-agx7f-soc/" class="md-nav__link">
        Secure Data Object Storage (SDOS) Tutorial Example User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/security/vab/hps-first/ug-vab-hps-first-agx7f-soc/" class="md-nav__link">
        Vendor Authorized Boot (HPS-First) Tutorial Example Design User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/security/vab/fpga-first/ug-vab-fpga-first-agx7f-soc/" class="md-nav__link">
        Vendor Authorized Boot (FPGA-First) Tutorial Example Design User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_1_14" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_1_14" id="__nav_7_4_1_14_label" tabindex="0">
          Nios V Processor Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_4_1_14_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_1_14">
          <span class="md-nav__icon md-icon"></span>
          Nios V Processor Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_1_14_1" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_1_14_1" id="__nav_7_4_1_14_1_label" tabindex="0">
          Nios V/m
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_4_1_14_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_1_14_1">
          <span class="md-nav__icon md-icon"></span>
          Nios V/m
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/niosv/niosv_m/iperf/ug-iperf-agx7f-soc/" class="md-nav__link">
        Nios® V/m Processor IPerf Server Application
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_1_14_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_1_14_2" id="__nav_7_4_1_14_2_label" tabindex="0">
          Nios V/g
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_4_1_14_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_1_14_2">
          <span class="md-nav__icon md-icon"></span>
          Nios V/g
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/niosv/niosv_g/fpu_test/ug-fpu-agx7f-soc/" class="md-nav__link">
        Nios® V/g Processor Floating Point Unit (FPU) Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/soc/niosv/niosv_g/tcm_mem_test/ug-tcm-mem-test-agx7f-soc/" class="md-nav__link">
        Nios® V/g Processor Tightly Coupled Memory
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_2" id="__nav_7_4_2_label" tabindex="0">
          F-Series FPGA Development Kit (P-Tile and E-Tile, Rev A)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_2">
          <span class="md-nav__icon md-icon"></span>
          F-Series FPGA Development Kit (P-Tile and E-Tile, Rev A)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_2_1" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_2_1" id="__nav_7_4_2_1_label" tabindex="0">
          Nios V Processor Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_4_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_2_1">
          <span class="md-nav__icon md-icon"></span>
          Nios V Processor Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_2_1_1" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_2_1_1" id="__nav_7_4_2_1_1_label" tabindex="0">
          Nios V/g
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_4_2_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          Nios V/g
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/fpga/niosv/niosv_g/tinyml_liteRT/ug-tinyml-litert-agx7f-fpga/" class="md-nav__link">
        Nios® V/g TinyML LiteRT for Microcontroller Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/fpga/niosv/niosv_g/custom_instr_crc/ug-ci-crc-agx7f-fpga/" class="md-nav__link">
        Nios V/g CRC Custom Instruction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/fpga/niosv/niosv_g/custom_instr_basic/ug-ci-basic-agx7f-fpga/" class="md-nav__link">
        Nios V/g Basic Custom Instruction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/fpga/niosv/niosv_g/ecc/ug-ecc-agx7f-fpga/" class="md-nav__link">
        Nios V/g ECC Feature
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_3" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_3" id="__nav_7_4_3_label" tabindex="0">
          F-Series FPGA Development Kit (2x F-Tile)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_3">
          <span class="md-nav__icon md-icon"></span>
          F-Series FPGA Development Kit (2x F-Tile)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/f-series/fpga/gsrd/ug-gsrd-agx7f-fpga/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_4" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_4" id="__nav_7_4_4_label" tabindex="0">
          I-Series FPGA Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_4">
          <span class="md-nav__icon md-icon"></span>
          I-Series FPGA Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../ed-ai-suite/agilex7/iseries_ofs_pcie/iseries_ofs_pcie/" class="md-nav__link">
        Agilex 7 PCIe-Attached Example Design with OFS (I-Series, 2x R-Tile and 1x F-Tile)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/i-series/soc/gsrd/ug-gsrd-agx7i-soc/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/i-series/avst_cii/agilex7-ed-pcie-cii/" class="md-nav__link">
        CII Example Design
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_5" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_5" id="__nav_7_4_5_label" tabindex="0">
          M-Series HBM2e Development Kit (3x F-Tile & 1x R-Tile)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_5">
          <span class="md-nav__icon md-icon"></span>
          M-Series HBM2e Development Kit (3x F-Tile & 1x R-Tile)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/m-series/hbm2e/ug-gsrd-agx7m-hbm2e/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agilex-7/m-series/pcie_rp/ug-pcie_rp-agx7m-hbm2e/" class="md-nav__link">
        PCIe Root Port User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_6" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_6" id="__nav_7_4_6_label" tabindex="0">
          DE10-Agilex Terasic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_6">
          <span class="md-nav__icon md-icon"></span>
          DE10-Agilex Terasic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../ed-ai-suite/agilex7/de10_pcie/de10_pcie/" class="md-nav__link">
        Agilex 7 PCIe-Attached Example Design (DE10)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_7" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_7" id="__nav_7_4_7_label" tabindex="0">
          FPGA SmartNIC N6001-PL Platform
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4_7">
          <span class="md-nav__icon md-icon"></span>
          FPGA SmartNIC N6001-PL Platform
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../ed-ai-suite/agilex7/n6001_ofs_pcie/n6001_ofs_pcie/" class="md-nav__link">
        Agilex 7 PCIe-Attached Example Design with OFS (N6001)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
          Stratix® 10
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          Stratix® 10
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_5_1" id="__nav_7_5_1_label" tabindex="0">
          SX SoC Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_5_1">
          <span class="md-nav__icon md-icon"></span>
          SX SoC Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../stratix-10/sx/soc/gsrd/ug-gsrd-s10sx-soc/" class="md-nav__link">
        HPS GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../stratix-10/sx/soc/rsu/ug-rsu-s10sx-soc/" class="md-nav__link">
        HPS Remote System Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../stratix-10/sx/soc/remote-debug/ug-remote-debug-s10sx-soc/" class="md-nav__link">
        SoC FPGA Remote Debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../stratix-10/sx/soc/emmc/ug-emmc-s10sx-soc/" class="md-nav__link">
        HPS eMMC Boot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../stratix-10/sx/soc/fabric-config/ug-linux-fabric-config-s10sx-soc/" class="md-nav__link">
        SoC Fabric Configuration from Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../stratix-10/sx/soc/security/secure-boot/hps-first/ug-secure-boot-hps-first-s10sx-soc/" class="md-nav__link">
        Secure Boot Tutorial Example Design User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../stratix-10/sx/soc/boot-examples/ug-linux-boot-s10-soc/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
          Arria® 10
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_6">
          <span class="md-nav__icon md-icon"></span>
          Arria® 10
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6_1" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_6_1" id="__nav_7_6_1_label" tabindex="0">
          SX SoC Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_6_1">
          <span class="md-nav__icon md-icon"></span>
          SX SoC Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../arria-10/sx/soc/gsrd/ug-gsrd-a10sx-soc/" class="md-nav__link">
        GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../arria-10/sx/soc/boot-examples/ug-linux-boot-a10-soc/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
          Cyclone® V
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_7">
          <span class="md-nav__icon md-icon"></span>
          Cyclone® V
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7_1" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_7_1" id="__nav_7_7_1_label" tabindex="0">
          SX SoC Development Kit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_7_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_7_1">
          <span class="md-nav__icon md-icon"></span>
          SX SoC Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../cyclone-v/sx/soc/gsrd/ug-gsrd-cve-soc/" class="md-nav__link">
        GSRD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../cyclone-v/sx/soc/boot-examples/ug-linux-boot-cve-soc/" class="md-nav__link">
        HPS GHRD Linux Boot Examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#release-content" class="md-nav__link">
    Release Content
  </a>
  
    <nav class="md-nav" aria-label="Release Content">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#known-issues-with-the-release" class="md-nav__link">
    Known Issues with the Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-instructions-gsrd-20-baseline" class="md-nav__link">
    Build Instructions - GSRD 2.0 Baseline
  </a>
  
    <nav class="md-nav" aria-label="Build Instructions - GSRD 2.0 Baseline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-the-environment" class="md-nav__link">
    Set Up the Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-hardware-design" class="md-nav__link">
    Build Hardware Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-sd-card-gsrd-20" class="md-nav__link">
    Build SD Card GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-qspi-gsrd-20" class="md-nav__link">
    Build QSPI GSRD 2.0
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agilextm-5-simics-virtual-platform-universal" class="md-nav__link">
    Agilex™ 5  Simics Virtual Platform - Universal
  </a>
  
    <nav class="md-nav" aria-label="Agilex™ 5  Simics Virtual Platform - Universal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-features-supported-by-the-altera-agilextm-5-e-series-universal-virtual-platform" class="md-nav__link">
    Main Features Supported by the Altera® Agilex™ 5 E-Series Universal Virtual Platform
  </a>
  
    <nav class="md-nav" aria-label="Main Features Supported by the Altera® Agilex™ 5 E-Series Universal Virtual Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boot-an-operative-system" class="md-nav__link">
    Boot an Operative System
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-ethernet" class="md-nav__link">
    Basic Ethernet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu-power-on-and-boot-core-selection" class="md-nav__link">
    CPU Power-On and Boot Core Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset-flow" class="md-nav__link">
    Reset Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpio-loopback-connection" class="md-nav__link">
    GPIO Loopback Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usb-disks-hot-plug-support" class="md-nav__link">
    USB Disks Hot-Plug Support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fpga-fabric-example-design" class="md-nav__link">
    FPGA Fabric Example Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fpga-to-hps-bridges" class="md-nav__link">
    FPGA-to-HPS Bridges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b0-silicon-features-selection" class="md-nav__link">
    B0 Silicon Features Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uart1uart2-serial-console-selection" class="md-nav__link">
    UART1/UART2 Serial Console Selection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurable-parameters-in-the-altera-agilextm-5-e-series-universal-virtual-platform" class="md-nav__link">
    Configurable Parameters in the Altera® Agilex™ 5 E-Series Universal Virtual Platform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercising-simics-simulation-from-gsrd-20" class="md-nav__link">
    Exercising Simics Simulation from GSRD 2.0
  </a>
  
    <nav class="md-nav" aria-label="Exercising Simics Simulation from GSRD 2.0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simulation-setup-under-gsrd-20" class="md-nav__link">
    Simulation Setup under GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-sdcard-boot-mode-under-gsrd-20" class="md-nav__link">
    Exercise SDCard Boot Mode under GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-qspi-boot-mode-under-gsrd-20" class="md-nav__link">
    Exercise QSPI Boot Mode under GSRD 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-simics-simulation-with-a76-as-boot-core" class="md-nav__link">
    Exercise Simics Simulation with a76 as Boot Core
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-cases-supported-by-the-agilextm-5-e-series-universal-virtual-platform" class="md-nav__link">
    Use Cases Supported by the Agilex™ 5 E-Series Universal Virtual Platform
  </a>
  
    <nav class="md-nav" aria-label="Use Cases Supported by the Agilex™ 5 E-Series Universal Virtual Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simulation-setup" class="md-nav__link">
    Simulation Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-sdcard-boot-flow-from-fsbl-to-linux" class="md-nav__link">
    Use Case: Exercise SDCard Boot Flow from FSBL to Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-access-the-web-server-application-from-host-pc" class="md-nav__link">
    Use Case: Access the Web Server Application from Host PC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-access-on-chip-ram-in-fpga-example-design-from-linux-prompt" class="md-nav__link">
    Use Case: Access ON-Chip RAM in FPGA Example Design from Linux Prompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-peripheral-components-in-fpga-fabric-example-design" class="md-nav__link">
    Use Case: Exercise Peripheral Components in FPGA Fabric Example Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-usb-disk-hot-plug" class="md-nav__link">
    Use Case: Exercise USB Disk Hot-Plug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-exercise-ubifs-qspi-boot-flow-from-fsbl-to-linux" class="md-nav__link">
    Use Case: Exercise UBIFS QSPI Boot Flow from FSBL to Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-debug-bare-metal-code-using-intel-simics-simulator" class="md-nav__link">
    Use Case: Debug Bare-Metal Code Using Intel Simics Simulator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-debug-bare-metal-code-using-simics-riscfree" class="md-nav__link">
    Use Case: Debug Bare-metal Code Using Simics-RiscFree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-case-remote-debugging-of-a-linux-user-mode-program-using-arm-ds-debugger" class="md-nav__link">
    Use Case: Remote Debugging of a Linux User Mode Program Using ARM DS Debugger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="hps-simics-linux-gsrd-tutorial-example-design-agilextm-5-virtual-platforms">HPS Simics Linux GSRD Tutorial Example Design: Agilex™ 5 Virtual Platforms<a class="headerlink" href="#hps-simics-linux-gsrd-tutorial-example-design-agilextm-5-virtual-platforms" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Agilex™ 5 E-Series and D-Series devices provide the next-generation hard processor system (HPS) after those provided with the Agilex™ 7 and  Stratix® 10 SoC FPGA devices. Agilex™ 5 E-Series devices support new features, such as TSN, USB 3.1 Gen 1, and I3C, SPI.</p>
<p>The Agilex™ 5 HPS application processors can run Linux or an RTOS, such as Zephyr*, with a scalable performance using one to four Arm* Cortex*-A cores with variable frequencies that allow for a wide range of applications.</p>
<p>The Agilex™ 5 Simics virtual platform models the HPS processor with two Arm Cortex-A55 cores, two Arm Cortex-A76 cores, and HPS peripherals. The Agilex™ 5 E-Series HPS virtual platform is released as part of the Simics® Simulator for Altera® FPGAs software, which also includes a virtual platforms where the Agilex™ 5 device is instantiated, emulating the concept of having different versions of a development kit or daughter cards.</p>
<p>The Agilex™ 5 E-Series device has the following supported virtual platforms:</p>
<ul>
<li>Agilex™ 5  Universal Virtual Platform - Used to simulate E-Series and D-Series devices.</li>
</ul>
<p>The following sections describe the prerequisites for the Intel Simics Simulator for Altera® FPGA and the available virtual platforms, including prebuilt binaries, and instructions for building these binaries. It also covers some common use cases that you can exercise on the virtual platforms.</p>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h3>
<p>To exercise the instructions presented on this page (build your binaries and exercise the use cases), your system must satisfy the following prerequisites:</p>
<ul>
<li>Host PC with Linux OS. (<strong>Note:</strong> Instructions on this page use Ubuntu 22.04 LTS.)</li>
<li>The following packages are needed to deploy the Simics project:<ul>
<li>GCC 6.3 compiler or higher</li>
<li>g++ 9.4 or higher</li>
<li>GNU make 4.1 or higher</li>
</ul>
</li>
<li>Local Ethernet network with DHCP server (provides IP address to the board).</li>
<li>Intel Simics Simulator for Altera® FPGAs installed.</li>
<li>Altera® Agilex™ 5 Virtual Platform components available to be deployed.</li>
</ul>
<p><strong>Notes:</strong></p>
<ul>
<li>For binaries building instructions, see <a href="#build-instructions">Build Instructions</a>.</li>
<li>For installation instructions for the Intel Simics Simulator for Altera® FPGAs and the Agilex™ 5 E-Series virtual platforms, refer to the following documents:<ul>
<li><a href="https://www.intel.com/content/www/us/en/products/details/fpga/development-tools/simics-virtual-platform.html">Intel® Simics® Simulator Landing Page</a> </li>
<li><a href="https://www.intel.com/content/www/us/en/docs/programmable/784383/">Intel® Simics® Simulator for Altera® FPGAs User Guide</a></li>
<li><a href="https://www.intel.com/content/www/us/en/docs/programmable/786901/">Agilex™ 5 E-Series Virtual Platform User Guide</a></li>
<li><a href="https://www.intel.com/content/www/us/en/docs/programmable/870556">Intel® Simics Simulator for Altera® FPGAs Release Notes</a></li>
</ul>
</li>
<li>U-Boot, Linux compilation, Yocto compilation, and the creation of an SD card image require a Linux host PC.
  To create these binaries, the toolchain and other software required need to be downloaded. This is described as part of the instructions in each section.</li>
<li>The Intel Simics Simulator for Altera® FPGAs is available only for Linux systems. In a system with Windows OS, this can be used through WSL.</li>
<li>In case any use case requires additional prerequisites, these are listed as part of the use case description.</li>
</ul>
<h2 id="release-content">Release Content<a class="headerlink" href="#release-content" title="Permanent link">&para;</a></h2>
<p>Altera&reg; Quartus<sup>&reg;</sup> Prime Pro Edition Version 25.3.1 and the following software component versions are used to build the binaries presented in this page: </p>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Location</th>
<th align="left">Branch</th>
<th align="left">Commit ID/Tag</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Linux</td>
<td align="left"><a href="https://github.com/altera-fpga/linux-socfpga">https://github.com/altera-fpga/linux-socfpga</a></td>
<td align="left">socfpga-6.12.43-lts</td>
<td align="left">QPDS25.3.1_REL_GSRD_PR</td>
</tr>
<tr>
<td align="left">Arm Trusted Firmware</td>
<td align="left"><a href="https://github.com/altera-fpga/arm-trusted-firmware">https://github.com/altera-fpga/arm-trusted-firmware</a></td>
<td align="left">socfpga_v2.13.1</td>
<td align="left">QPDS25.3.1_REL_GSRD_PR</td>
</tr>
<tr>
<td align="left">U-Boot</td>
<td align="left"><a href="https://github.com/altera-fpga/u-boot-socfpga">https://github.com/altera-fpga/u-boot-socfpga</a></td>
<td align="left">socfpga_v2025.10</td>
<td align="left">QPDS25.3.1_REL_GSRD_PR</td>
</tr>
<tr>
<td align="left">Yocto Project</td>
<td align="left"><a href="https://git.yoctoproject.org/poky">https://git.yoctoproject.org/poky</a></td>
<td align="left">walnascar</td>
<td align="left">latest</td>
</tr>
<tr>
<td align="left">Yocto Project: meta-altera-fpga (for GSRD 2.0)</td>
<td align="left"><a href="https://github.com/altera-fpga/meta-altera-fpga">https://github.com/altera-fpga/meta-altera-fpga</a></td>
<td align="left">walnascar</td>
<td align="left">QPDS25.3.1_REL_GSRD_PR</td>
</tr>
<tr>
<td align="left">Yocto Project: meta-intel-fpga (for Legacy GSRD)</td>
<td align="left"><a href="https://git.yoctoproject.org/meta-intel-fpga">https://git.yoctoproject.org/meta-intel-fpga</a></td>
<td align="left">walnascar</td>
<td align="left">latest</td>
</tr>
<tr>
<td align="left">Yocto Project: meta-intel-fpga-refdes (for Legacy GSRD)</td>
<td align="left"><a href="https://github.com/altera-fpga/meta-intel-fpga-refdes">https://github.com/altera-fpga/meta-intel-fpga-refdes</a></td>
<td align="left">walnascar</td>
<td align="left">QPDS25.3.1_REL_GSRD_PR</td>
</tr>
<tr>
<td align="left">Legacy GSRD</td>
<td align="left"><a href="https://github.com/altera-fpga/gsrd-socfpga">https://github.com/altera-fpga/gsrd-socfpga</a></td>
<td align="left">walnascar</td>
<td align="left">QPDS25.3.1_REL_GSRD_PR</td>
</tr>
<tr>
<td align="left">Agilex 5 GSRD 2.0 baseline design + meta_custom</td>
<td align="left"><a href="https://github.com/altera-fpga/agilex5e-ed-gsrd">https://github.com/altera-fpga/agilex5e-ed-gsrd</a></td>
<td align="left">main</td>
<td align="left">QPDS25.3.1_REL_GSRD_PR</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> The combination of the component versions indicated in the table above has been validated through the use cases described in this page and it is strongly recommended to use these versions together. If you decided to use any component with different version than the indicated, there is not warranty that this will work.</p>
<p><strong>Note:</strong> For information prior 24.2 release, please refer to <a href="https://www.rocketboards.org/foswiki/Documentation/Agilex5SoCSimicsVirtualPlatformsReferenceGuide">Linux GSRD Intel Simics Virtual Platform for Altera® 5 E-Series</a>. </p>
<p>The pre-built binaries created with GSRD 2.0 to boot from SD Card and QSPI are available at the following location. You can exercise them using the internal Simics environmet included under GSRD2.0 or also from a separate Simics environment in whcih you need to create and build the project directory manually.</p>
<table>
<thead>
<tr>
<th align="center">Boot Source</th>
<th align="center">Link</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">SD Card</td>
<td align="center">https://releases.rocketboards.org/2026.01/gsrd/agilex5_dk_a5e065bb32aes1_gsrd.baseline-a55</td>
</tr>
<tr>
<td align="center">SD Card</td>
<td align="center">https://releases.rocketboards.org/2026.01/gsrd/agilex5_dk_a5e065bb32aes1_gsrd.baseline-a76</td>
</tr>
<tr>
<td align="center">QSPI</td>
<td align="center">https://releases.rocketboards.org/2026.01/qspi/agilex5_dk_a5e065bb32aes1_qspi.baseline-a55</td>
</tr>
<tr>
<td align="center">QSPI</td>
<td align="center">https://releases.rocketboards.org/2026.01/qspi/agilex5_dk_a5e065bb32aes1_qspi.baseline-a76</td>
</tr>
</tbody>
</table>
<p>The files in these folder allow you to boot directly from SD Card. In the case of QSPI boot, the final *.rpd used to run the Simics simulation is not provided, but it contains the files needed to create the final image using the instructions provided in <a href="#build-qspi-gsrd-20">Build QSPI GSRD 2.0</a> section.</p>
<p><strong>Note:</strong>  Starting from 24.2 release, the binaries targeted for silicon can also be used with Simics simulator.</p>
<p><strong>Note:</strong> In  25.1.1 release the GSRD scripts used to  build  NAND Boot binaries were removed, so at this time it is not possible to generate these binaries and therefore the use case related to NAND Boot  were removed. If you need to generate NAND binaries to be used in the Simics model,  you can do it with the build instructions provided in the 25.1 version of this page. The NAND Boot will be supported in a future release.</p>
<table>
<thead>
<tr>
<th align="left">HPS Peripheral</th>
<th align="left">Supported</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">eMMC/SDCard &amp; Combo Phy Controllers</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">DMA Controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">XGMAC Ethernet Controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">USB 3.1 Gen1 Controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">USB 2.0 Controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">GPIO Controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">I2C Controller Initiator/Target</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">SPI Controller Initiator/Target</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">I3C Controller Initiator</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">I3C Controller Target</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">NAND Controller &amp; Combo PHY Controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">APB Timer</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">QSPI Controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">GICv3 Interrupt controller</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">EDAC RAS Driver</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">Clock manager</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">Reset manager</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">UART</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">WatchDog timer</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">System manager</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">SVC SOC FPGA manager</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">SVC FPGA firmware</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">SMMU</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">SVC FCS Crypto</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">SVC HWMON</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">SVC RSU</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">CVP</td>
<td align="left">Yes</td>
</tr>
<tr>
<td align="left">PMU</td>
<td align="left">Yes</td>
</tr>
</tbody>
</table>
<h4 id="known-issues-with-the-release">Known Issues with the Release<a class="headerlink" href="#known-issues-with-the-release" title="Permanent link">&para;</a></h4>
<p>For known issues in this release please refer to the <a href="https://www.intel.com/content/www/us/en/docs/programmable/870556.html">Intel Simics Simulator for FPGA Release page</a>.</p>
<h3 id="build-instructions-gsrd-20-baseline">Build Instructions - GSRD 2.0 Baseline<a class="headerlink" href="#build-instructions-gsrd-20-baseline" title="Permanent link">&para;</a></h3>
<p>The GSRD 2.0 was intruduced on release 25.3. The GSRD 2.0 provides a frameweork based on <strong>kas</strong> and <strong>yocto</strong>, that allows to build be HPS binaries in a more simplified and automated methodology. In the GSRD 2.0, the  <a href="https://github.com/altera-fpga/agilex5e-ed-gsrd">agilex5e-ed-gsrd</a> reposiotry integrates GSRD and GHRD components, which differs from the legacy GHRD/GSRD build flow in whcih the GSRD and GHRD components were in separate repositories. 
For the  Simics simulation case specific, the GSRD 2.0 also provides a Simics simulation environment that consist of some components (scripts and directories) included in the common repository. This simulation environment allows to run Simics simulations from the GSRD/GHRD build environment using directly the binaries produced from the build. The following steps shows how to produced the required binaries that can be used in Simics simulation.</p>
<p>For more information about the GSRD 2.0 for Agilex 5 device, please refer to <a href="https://altera-fpga.github.io/rel-25.3.1/embedded-designs/agilex-5/e-series/premium/gsrd/ug-gsrd-agx5e-premium/#gsrd-20-with-kas-build-system">https://altera-fpga.github.io/rel-25.3.1/embedded-designs/agilex-5/e-series/premium/gsrd/ug-gsrd-agx5e-premium/#gsrd-20-with-kas-build-system</a>.</p>
<h4 id="set-up-the-environment">Set Up the Environment<a class="headerlink" href="#set-up-the-environment" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>agilex5_gsrd2.0_a55
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>mkdir<span class="w"> </span>agilex5_gsrd2.0_a55
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nb">cd</span><span class="w"> </span>agilex5_gsrd2.0_a55
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">TOP_FOLDER</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GITCONFIG_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.gitconfig&quot;</span>
</code></pre></div>
<p>Enable Quartus tools to be called from command line:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">QUARTUS_ROOTDIR</span><span class="o">=</span>~/altera_pro/25.3.1/quartus/
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$QUARTUS_ROOTDIR</span>/bin:<span class="nv">$QUARTUS_ROOTDIR</span>/linux64:<span class="nv">$QUARTUS_ROOTDIR</span>/../qsys/bin:<span class="nv">$PATH</span>
</code></pre></div>
<h4 id="build-hardware-design">Build Hardware Design<a class="headerlink" href="#build-hardware-design" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>rm<span class="w"> </span>-rf<span class="w"> </span>agilex5_soc_devkit_ghrd_a55
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>mkdir<span class="w"> </span>agilex5_soc_devkit_ghrd_a55<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>agilex5_soc_devkit_ghrd_a55
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>wget<span class="w"> </span>https://github.com/altera-fpga/agilex5e-ed-gsrd/releases/download/QPDS25.3.1_REL_GSRD_PR/a5ed065es-premium-devkit-oobe-baseline-a55.zip
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>unzip<span class="w"> </span>a5ed065es-premium-devkit-oobe-baseline-a55.zip
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>rm<span class="w"> </span>-f<span class="w"> </span>a5ed065es-premium-devkit-oobe-baseline-a55.zip
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>make<span class="w"> </span>baseline_a55-install-core-rbf
</code></pre></div>
<p>The output from this stage is:</p>
<ul>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/output_files/baseline_a55_hps_debug.core.rbf - Phase 2 hardware design.</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux - Clean GSRD 2.0 software direcotry (not buillt yet).</li>
</ul>
<h4 id="build-sd-card-gsrd-20">Build SD Card GSRD 2.0<a class="headerlink" href="#build-sd-card-gsrd-20" title="Permanent link">&para;</a></h4>
<p>This section provides the instructions needed to build the HPS binaries needed to boot from SD Card in Simics. </p>
<p><strong>Note:</strong> Starting on release 25.3.1, the GSRD2.0 provides separate directories based on the selection of the boot core that could be either a55 (core 0) or a76 (core 2). In the case of Simics, the selection of the boot core is done through a parameter in the target script (simics/linux/sdmmc_boot/sdmmc_gsrd.simics), so in this section we just provide instructions to build binaries using the <strong>a55</strong> directory, but the same instructions applies for the <strong>a76</strong>. In the <a href="#exercising-simics-simulation-from-gsrd-20">Exercising Simics Simulation from GSRD 2.0</a> section are provided instructions about what need to be changed to run with the <strong>a76</strong> as the boot core.</p>
<p><strong>Note:</strong> To Build the GSRD 2.0 you need to have the <strong>KAS</strong> version 4.8.2 in your Linux build machine. You also need also install <code>python3-newt</code>, and <code>python3.10-venv</code> packages. You can get them with:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python3-newt<span class="w"> </span>python3.10-venv
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>kas
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>$<span class="w"> </span>kas<span class="w"> </span>--version
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>kas<span class="w"> </span><span class="m">4</span>.8.2<span class="w"> </span><span class="o">(</span>configuration<span class="w"> </span>format<span class="w"> </span>version<span class="w"> </span><span class="m">19</span>,<span class="w"> </span>earliest<span class="w"> </span>compatible<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="o">)</span>
</code></pre></div>
The instructions to build the GSRD 2.0 to boot from SD Card are shown next:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">#Optional to Cash yocto downloads and sstate dirs</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">BB_ENV_PASSTHROUGH_ADDITIONS</span><span class="o">=</span><span class="s2">&quot;DL_DIR SSTATE_DIR&quot;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">DL_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/tasks/yocto/downloads&quot;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">SSTATE_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/tasks/yocto/sstate&quot;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c1"># Build sd binaries with kas</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>cp<span class="w"> </span>-r<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="c1"># Add some tools used to exercise use cases</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;/MACHINE = &quot;agilex5e&quot;/a\\n  add-tools: |\n    CORE_IMAGE_EXTRA_INSTALL \+= \&quot;gdbserver devmem2 openssh\&quot;&#39;</span><span class="w"> </span>kas.yml
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="nb">time</span><span class="w"> </span>./build.sh<span class="w"> </span>../../output_files/baseline_a55_hps_debug.core.rbf<span class="w"> </span>sd
</code></pre></div>
<p>The output files that will be used to simulate with Simics are:</p>
<ul>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/deploy/images/agilex5e/u-boot-spl-dtb.bin</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/deploy/images/agilex5e/gsrd-console-image-agilex5e.rootfs.wic</li>
</ul>
<h4 id="build-qspi-gsrd-20">Build QSPI GSRD 2.0<a class="headerlink" href="#build-qspi-gsrd-20" title="Permanent link">&para;</a></h4>
<p>This section provides the instructions needed to build the HPS binaries needed to boot from QSPI Card in Simics. </p>
<p><strong>Note:</strong> Starting on release 25.3.1, the GSRD2.0 provides separate directories based on the selection of the boot core that could be either a55 (core 0) or a76 (core 2). In the case of Simics, the selection of the boot core is done through a parameter in the target script (simics/linux/qspi_boot/qspi_gsrd.simics), so in this section we just provide instructions to build binaries using the <strong>a55</strong> directory, but the same instructions applies for the <strong>a76</strong>. In the <a href="#exercising-simics-simulation-from-gsrd-20">Exercising Simics Simulation from GSRD 2.0</a> section are provided instructions about what need to be changed to run with the <strong>a76</strong> as the boot core.</p>
<p><strong>Note:</strong> To Build the GSRD 2.0 you need to have the <strong>KAS</strong> version 4.8.2 in your Linux build machine. You also need also install <code>python3-newt</code>, and <code>python3.10-venv</code> packages. You can do this with:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python3-newt<span class="w"> </span>python3.10-venv
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>kas
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>$<span class="w"> </span>kas<span class="w"> </span>--version
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>kas<span class="w"> </span><span class="m">4</span>.8.2<span class="w"> </span><span class="o">(</span>configuration<span class="w"> </span>format<span class="w"> </span>version<span class="w"> </span><span class="m">19</span>,<span class="w"> </span>earliest<span class="w"> </span>compatible<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="o">)</span>
</code></pre></div>
The instructions to build the GSRD 2.0 to boot from QSPI are shown next:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">#Optional to Cash yocto downloads and sstate dirs</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">BB_ENV_PASSTHROUGH_ADDITIONS</span><span class="o">=</span><span class="s2">&quot;DL_DIR SSTATE_DIR&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">DL_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/tasks/yocto/downloads&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">SSTATE_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/tasks/yocto/sstate&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1"># Build qspi binaries with kas</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>cp<span class="w"> </span>-r<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1"># Add some tools used to exercise use cases</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;/MACHINE = &quot;agilex5e&quot;/a\\n  add-tools: |\n    CORE_IMAGE_EXTRA_INSTALL \+= \&quot;gdbserver devmem2 openssh\&quot;&#39;</span><span class="w"> </span>kas.yml
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="nb">time</span><span class="w"> </span>./build.sh<span class="w"> </span>../../output_files/baseline_a55_hps_debug.core.rbf<span class="w"> </span>qspi
</code></pre></div>
<p>The output files that will be used to simulate with Simics are:</p>
<ul>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/u-boot-spl-dtb.bin</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/u-boot-spl-dtb.hex</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/u-boot.itb</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/console-image-minimal-agilex5e.rootfs_nor.ubifs</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/kernel.itb</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/boot.scr.uimg</li>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/uboot.env</li>
</ul>
<p>At this point you can build the *.rpd file used in Simics simulation using the Simics environment  integrated into the GSRD or building this apart from the GSRD environment (i.e. independent directory in which you manually create, deploy and build the Simics project.</p>
<p>The following step tells you how to build the final *.rpd to be used outside of the GSRD Simics environment. For this,  you require a *.pfg file with the following layout:</p>
<table>
<thead>
<tr>
<th align="left">Partition</th>
<th align="left">MTD Partition</th>
<th align="left">UBI Volume</th>
<th align="left">Volume Name</th>
<th align="left">Type</th>
<th align="left">Image/Individual File</th>
<th align="left">Group File</th>
<th align="left">Start Addr</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">BOOT_INFO</td>
<td align="left">0 <br>(u-boot)</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">RAW</td>
<td align="left">Bootinfo (Empty)</td>
<td align="left">N/A</td>
<td align="left">0x0</td>
<td>2MB</td>
</tr>
<tr>
<td align="left">P1</td>
<td align="left">0<br> (u-boot)</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">RAW</td>
<td align="left">bitstream (FPGA image, SDM firmware)</td>
<td align="left">N/A</td>
<td align="left">0x00200000</td>
<td>~1 MB</td>
</tr>
<tr>
<td align="left">U_BOOT</td>
<td align="left">0 <br>(u-boot)</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">RAW</td>
<td align="left">u-boot.itb</td>
<td align="left">N/A</td>
<td align="left">0x04000000</td>
<td>AUTO</td>
</tr>
<tr>
<td align="left">HPS</td>
<td align="left">1 <br>(root)</td>
<td align="left">0<br>1<br>2<br>3<br>4</td>
<td align="left">env<br>script<br>kernel<br>dtb<br>rootfs</td>
<td align="left">UBI<br>UBI<br>UBI<br>UBI<br>UBIFS</td>
<td align="left">u-boot.env<br>u-boot.scr<br>kernel.itb<br>kernel.dtb<br>rootfs.ubifs</td>
<td align="left"><br><br>root.ubi</td>
<td align="left">0x04200000<br>Auto<br>Auto<br>Auto<br>Auto</td>
<td>256KB<br>128KB<br>24MB<br>256KB<br>160MB</td>
</tr>
</tbody>
</table>
<p>You also require to use the  <strong>ubinize</strong> command and the <strong>ubinize.cfg</strong> file to create the .ubi needed to create the image. These files are provided as part of the GSRD repository (the <strong>ubinize</strong> command is also available from the Ubuntu <strong>mtd-tools</strong> package).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>rm<span class="w"> </span>-rf<span class="w"> </span>qspi_rpd
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>mkdir<span class="w"> </span>qspi_rpd<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>qspi_rpd
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>cp<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/simics/linux/qspi_boot/qspi_flash_image_agilex5-final.pfg<span class="w"> </span>.
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>cp<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/simics/linux/qspi_boot/ubinize.cfg<span class="w"> </span>.
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>ln<span class="w"> </span>-s<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/output_files/baseline_a55_hps_debug.sof<span class="w"> </span>agilex5_factory.sof<span class="w"> </span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>ln<span class="w"> </span>-s<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/u-boot-spl-dtb.hex<span class="w"> </span>simics-u-boot-spl-dtb.hex
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>ln<span class="w"> </span>-s<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/u-boot.itb<span class="w"> </span>u-boot-itb.bin
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>ln<span class="w"> </span>-s<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/uboot.env<span class="w"> </span>uboot.env
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>ln<span class="w"> </span>-s<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/boot.scr.uimg<span class="w"> </span>boot.scr.uimg
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>ln<span class="w"> </span>-s<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/kernel.itb<span class="w"> </span>kernel.itb
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>ln<span class="w"> </span>-s<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/console-image-minimal-agilex5e.rootfs_nor.ubifs<span class="w"> </span>rootfs.ubifs
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/simics/linux/qspi_boot/ubinize<span class="w"> </span>-o<span class="w"> </span>hps.bin<span class="w"> </span>-p<span class="w"> </span><span class="m">65536</span><span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>-s<span class="w"> </span><span class="m">1</span><span class="w"> </span>ubinize.cfg
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>quartus_pfg<span class="w"> </span>-c<span class="w"> </span>qspi_flash_image_agilex5-final.pfg
</code></pre></div>
<p>The following *.rpd is created after this step:</p>
<ul>
<li>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/qspi_rpd/flash_image_jic.rpd</li>
</ul>
<p>Once that you have build the binaries from GSRD 2.0, you can exercises the basic GSRD 2.0  use cases listed in the <a href="#exercising-simics-simulation-from-gsrd-20">Exercising Simics Simulation from GSRD 2.0</a></p>
<h2 id="agilextm-5-simics-virtual-platform-universal">Agilex™ 5  Simics Virtual Platform - Universal<a class="headerlink" href="#agilextm-5-simics-virtual-platform-universal" title="Permanent link">&para;</a></h2>
<p>Note: The Agilex 5 Simics Virtual Platform - Universal was initially developed to support the Agilex 5 E-Series device, but it also supports the Agilex 5 D-Series device which matches the B0 steping of the E-Series device. In this page we refer to Agilex 5 E-Series,  but it also applies for the Agilex 5 D-Series, unless other thing is indicated.</p>
<p>This virtual platform is associated with the <strong>agilex5e-universal.simics</strong> target script. The following figure shows a high-level block diagram of this virtual platform. In this diagram, you can observe the main components that can be exercised during the execution of the use cases described later on this page. The implementation of this virtual platform allows all the peripherals in the HPS to be enabled at the same time, which is not possible in physical hardware implementations. The pinmux and Combo PHY impose restrictions on the physical hardware. In the case of the pinmux in the physical hardware, you can enable only a subset of peripherals simultaneously because there are not enough pins if all pins are enabled simultaneously. This limitation does not exist in the Agilex™ 5 E-Series Universal Virtual Platform. For the Combo PHY, the physical hardware allows only one flash controller (NAND or SDMMC) to be enabled at a time. However, the virtual platform allows both to be enabled simultaneously.</p>
<p><a class="glightbox" href="../images/agilex5e_vp_block_24p2.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/agilex5e_vp_block_24p2.jpg" /></a></p>
<p>In this block diagram:</p>
<ul>
<li>The architecture of the virtual platform follows a hierarchy that goes from <strong>target script → system → board → fpga → qsys_top → hps_subsystem → agilex_hps,</strong> which is aligned with the Simics virtual platform development philosophy that tries to match with the real golden hardware reference design (GHRD) architecture.</li>
<li>The <strong>target script</strong> instantiates the <strong>system component</strong>, provides the CLI run time commands, and creates the network configuration. This script also defines the parameters that configure other components.</li>
<li>The <strong>system component</strong> represents the complete virtual platform system and instantiates the <strong>board component</strong>. This component is implemented in a Python file.</li>
<li>The <strong>board component</strong> represents the model of a PCB (analogous to a development kit). It includes the instance of the <strong>FPGA component</strong> and all board components connected to the FPGA (for example, flash devices, ethernet PHY). The GPIO loopback connection is implemented here. This component is implemented in a Python file.</li>
<li>The <strong>FPGA component</strong> represents the top-level hardware design model in the Quartus Prime software project design that targets the Agilex™ 5 E-Series SoC FPGA device. It matches the logical hierarchy of the fictitious GHRD that the Agilex™ 5 E-Series Universal Virtual Platform models. This component only instantiates the qsys_top component and is implemented as a Python script.</li>
<li>The <strong>qsys_top</strong> component matches the design's top view being modeled and corresponds to the system seen from the Platform Designer under the GHRD (soc_inst instance). The HPS subsystem component and the components included as part of the FPGA fabric design are instantiated under the qsys_top component. The qsys_top component is modeled as a Python script.</li>
<li>The <strong>FPGA fabric</strong> design corresponds to the logic model implemented in the FPGA fabric.</li>
<li>The <strong>HPS subsystem</strong> component corresponds to the model of the module that integrates all components associated with the HPS in the Agilex™ 5 E-Series device. It includes the HPS models, SDM mailbox, and EMIF model.</li>
<li>The <strong>Agilex™ 5 HPS component</strong> in the virtual platform is an Intel Simics model that corresponds to the Hard Processor System Agilex™ 5 FPGA IP in the  Quartus Prime software.</li>
<li>The embedded software running in the HPS component is expected to be the same that can be run in the real silicon. Exercising the HPS-embedded software in this virtual platform allows you to debug the software using the Simics debug capabilities.</li>
</ul>
<h3 id="main-features-supported-by-the-altera-agilextm-5-e-series-universal-virtual-platform">Main Features Supported by the Altera® Agilex™ 5 E-Series Universal Virtual Platform<a class="headerlink" href="#main-features-supported-by-the-altera-agilextm-5-e-series-universal-virtual-platform" title="Permanent link">&para;</a></h3>
<h4 id="boot-an-operative-system">Boot an Operative System<a class="headerlink" href="#boot-an-operative-system" title="Permanent link">&para;</a></h4>
<p>The Agilex™ 5 E-Series Virtual Platform allows exercising the HPS software in all parts of the boot flow for Linux* and Zephyr* operating systems. You can exercise the boot flow from a flash device such as an SD Card, NAND flash, or QSPI flash. Booting from an SD Card is the default boot mode.</p>
<h4 id="basic-ethernet">Basic Ethernet<a class="headerlink" href="#basic-ethernet" title="Permanent link">&para;</a></h4>
<p>The basic ethernet functionality is configured from the <strong>agilex5e-universal.simics target</strong> script. The virtual platform simulates a network switch and a router in the simulated environment using the service node component referred to as <strong>service_node_cmp0</strong>. This provides a TFTP server to transfer files from the host PC to the target system and a DHCP server to assign an IP to the target system dynamically.</p>
<p>The service node acts as a simulated environment router configured with the 10.10.0.1 IP address. The DHCP service is configured to assign an IP in the range of 10.10.0.100 and 10.10.0.199. The service node is also configured to provide Network Address Port Translation (NAPT) for outgoing traffic, allowing it to interact with the host PC enabling TFTP, SCP, and SSH services.</p>
<p>The target device provides ethernet functionality using the XGMAC/TSN devices, enabling an <strong>ethX</strong> ethernet link. This link connects with an ethernet switch instantiated in the target script. Only the TSN0 instance is connected to this switch using the Marvell ethernet Phy instantiated at the <strong>board</strong> level.</p>
<p>Basic ethernet support in the virtual platform allows the target software to set a MAC address locally to allow communication over the network. This supports all key transport layers of a protocol, such as TCP, UDP, and ICMP. Basic ethernet allows communication over IPv4 and IP6 protocols while supporting different hardware offloading features. The virtual platform supports L2, L3, and L4 filtering and can show network statistics.</p>
<h4 id="cpu-power-on-and-boot-core-selection">CPU Power-On and Boot Core Selection<a class="headerlink" href="#cpu-power-on-and-boot-core-selection" title="Permanent link">&para;</a></h4>
<p>The virtual platform supports setting the CPU power-on settings and the CPU boot core selection. This configuration is defined at the target script level (<strong>agilex5e-universal.simics</strong>) for this virtual platform. Based on the configuration, the virtual platform exposes only the appropriate number of cores available to the target software. When multiple CPUs are enabled, the virtual platform is configured to support symmetric multiprocessing (SMP).</p>
<h4 id="reset-flow">Reset Flow<a class="headerlink" href="#reset-flow" title="Permanent link">&para;</a></h4>
<p>The virtual platform is designed to support all key reset flows described in the Agilex™ 5 E-Series Technical Reference Manual. Reset flows initiated by the CPU are simulated through the same mechanism in which the CPU writes to the appropriate addresses (reset manager device). Resets triggered by the external hardware signaling are simulated with Simics' commands.</p>
<table>
<thead>
<tr>
<th align="left">Reset Type</th>
<th align="left">Recipe</th>
<th align="left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Power-on reset</td>
<td align="left">Not supported</td>
<td align="left">The power-on reset is not supported as its effect is equivalent to restarting the simulation in a virtual platform simulation. However, if this is required for some exceptional use cases, you can trigger the cold reset instead, as this resets most domains.</td>
</tr>
<tr>
<td align="left">HPS cold reset</td>
<td align="left"><strong>system.board.hps-cold-reset</strong></td>
<td align="left">Simulates toggling the <strong>HPS_COLD_nRESET</strong> pin using the command registered in the board component.</td>
</tr>
<tr>
<td align="left">HPS warm reset</td>
<td align="left"><strong>system.board.fpga.soc_inst.hps_subsys.agilex_hps.hps-warm-reset</strong></td>
<td align="left">Simulates a warm reset of the HPS without triggering any other event. This type of reset is not enabled through external means in hardware. The command is registered in the HPS component.</td>
</tr>
<tr>
<td align="left">Watchdog reset</td>
<td align="left">Software-based</td>
<td align="left">The watchdog timer peripheral in the HPS can be configured and enabled through software. When the watchdog expires, the HPS resets (only the trigger of warm reset is supported).</td>
</tr>
</tbody>
</table>
<h4 id="gpio-loopback-connection">GPIO Loopback Connection<a class="headerlink" href="#gpio-loopback-connection" title="Permanent link">&para;</a></h4>
<p>The virtual platform supports the feature that allows creating a loopback connection in certain pins in GPIO0 and GPIO1 ports. This is implemented at the <strong>board</strong> component level. The loopback implementation directly connects GPIO <strong>in</strong> and <strong>out</strong> pins of the GPIO ports in both directions to reflect the same state on those pins. In each GPIO port, the pair of pins that are connected are shown in the following table:</p>
<table>
<thead>
<tr>
<th align="left">Pin Source</th>
<th align="left">Pin Destination</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">0</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">6</td>
</tr>
<tr>
<td align="left">18</td>
<td align="left">19</td>
</tr>
<tr>
<td align="left">20</td>
<td align="left">21</td>
</tr>
</tbody>
</table>
<p>The Simics command to activate the GPIO loop-back connection is <code>system.board.create-gpio-loopback</code>.</p>
<p><strong>Note:</strong> The loopback connection is activated by default from the target script.</p>
<h4 id="usb-disks-hot-plug-support">USB Disks Hot-Plug Support<a class="headerlink" href="#usb-disks-hot-plug-support" title="Permanent link">&para;</a></h4>
<p>The virtual platform instantiates three USB disks that support hot-plugging by using Simics CLI commands to emulate plugging and unplugging the USB disks.</p>
<p>The current connection of the USB disks in this virtual platform is indicated in the following table:</p>
<table>
<thead>
<tr>
<th align="left">Disk</th>
<th align="left">Type</th>
<th align="left">Slot</th>
<th align="left">USB Controller</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">usb3_disk</td>
<td align="left">SuperSpeed (SS)</td>
<td align="left">usb3</td>
<td align="left">USB 3.1 Gen 1</td>
</tr>
<tr>
<td align="left">usb3_hs_disk</td>
<td align="left">High Speed (HS)</td>
<td align="left">usb2</td>
<td align="left">USB 3.1 Gen 1</td>
</tr>
<tr>
<td align="left">usbotg_disk</td>
<td align="left">High Speed (HS)</td>
<td align="left">otg</td>
<td align="left">USB 2.0 OTG</td>
</tr>
</tbody>
</table>
<h4 id="fpga-fabric-example-design">FPGA Fabric Example Design<a class="headerlink" href="#fpga-fabric-example-design" title="Permanent link">&para;</a></h4>
<p>The FPGA Fabric example design includes one instance of a On-Chip memory design exist in the FGPA fabric model. This is located directly under the qsys_top component. This On-Chip memory instance has a size of 1 MB and is connected to the HPS2FPGA bridge. This On-Chip memory model supports reading and writing to any memory location. You can access the memory designs using direct memory access to the memory locations in which these are mapped under the HPS2FPGA bridge memory space or by accessing the memories example design as a memory space or by accessing the memories example design as a memory space.</p>
<p>The mapping of the memory instance is defined as follows:</p>
<table>
<thead>
<tr>
<th align="left">Example Design Name</th>
<th align="left">Bridge</th>
<th align="left">Size</th>
<th align="left">Start address</th>
<th align="left">End Address</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">example_design</td>
<td align="left">hps2fpga</td>
<td align="left">1 MB</td>
<td align="left">0x0040000000</td>
<td align="left">0x00400FFFFF</td>
</tr>
</tbody>
</table>
<p>The memory instance in the FPGA fabric example design receives a parameter named <strong>base_addr</strong>. The description of this parameter is described as follows:</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Range</th>
<th align="left">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">base_addr</td>
<td align="left">An offset value that indicates the mapping of the instance taking as reference the <strong>Start Address</strong> value defined in the previous table.</td>
<td align="left">Integer</td>
<td align="left">0x00000000</td>
</tr>
</tbody>
</table>
<p>The FPGA fabric example design also includes a Peripheral subsystem which is integrated by 3 I/O IP components, each one to access or allow to control a set of LEDs, a Dip switch and a push button. The peripheral subsystem is mapped into the lwhps2pga bridge starting at a base address of 0x20000000. These components includes some internal registers that allow to control the state of the output (for LED component) and also to read state of the input of push button and dip-switch components. The mapping of these components and their registers are shown next:</p>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Mapping Address</th>
<th align="left">Range</th>
<th align="left">Register Information</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">button_pio</td>
<td align="left">0x00010060</td>
<td align="left">0x10</td>
<td align="left">[0x0] - DATA[0:0]: Read state of the button. Read Only. [0x8] - INTERRUPTMASK[0:0]- Enable('1’)/Disable('0’) the interrupt trigger. When dsiable, the interrupt is cleared. Read/Write</td>
</tr>
<tr>
<td align="left">dipsw_pio</td>
<td align="left">0x00010070</td>
<td align="left">0x10</td>
<td align="left">[0x0] - DATA[0:0]: Read state of the button. Read Only. [0x8] - INTERRUPTMASK[0:0]- Enable('1’)/Disable('0’) the interrupt trigger. When dsiable, the interrupt is cleared. Read/Write</td>
</tr>
<tr>
<td align="left">led_pio</td>
<td align="left">0x00010080</td>
<td align="left">0x10</td>
<td align="left">[0x0] - DATA[31:0]: Set and read the state of the LEDs. Read/Write</td>
</tr>
</tbody>
</table>
<p>The DIP switch and push button component can trigger an interrupt to the HPS on the assertion of the corresponding input signal.</p>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Interrupt</th>
<th align="left">HPS Interrupt Connection</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">button_pio</td>
<td align="left">periph_button_irq</td>
<td align="left">f2s_fpga_irq[0] – SIP 49</td>
</tr>
<tr>
<td align="left">dipsw_pio</td>
<td align="left">periph_dipsw_irq</td>
<td align="left">f2s_fpga_irq[1] – SIP 50</td>
</tr>
</tbody>
</table>
<p><a class="glightbox" href="../images/exampleDesignFpgaFabric_24p1.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/exampleDesignFpgaFabric_24p1.jpg" /></a></p>
<h4 id="fpga-to-hps-bridges">FPGA-to-HPS Bridges<a class="headerlink" href="#fpga-to-hps-bridges" title="Permanent link">&para;</a></h4>
<p>The FPGA-To-HPS bridges provide a way in which the FPGA fabric IPs can interact with the HPS subsystem and the SDRAM. The bridge implementation includes two new memory spaces in the FPGA logic model that are used to send read and write transactions to the HPS or SDRAM component from the FPGA logic passing through the FPGA-to-HPS bridges.</p>
<ul>
<li>FPGA to HPS bridge (FPGA2HPS): Connects the FPGA2HPS memory space with the HPS component.</li>
<li>FPGA to SDRAM bridge (FPGA2SDRAM): Connects the F2SDRAM memory space with the HPS component.</li>
</ul>
<p>You can send read and write transactions through each one of the bridges from the Intel Simics CLI.</p>
<h4 id="b0-silicon-features-selection">B0 Silicon Features Selection<a class="headerlink" href="#b0-silicon-features-selection" title="Permanent link">&para;</a></h4>
<p>The Agilex 5 E-Series Universal Virtual Platform allows you to select the stepping
silicon features that the Agilex 5 Simics model supports by stepping the target script
parameter accepting the value of A0 or B0. The B0 stepping corresponds to the HPS model of the Agilex 5 D-Series.</p>
<p><strong>Note:</strong> Agilex 5 E-Series Universal Virtual Platform stepping features support is released in
the 24.1 Intel Simics Simulator for Altera® FPGAs release although the default stepping
during the project deployment remains being A0. You can override the default
stepping using the stepping parameter from the target script. In this case, the B0
features are enabled in the Agilex 5 E-Series model.</p>
<h4 id="uart1uart2-serial-console-selection">UART1/UART2 Serial Console Selection<a class="headerlink" href="#uart1uart2-serial-console-selection" title="Permanent link">&para;</a></h4>
<p>The Agilex 5 Universal virtual platform supports creating a serial console that could be connected to UART0 (default one) or UART1. This feature provides more flexibility to the virtual platform allowing you to match your board. The selection of the serial console to be displayed is controlled by the <strong>$create_hps_serial0_console</strong> and <strong>$create_hps_serial1_console</strong> configuration parameters. These 2 parameters allow you to enable creating the corresponding serial console. A serial console object is created and connected when the corresponding parameter is set to TRUE. Note that is possible to have both serial consoles enabled or both disabled.</p>
<h3 id="configurable-parameters-in-the-altera-agilextm-5-e-series-universal-virtual-platform">Configurable Parameters in the Altera® Agilex™ 5 E-Series Universal Virtual Platform<a class="headerlink" href="#configurable-parameters-in-the-altera-agilextm-5-e-series-universal-virtual-platform" title="Permanent link">&para;</a></h3>
<p>The parameters that you can configure are shown in the following table:</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Range</th>
<th align="left">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>sd_image_filename</strong></td>
<td align="left">Name of the SD image to load into the SD memory model of the board component. Supported formats are <code>.img</code> and <code>.wic</code>.</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>fsbl_image_filename</strong></td>
<td align="left">First-stage boot loader file. The supported format is <code>.bin</code>.</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>hps_boot_core</strong></td>
<td align="left">The CPU to use as the boot core.</td>
<td align="left">Integer [0,2]</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left"><strong>hps_core0_1_power_on</strong></td>
<td align="left">The power-on states of CPU 0/1.</td>
<td align="left">Boolean</td>
<td align="left">True</td>
</tr>
<tr>
<td align="left"><strong>hps_core2_power_on</strong></td>
<td align="left">The power-on states of CPU 2.</td>
<td align="left">Boolean</td>
<td align="left">True</td>
</tr>
<tr>
<td align="left"><strong>hps_core3_power_on</strong></td>
<td align="left">The power-on states of CPU 3.</td>
<td align="left">Boolean</td>
<td align="left">True</td>
</tr>
<tr>
<td align="left"><strong>create_hps_serial0_console</strong></td>
<td align="left">Choose whether to create or not a console component and connect it to the <code>serial0</code> peripheral of the HPS IP.</td>
<td align="left">Boolean</td>
<td align="left">True</td>
</tr>
<tr>
<td align="left"><strong>create_hps_eth0_network</strong></td>
<td align="left">Choose whether to create or not a basic ethernet network and connect the <code>ethX</code> peripheral of the HPS IP to this.</td>
<td align="left">Boolean</td>
<td align="left">True</td>
</tr>
<tr>
<td align="left"><strong>create_hps_sd_card</strong></td>
<td align="left">Create the SD card in the board component and connect it to the SD/eMMC controller. You can set either the create_hps_sd_card or create_hps_mmc parameter to true at a time.</td>
<td align="left">Boolean</td>
<td align="left">True</td>
</tr>
<tr>
<td align="left"><strong>create_hps_mmc</strong></td>
<td align="left">Create the eMMC card in the board component and connect it to the SD/eMMC controller. You can set either the create_hps_sd_card or create_hps_mmc parameter to true at a time.</td>
<td align="left">Boolean</td>
<td align="left">False</td>
</tr>
<tr>
<td align="left"><strong>nand_data_image_filename</strong></td>
<td align="left">Name of the NAND image to load into the NAND memory model of the board component. The supported format is raw binary (.bin or .craff).</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>nand_spare_image_filename</strong></td>
<td align="left">Name of the NAND spare image to load into the NAND memory model of the board component. The supported format is raw binary (.bin or .craff).</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>qspi_image_filename</strong></td>
<td align="left">Name of the QSPI image to load into the QSPI memory model of the board component. The supported format is raw binary (.bin or .craff).</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>usb3_image_filename</strong></td>
<td align="left">Name of the USB disk image corresponding to the SuperSpeed disk in the board component connected to the USB 3.1 controller.</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>usb3_hs_image_filename</strong></td>
<td align="left">Name of the USB disk image corresponding to the high-speed disk in the board component connected to the USB 3.1 controller.</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>usb_otg_image_filename</strong></td>
<td align="left">Name of the USB disk image corresponding to the high-speed disk in the board component connected to the USB 2.0 OTG controller.</td>
<td align="left">Filename string</td>
<td align="left">""</td>
</tr>
<tr>
<td align="left"><strong>hps_cpu_freq_mhz</strong></td>
<td align="left">ARM cores frequency in Megahertz (MHz).</td>
<td align="left">Integer [400 - 1500]</td>
<td align="left">400</td>
</tr>
<tr>
<td align="left"><strong>stepping</strong></td>
<td align="left">Select the silicon features that the Agilex 5 Simics model supports.</td>
<td align="left">A0 or B0. D-Series corresponds to B0 device.</td>
<td align="left">A0</td>
</tr>
<tr>
<td align="left"><strong>create_hps_serial0_console<br>create_hps_serial1_console</strong></td>
<td align="left">Create a console component (serial console) and connect it to the corresponding UART controller peripheral in the Hard Processor System Agilex 5 FPGA IP.<br/><strong>create_hps_serial0_console</strong> is for UART0 <br/><strong>create_hps_serial1_console</strong> is for UART1.</td>
<td align="left">Boolean</td>
<td align="left">serial0: True<br>serial1: False</td>
</tr>
</tbody>
</table>
<h3 id="exercising-simics-simulation-from-gsrd-20">Exercising Simics Simulation from GSRD 2.0<a class="headerlink" href="#exercising-simics-simulation-from-gsrd-20" title="Permanent link">&para;</a></h3>
<p>The GSRD 2.0 build framework is provided with the capability to simulate with Simics some reference use cases using the binaries built with this framework. The components included as part of the GSRD repository are listed next. These are included at <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_*/simics/linux</strong> directory.</p>
<ul>
<li><a href="https://github.com/altera-fpga/agilex5e-ed-gsrd/blob/main/a5ed065es-premium-devkit-oobe/baseline/simics/linux/runsimics.sh">runsimics.sh</a> : This script is in charge of deploy the Simics project (under $TOP_FOLDER/agilex5_soc_devkit_ghrd*/simics/linux which becomes the Simics project directory) and build it,  similarly to what is described in the <a href="#simulation-setup">Simulation Setup section</a>. This script also gathers the required binaries to run the simulation updating the path of these in the target script. The script receives as parameter the device used to boot  along with the path of the location of the binaries. <br>
Parameters:<br>  1. <strong>Boot mode:</strong> <strong>sdmmc</strong> to boot from sdcard or <strong>qspi</strong> to boot from QSPI. <br>  2. <strong>Binaries path:</strong> Path where the binares were built. The binaries needed could be the ones listed as output of the <a href="#build-sd-card-gsrd-20">Build SD Card GSRD 2.0</a> and <a href="#build-qspi-gsrd-20">Build QSPI GSRD 2.0</a> sections, but the binaries could be taken from any other source. In some cases, this script also calls other required script needed to post-process the binaries provided to build the final set of binaries to be consumed by Simics.</li>
</ul>
<ul>
<li><a href="https://github.com/altera-fpga/agilex5e-ed-gsrd/tree/main/a5ed065es-premium-devkit-oobe/baseline/simics/linux/sdmmc_boot">sdmmc_boot</a> directory: This directory is used to the exercise the boot for SD Card use case. This includes  <a href="https://github.com/altera-fpga/agilex5e-ed-gsrd/blob/main/a5ed065es-premium-devkit-oobe/baseline/simics/linux/sdmmc_boot/sdmmc_gsrd.simics">sdmmc_gsrd.simics</a> target script which defines the parameters needed to boot in this mode. The .simics target script calls the Agilex 5 Universal Virtual Platform target script which is the one that configures this virtual platform, loading all the components needed.</li>
<li><a href="https://github.com/altera-fpga/agilex5e-ed-gsrd/tree/main/a5ed065es-premium-devkit-oobe/baseline/simics/linux/qspi_boot">qspi_boot</a> directory: This directory is used to the exercise the QSPI boot mode. This includes the <a href="https://github.com/altera-fpga/agilex5e-ed-gsrd/blob/main/a5ed065es-premium-devkit-oobe/baseline/simics/linux/qspi_boot/qspi_gsrd.simics">qspi_gsrd.simics</a> target script which defines the parameters needed to boot in this mode.  In this directory, there are some other files that are used to create the final .rpd file needed to boot from QSPI. The .rpd file is created with the qspi_flash_img.sh script and qspi_flash_image_agilex5-final.pfg which are also included in this directory. This script requires that Quartus and the ARM toolchain be included as part of the Linux $PATH. The .simics target script in this directory calls the Agilex 5 Universal Virtual Platform target script which is the one that configures this virtual platform, loading all the components needed to run the simulation.</li>
</ul>
<p>The boot modes supported by the GSRD 2.0 are:</p>
<ul>
<li>Booting from U-Boot to Linux from SD Card using Agilex 5 Universal Virtual Platform</li>
<li>Booting from U-Boot to Linux from QSPI using Agilex 5 Universal Virtual Platform</li>
</ul>
<p>The use cases that are listed in the <a href="#use-cases-supported-by-the-agilextm-5-e-series-universal-virtual-platform">Use Cases Supported by the Agilex™ 5 E-Series Universal Virtual Platform</a> are also supported, but require manual update of the <strong>.simics</strong> target scripts included in the boot mode directories listed above. There are some use cases that were supported with the Legacy GSRD but not supported in GSRD 2.0. Examples of these are the execution of <strong>Hello</strong> and <strong>System Check</strong> applications.</p>
<h4 id="simulation-setup-under-gsrd-20">Simulation Setup under GSRD 2.0<a class="headerlink" href="#simulation-setup-under-gsrd-20" title="Permanent link">&para;</a></h4>
<p>At this time, it is assumed that you had already built the HPS binaries as indicated in <a href="#build-instructions-gsrd-20-baseline">Build Instructions - GSRD 2.0 Baseline</a> and you also have installed the Intel Simics Simulator for Altera FPGAs in to your Linux machine.</p>
<p>You also need to add the following to yout Linux <strong>$PATH</strong> environment variable:</p>
<ul>
<li>Simics Simulator installation directory. </li>
<li>ARM Tool chain. This is already installed as part of the build instructions. Needed only for QSPI boot mode.</li>
<li>Quartus Pro. Needed only for QSPI boot mode.</li>
</ul>
<p>This can be done with:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1"># Simics installation dir</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>&lt;Simics_installation_dir/simics/bin/:<span class="nv">$PATH</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># ARM toolchain, could be taken from SD or QSPI build directory</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/hps_debug/gcc-arm/bin/:<span class="nv">$PATH</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="c1"># Quartus Pro</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">QUARTUS_ROOTDIR</span><span class="o">=</span>~/altera_pro/25.3.1/quartus/
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$QUARTUS_ROOTDIR</span>/bin:<span class="nv">$QUARTUS_ROOTDIR</span>/linux64:<span class="nv">$QUARTUS_ROOTDIR</span>/../qsys/bin:<span class="nv">$PATH</span>
</code></pre></div>
<h4 id="exercise-sdcard-boot-mode-under-gsrd-20">Exercise SDCard Boot Mode under GSRD 2.0<a class="headerlink" href="#exercise-sdcard-boot-mode-under-gsrd-20" title="Permanent link">&para;</a></h4>
<p>It is assumed that the instructions at <a href="#simulation-setup-under-gsrd-20">Simulation Setup under GSRD 2.0</a> section have been already executed.</p>
<p>The <strong>runsimics.sh</strong> script need to be called, providing as parameters the <strong>sdmmc</strong> boot mode and the location of the binaries.
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/simics/linux/
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>$<span class="w"> </span>./runsimics.sh<span class="w">  </span>sdmmc<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/deploy/images/agilex5e
</code></pre></div>
This will deploy the <strong>agilex5e-universal</strong> virtual platform under <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/simics/linux/</strong> directory, create the Simics project and build it. This will also launch the Simics simulation using <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/simics/linux/sdmmc_boot/sdmmc_gsrd.simics</strong> as target script. </p>
<p>When the simulation is launched, the current Linux terminal will become the Simics CLI and the Serial console will pop up.  To start the simulation enter <strong>"run"</strong> command in the Simics CLI.</p>
<p><a class="glightbox" href="../images/SimicsSimGRHD2.0.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/SimicsSimGRHD2.0.png" /></a></p>
<h4 id="exercise-qspi-boot-mode-under-gsrd-20">Exercise QSPI Boot Mode under GSRD 2.0<a class="headerlink" href="#exercise-qspi-boot-mode-under-gsrd-20" title="Permanent link">&para;</a></h4>
<p>It is assumed that the instructions at <a href="#simulation-setup-under-gsrd-20">Simulation Setup under GSRD 2.0</a> section have been already executed.</p>
<p>The <strong>runsimics.sh</strong> script need to be called, providing the (<strong>qspi</strong>) boot mode and the location of the binaries used to boot from QSPI as parameters.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/simics/linux/
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>$<span class="w"> </span>./runsimics.sh<span class="w">  </span>qspi<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e
</code></pre></div>
<p>This will deploy the <strong>agilex5e-universal</strong> virtual platform under <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/simics/linux/</strong> directory, create the Simics project and build it. This will also launch the Simics simulation using <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/simics/linux/qspi_boot/qspi_gsrd.simics</strong> as target script.</p>
<p>When the simulation is launched, the current Linux terminal will become the Simics CLI and the Serial console will pop up.  To start the simulation enter <strong>"run"</strong> command in the Simics CLI.</p>
<h4 id="exercise-simics-simulation-with-a76-as-boot-core">Exercise Simics Simulation with a76 as Boot Core<a class="headerlink" href="#exercise-simics-simulation-with-a76-as-boot-core" title="Permanent link">&para;</a></h4>
<p>The build flow described in <a href="#build-instructions-gsrd-20-baseline">Build Instructions - GSRD 2.0 Baseline</a> section uses as starting point the <strong>a5ed065es-premium-devkit-oobe-baseline-a55</strong> project directory. From real hardware perspective, this directory includes a hardware project in which the <strong>a55</strong> core (core 0) is used as the boot core. In other hand, the <strong>a5ed065es-premium-devkit-oobe-baseline-a76</strong> project directory includes a hardware project in which the <strong>a76</strong> core (core 2) is used as the boot core. From the Simics simulation perspective, the hardware design included in any of these project directories is not relevant because the model of the hardware design is already included as part of the model of the Agilex 5 device, and the boot core is defined through the <strong>$hps_boot_core</strong> target script parameter. From the the Simics perspective, the only difference between using the <strong>baseline-a55</strong> or <strong>baseline-a76</strong> project directory as starting point is the value of the <strong>$hps_boot_core</strong> parameter in either the <strong>sdmmc_gsrd.simics</strong> or <strong>qspi_gsrd.simics</strong> target script and because of this, if you want to use the <strong>a76</strong> as boot core, you don't need to rebuild the binaries again, and instead you can manually change the value of the boot core to 2 (<strong>$hps_boot_core = 2</strong>) in the target scripts: </p>
<ul>
<li><strong>SDCard Boot:</strong> $TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/simics/linux/sdmmc_boot/sdmmc_gsrd.simics</li>
<li><strong>QSPI Boot</strong>: $TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/simics/linux/qspi_boot/qspi_gsrd.simics</li>
</ul>
<p>Once that you change this parameter, you can run the simulation in the same way as described earlier. You can use the <strong>processor-status</strong> command from the Simics CLI to confirm that your simulation is booting from core 2 (do it when the HPS is running U-Boot). You can see from the next image that the core 2 is enabled while the others are disabled.</p>
<p><a class="glightbox" href="../images/arm76_BootCore.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/arm76_BootCore.png" /></a></p>
<h3 id="use-cases-supported-by-the-agilextm-5-e-series-universal-virtual-platform">Use Cases Supported by the Agilex™ 5 E-Series Universal Virtual Platform<a class="headerlink" href="#use-cases-supported-by-the-agilextm-5-e-series-universal-virtual-platform" title="Permanent link">&para;</a></h3>
<p>The following sections explain some supported use cases using the <strong>Agilex™ 5 E-Series Universal</strong> virtual platform. </p>
<p><strong>Note:</strong> The instructions in each of the use case shows how this can be exercised in a Simics environment apart for the GSRD, but these can also be exercise from the Simics environment inside of the GSRD. For this last case, you can modify the <strong>*.simics</strong> target scripts provided inside of the GSRD (below <strong>simics/linux/</strong> directory) as indicated in the use case description or create a new target script and call  it from the <strong>runsimics.sh</strong> script. </p>
<p>The preconditions required to execute them are listed in the following section.</p>
<h4 id="simulation-setup">Simulation Setup<a class="headerlink" href="#simulation-setup" title="Permanent link">&para;</a></h4>
<p>Consider that the Intel Simics Simulator for Altera® FPGAs Simulator has been installed on a Linux System and the output binaries generated from <a href="#build-instructions-gsrd-20-baseline">Build Instructions - GSRD 2.0 Baseline</a> section are already available.</p>
<p>1. Create a project directory under the Intel Simics Simulator installation directory (Assuming it is <strong>SimicsInstallDir</strong>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>$<span class="w"> </span>mkdir<span class="w"> </span>project-1
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>project-1
</code></pre></div>
<p>2. Under the new project directory created, deploy the <strong>agilex5e-universal</strong> virtual platform:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>$&lt;Simics<span class="w"> </span>installation<span class="w"> </span>dir&gt;/simics/bin/simics_intelfpga_cli<span class="w"> </span>--deploy<span class="w"> </span>agilex5e-universal
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>Simics<span class="o">(</span>R<span class="o">)</span><span class="w"> </span>Simulator<span class="w"> </span><span class="k">for</span><span class="w"> </span>Intel<span class="o">(</span>R<span class="o">)</span><span class="w"> </span>FPGA<span class="w"> </span>CLI:
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>INFO:<span class="w"> </span>Preparing<span class="w"> </span>to<span class="w"> </span>initialize<span class="w"> </span>/home/simicsUser/SimicsInstallDir/project-1<span class="w"> </span>as<span class="w"> </span>a
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>Simics<span class="w"> </span>workspace
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>Project<span class="w"> </span>created<span class="w"> </span>successfully
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="c1"># Observe that the directory has been initialized and the simics and simics-gui</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># commands appear in the project directory. Also, the target directory is</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="c1"># created. This includes the target script corresponding to the deployed</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="c1"># platform.</span>
</code></pre></div>
<p>3. Build the virtual platform components:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>$<span class="w"> </span><span class="nv">make</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="o">===</span><span class="w"> </span>Environment<span class="w"> </span><span class="nv">Check</span><span class="w"> </span><span class="o">===</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="s1">&#39;/home/simicsUser/SimicsInstallDir/project-1&#39;</span><span class="w"> </span>is<span class="w"> </span>up-to-date
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>gcc<span class="w"> </span>version<span class="w"> </span><span class="nv">9</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="o">===</span><span class="w"> </span>Building<span class="w"> </span>module<span class="w"> </span>agilex5e-universal-board-comp<span class="w"> </span><span class="o">===</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>:
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="o">===</span><span class="w"> </span>Building<span class="w"> </span>module<span class="w"> </span>agilex5e-universal-fpga-comp<span class="w"> </span><span class="o">===</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>:
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="o">===</span><span class="w"> </span>Building<span class="w"> </span>module<span class="w"> </span>agilex5e-universal-system-comp<span class="w"> </span><span class="o">===</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>:
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>Copying<span class="w"> </span>agilex5_icon_84x84.png
</code></pre></div>
<p>4. Copy the following binaries created in <a href="#build-instructions-gsrd-20-baseline">Build Instructions - GSRD 2.0 Baseline</a> section to the Simics project directory:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>$<span class="w"> </span>cp<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/deploy/images/agilex5e/gsrd-console-image-agilex5e.rootfs.wic<span class="w"> </span>.
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>$<span class="w"> </span>cp
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/deploy/images/agilex5e/u-boot-spl-dtb.bin<span class="w"> </span>.
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>$<span class="w"> </span>cp<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/qspi_rpd/flash_image_jic.rpd<span class="w"> </span>.
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>$<span class="w"> </span>cp<span class="w"> </span><span class="nv">$TOP_FOLDER</span>/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_qspi/build/tmp/deploy/images/agilex5e/u-boot-spl-dtb.bin<span class="w"> </span>u-boot-spl-dtb_qspi.bin
</code></pre></div>
<p>5. Customize the configuration of the Agilex™ 5 E-Series Universal virtual platform, according to the setup required to exercise any specific use case. Set up the <strong>fsbl_image_filename</strong> parameter with the first-stage bootloader. If the boot implies booting from an SD Card device, configure <strong>sd_image_filename</strong> and <strong>create_hps_sd_card</strong> parameters (this image should include the main bootloader and the OS and/or application images). As part of the configuration, select the core used to boot using the <strong>hps_boot_core</strong> parameter, which could be core 0 (A55) or core 2 (A76).</p>
<p>You can configure the virtual platform by creating a top-level target script (named based on the simulation purpose) that is expected to be run with this (example: <strong>uboot-linux_sdcard.simics</strong> used to boot from U-Boot to Linux from an SD Card device). You become the owner of this new target script, in which, you can set the required parameters and call the original virtual platform target script (<strong>targets/agilex5e-universal/agilex5e-universal.simics</strong> path). An example of the setup required to run a simulation that exercises the boot flow going from U-Boot to Linux, booting from an SD Card is shown in the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">#uboot-linux_sdcard.simics</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nv">$sd_image_filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gsrd-console-image-agilex5e.rootfs.wic&quot;</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="nv">$fsbl_image_filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;u-boot-spl-dtb.bin&quot;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="nv">$hps_boot_core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="nv">$create_hps_sd_card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>TRUE
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>run-script<span class="w"> </span><span class="s2">&quot;targets/agilex5e-universal/agilex5e-universal.simics&quot;</span>
</code></pre></div>
<p><strong>Note:</strong> The <strong>uboot-linux_sdcard.simics</strong> file must be created under the Simics project directory.</p>
<p><strong>Tip:</strong> Any specific configuration needed for a use case is indicated under the <strong>Setup</strong> section of that use case.</p>
<h4 id="use-case-exercise-sdcard-boot-flow-from-fsbl-to-linux">Use Case: Exercise SDCard Boot Flow from FSBL to Linux<a class="headerlink" href="#use-case-exercise-sdcard-boot-flow-from-fsbl-to-linux" title="Permanent link">&para;</a></h4>
<p>This use case consists of booting from an SDCard device going from U-Boot to Linux prompt passing through <strong>U-Boot SPL → ATF → U-Boot → Linux</strong>.</p>
<h5>Setup</h5>

<p>Complete the procedure described in the <a href="#simulation-setup">Simulation Setup</a> section.</p>
<p>You will need to copy the following binaries to your project directory: </p>
<h5>Procedure</h5>

<p>To exercise this use case, follow the below steps once the Simulation setup is complete:</p>
<ol>
<li>
<p>From the project directory, launch the simulation using the <strong>uboot-linux_sdcard.simics</strong> target script. This script launches the simulator and the current terminal becomes the Simics CLI:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$<span class="w"> </span>./simics<span class="w"> </span>uboot-linux_sdcard.simics<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>From the Simics CLI, start running the simulation with the <strong>run</strong> command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>simics&gt;<span class="w">  </span>run
</code></pre></div>
</li>
<li>
<p>Wait to get to the Linux prompt in the target serial console. </p>
</li>
<li>
<p>Login into the Linux prompt using the <strong>root</strong> user without a password.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Target Serial console</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>U-Boot<span class="w"> </span>SPL<span class="w"> </span><span class="m">2024</span>.04<span class="w"> </span><span class="o">(</span>Oct<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">2024</span><span class="w"> </span>-<span class="w"> </span><span class="m">02</span>:54:45<span class="w"> </span>+0000<span class="o">)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>Reset<span class="w"> </span>state:<span class="w"> </span>Cold
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>MPU<span class="w">           </span><span class="m">875000</span><span class="w"> </span>kHz
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>L4<span class="w"> </span>Main<span class="w">       </span><span class="m">400000</span><span class="w"> </span>kHz
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>L4<span class="w"> </span>sys<span class="w"> </span>free<span class="w">   </span><span class="m">100000</span><span class="w"> </span>kHz
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>L4<span class="w"> </span>MP<span class="w">         </span><span class="m">200000</span><span class="w"> </span>kHz
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>L4<span class="w"> </span>SP<span class="w">         </span><span class="m">100000</span><span class="w"> </span>kHz
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>SDMMC<span class="w">          </span><span class="m">50000</span><span class="w"> </span>kHz
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>io96b_cal_status:<span class="w"> </span>Calibration<span class="w"> </span><span class="k">for</span><span class="w"> </span>IO96B<span class="w"> </span>instance<span class="w"> </span>0x18400400<span class="w"> </span><span class="k">done</span><span class="w"> </span>at<span class="w"> </span><span class="m">0</span><span class="w"> </span>msec!
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>init_mem_cal:<span class="w"> </span>Initial<span class="w"> </span>DDR<span class="w"> </span>calibration<span class="w"> </span>IO96B_0<span class="w"> </span>succeed
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>io96b_mb_init:<span class="w"> </span>num_instance<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>io96b_mb_init:<span class="w"> </span>get<span class="w"> </span>memory<span class="w"> </span>interface<span class="w"> </span>IO96B<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>:
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>DDR:<span class="w"> </span>size<span class="w"> </span>check<span class="w"> </span>success
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>DDR:<span class="w"> </span>firewall<span class="w"> </span>init<span class="w"> </span>success
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>DDR:<span class="w"> </span>init<span class="w"> </span>success
<a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>QSPI:<span class="w"> </span>Reference<span class="w"> </span>clock<span class="w"> </span>at<span class="w"> </span><span class="m">400000</span><span class="w"> </span>kHz
<a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>Trying<span class="w"> </span>to<span class="w"> </span>boot<span class="w"> </span>from<span class="w"> </span>MMC1
<a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="c1">## Checking hash(es) for config board-0 ... OK</span>
<a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="c1">## Checking hash(es) for Image atf ... crc32+ OK</span>
<a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a><span class="c1">## Checking hash(es) for Image uboot ... crc32+ OK</span>
<a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a><span class="c1">## Checking hash(es) for Image fdt-0 ... crc32+ OK</span>
<a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>WARNING:<span class="w"> </span>Data<span class="w"> </span>cache<span class="w"> </span>not<span class="w"> </span>enabled
<a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>Boot<span class="w"> </span><span class="nv">Core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>CPU<span class="w"> </span><span class="nv">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>v2.11.0<span class="o">(</span>release<span class="o">)</span>:QPDS24.3_REL_GSRD_PR
<a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>Built<span class="w"> </span>:<span class="w"> </span><span class="m">07</span>:09:49,<span class="w"> </span>Oct<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">2024</span>
<a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a>
<a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a>U-Boot<span class="w"> </span><span class="m">2024</span>.04<span class="w"> </span><span class="o">(</span>Oct<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">2024</span><span class="w"> </span>-<span class="w"> </span><span class="m">02</span>:54:45<span class="w"> </span>+0000<span class="o">)</span>socfpga_agilex5
<a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a>
<a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a>CPU:<span class="w">   </span>Altera®<span class="w"> </span>FPGA<span class="w"> </span>SoCFPGA<span class="w"> </span>Platform<span class="w"> </span><span class="o">(</span>ARMv8<span class="w"> </span>64bit<span class="w"> </span>Cortex-A55/A76<span class="o">)</span>
<a id="__codelineno-18-34" name="__codelineno-18-34" href="#__codelineno-18-34"></a>Model:<span class="w"> </span>SoCFPGA<span class="w"> </span>Agilex5<span class="w"> </span>SoCDK
<a id="__codelineno-18-35" name="__codelineno-18-35" href="#__codelineno-18-35"></a>DRAM:<span class="w">  </span><span class="m">2</span><span class="w"> </span>GiB<span class="w"> </span><span class="o">(</span>effective<span class="w"> </span><span class="m">8</span><span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-18-36" name="__codelineno-18-36" href="#__codelineno-18-36"></a>Core:<span class="w">  </span><span class="m">51</span><span class="w"> </span>devices,<span class="w"> </span><span class="m">26</span><span class="w"> </span>uclasses,<span class="w"> </span>devicetree:<span class="w"> </span>separate
<a id="__codelineno-18-37" name="__codelineno-18-37" href="#__codelineno-18-37"></a>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00200
<a id="__codelineno-18-38" name="__codelineno-18-38" href="#__codelineno-18-38"></a>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00300
<a id="__codelineno-18-39" name="__codelineno-18-39" href="#__codelineno-18-39"></a>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00400
<a id="__codelineno-18-40" name="__codelineno-18-40" href="#__codelineno-18-40"></a>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00500
<a id="__codelineno-18-41" name="__codelineno-18-41" href="#__codelineno-18-41"></a>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00600
<a id="__codelineno-18-42" name="__codelineno-18-42" href="#__codelineno-18-42"></a>NAND:<span class="w">  </span><span class="m">4096</span><span class="w"> </span>MiB
<a id="__codelineno-18-43" name="__codelineno-18-43" href="#__codelineno-18-43"></a>MMC:<span class="w">   </span>mmc0@10808000:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-18-44" name="__codelineno-18-44" href="#__codelineno-18-44"></a>Loading<span class="w"> </span>Environment<span class="w"> </span>from<span class="w"> </span>FAT...<span class="w"> </span>Unable<span class="w"> </span>to<span class="w"> </span><span class="nb">read</span><span class="w"> </span><span class="s2">&quot;uboot.env&quot;</span><span class="w"> </span>from<span class="w"> </span>mmc0:1...
<a id="__codelineno-18-45" name="__codelineno-18-45" href="#__codelineno-18-45"></a>Loading<span class="w"> </span>Environment<span class="w"> </span>from<span class="w"> </span>UBI...<span class="w"> </span>SF:<span class="w"> </span>Detected<span class="w"> </span>mt25qu02g<span class="w"> </span>with<span class="w"> </span>page<span class="w"> </span>size<span class="w">   </span><span class="m">256</span><span class="w"> </span>Bytes,<span class="w"> </span>erase<span class="w"> </span>size<span class="w"> </span><span class="m">64</span><span class="w"> </span>KiB,<span class="w"> </span>total<span class="w"> </span><span class="m">256</span><span class="w"> </span>MiB
<a id="__codelineno-18-46" name="__codelineno-18-46" href="#__codelineno-18-46"></a>:
<a id="__codelineno-18-47" name="__codelineno-18-47" href="#__codelineno-18-47"></a>Scanning<span class="w"> </span>mmc<span class="w"> </span><span class="m">0</span>:1...
<a id="__codelineno-18-48" name="__codelineno-18-48" href="#__codelineno-18-48"></a>Found<span class="w"> </span>U-Boot<span class="w"> </span>script<span class="w"> </span>/boot.scr.uimg
<a id="__codelineno-18-49" name="__codelineno-18-49" href="#__codelineno-18-49"></a><span class="m">2411</span><span class="w"> </span>bytes<span class="w"> </span><span class="nb">read</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">12</span><span class="w"> </span>ms<span class="w"> </span><span class="o">(</span><span class="m">195</span>.3<span class="w"> </span>KiB/s<span class="o">)</span>
<a id="__codelineno-18-50" name="__codelineno-18-50" href="#__codelineno-18-50"></a><span class="c1">## Executing script at 81000000</span>
<a id="__codelineno-18-51" name="__codelineno-18-51" href="#__codelineno-18-51"></a>crc32+<span class="w"> </span>Trying<span class="w"> </span>to<span class="w"> </span>boot<span class="w"> </span>Linux<span class="w"> </span>from<span class="w"> </span>device<span class="w"> </span>mmc0
<a id="__codelineno-18-52" name="__codelineno-18-52" href="#__codelineno-18-52"></a>Found<span class="w"> </span>kernel<span class="w"> </span><span class="k">in</span><span class="w"> </span>mmc0
<a id="__codelineno-18-53" name="__codelineno-18-53" href="#__codelineno-18-53"></a><span class="m">17685575</span><span class="w"> </span>bytes<span class="w"> </span><span class="nb">read</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">33</span><span class="w"> </span>ms<span class="w"> </span><span class="o">(</span><span class="m">511</span>.1<span class="w"> </span>MiB/s<span class="o">)</span>
<a id="__codelineno-18-54" name="__codelineno-18-54" href="#__codelineno-18-54"></a><span class="c1">## Loading kernel from FIT Image at 82000000 ...</span>
<a id="__codelineno-18-55" name="__codelineno-18-55" href="#__codelineno-18-55"></a>:
<a id="__codelineno-18-56" name="__codelineno-18-56" href="#__codelineno-18-56"></a>SF:<span class="w"> </span>Detected<span class="w"> </span>mt25qu02g<span class="w"> </span>with<span class="w"> </span>page<span class="w"> </span>size<span class="w"> </span><span class="m">256</span><span class="w"> </span>Bytes,<span class="w"> </span>erase<span class="w"> </span>size<span class="w"> </span><span class="m">64</span><span class="w"> </span>KiB,<span class="w"> </span>total<span class="w"> </span><span class="m">256</span><span class="w"> </span>MiB
<a id="__codelineno-18-57" name="__codelineno-18-57" href="#__codelineno-18-57"></a>Enabling<span class="w"> </span>QSPI<span class="w"> </span>at<span class="w"> </span>Linux<span class="w"> </span>DTB...
<a id="__codelineno-18-58" name="__codelineno-18-58" href="#__codelineno-18-58"></a>Working<span class="w"> </span>FDT<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>ffad6000
<a id="__codelineno-18-59" name="__codelineno-18-59" href="#__codelineno-18-59"></a>QSPI<span class="w"> </span>clock<span class="w"> </span>frequency<span class="w"> </span>updated
<a id="__codelineno-18-60" name="__codelineno-18-60" href="#__codelineno-18-60"></a>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-18-61" name="__codelineno-18-61" href="#__codelineno-18-61"></a>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-18-62" name="__codelineno-18-62" href="#__codelineno-18-62"></a>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-18-63" name="__codelineno-18-63" href="#__codelineno-18-63"></a>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-18-64" name="__codelineno-18-64" href="#__codelineno-18-64"></a>
<a id="__codelineno-18-65" name="__codelineno-18-65" href="#__codelineno-18-65"></a>Starting<span class="w"> </span>kernel<span class="w"> </span>...
<a id="__codelineno-18-66" name="__codelineno-18-66" href="#__codelineno-18-66"></a>
<a id="__codelineno-18-67" name="__codelineno-18-67" href="#__codelineno-18-67"></a>Deasserting<span class="w"> </span>all<span class="w"> </span>peripheral<span class="w"> </span>resets
<a id="__codelineno-18-68" name="__codelineno-18-68" href="#__codelineno-18-68"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Booting<span class="w"> </span>Linux<span class="w"> </span>on<span class="w"> </span>physical<span class="w"> </span>CPU<span class="w"> </span>0x0000000000<span class="w"> </span><span class="o">[</span>0x412fd050<span class="o">]</span>
<a id="__codelineno-18-69" name="__codelineno-18-69" href="#__codelineno-18-69"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Linux<span class="w"> </span>version<span class="w"> </span><span class="m">6</span>.6.37-altera-g978b3d90f408<span class="w"> </span><span class="o">(</span>oe-user@oe-host<span class="o">)</span><span class="w"> </span><span class="o">(</span>aarch64-poky-linux-gcc<span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span><span class="w"> </span><span class="m">13</span>.3.0,<span class="w"> </span>GNU<span class="w"> </span>ld<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>Binutils<span class="o">)</span><span class="w"> </span><span class="m">2</span>.42.0.20240723<span class="o">)</span><span class="w"> </span><span class="c1">#1 SMP PREEMPT Mon Oct 14 01:56:39 UTC 2024</span>
<a id="__codelineno-18-70" name="__codelineno-18-70" href="#__codelineno-18-70"></a>
<a id="__codelineno-18-71" name="__codelineno-18-71" href="#__codelineno-18-71"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>KASLR<span class="w"> </span>disabled<span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span>lack<span class="w"> </span>of<span class="w"> </span>seed
<a id="__codelineno-18-72" name="__codelineno-18-72" href="#__codelineno-18-72"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Machine<span class="w"> </span>model:<span class="w"> </span>SoCFPGA<span class="w"> </span>Agilex5<span class="w"> </span>SoCDK
<a id="__codelineno-18-73" name="__codelineno-18-73" href="#__codelineno-18-73"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>efi:<span class="w"> </span>UEFI<span class="w"> </span>not<span class="w"> </span>found.
<a id="__codelineno-18-74" name="__codelineno-18-74" href="#__codelineno-18-74"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Reserved<span class="w"> </span>memory:<span class="w"> </span>created<span class="w"> </span>DMA<span class="w"> </span>memory<span class="w"> </span>pool<span class="w"> </span>at<span class="w"> </span>0x0000000080000000,<span class="w"> </span>size<span class="w"> </span><span class="m">32</span><span class="w"> </span>MiB
<a id="__codelineno-18-75" name="__codelineno-18-75" href="#__codelineno-18-75"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>OF:<span class="w"> </span>reserved<span class="w"> </span>mem:<span class="w"> </span>initialized<span class="w"> </span>node<span class="w"> </span>svcbuffer@0,<span class="w"> </span>compatible<span class="w"> </span>id<span class="w"> </span>shared-dma-pool
<a id="__codelineno-18-76" name="__codelineno-18-76" href="#__codelineno-18-76"></a><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>OF:<span class="w"> </span>reserved<span class="w"> </span>mem:<span class="w"> </span>0x0000000080000000..0x0000000081ffffff<span class="w"> </span><span class="o">(</span><span class="m">32768</span><span class="w"> </span>KiB<span class="o">)</span><span class="w"> </span>nomap<span class="w"> </span>non-reusable<span class="w"> </span>svcbuffer@0
<a id="__codelineno-18-77" name="__codelineno-18-77" href="#__codelineno-18-77"></a>:
<a id="__codelineno-18-78" name="__codelineno-18-78" href="#__codelineno-18-78"></a>Poky<span class="w"> </span><span class="o">(</span>Yocto<span class="w"> </span>Project<span class="w"> </span>Reference<span class="w"> </span>Distro<span class="o">)</span><span class="w"> </span><span class="m">5</span>.0.5<span class="w"> </span>dhcp0<span class="w"> </span>ttyS0
<a id="__codelineno-18-79" name="__codelineno-18-79" href="#__codelineno-18-79"></a>
<a id="__codelineno-18-80" name="__codelineno-18-80" href="#__codelineno-18-80"></a>dhcp0<span class="w"> </span>login:<span class="w"> </span><span class="o">[</span><span class="w">   </span><span class="m">37</span>.881580<span class="o">]</span><span class="w"> </span>kauditd_printk_skb:<span class="w"> </span><span class="m">15</span><span class="w"> </span>callbacks<span class="w"> </span>suppressed
<a id="__codelineno-18-81" name="__codelineno-18-81" href="#__codelineno-18-81"></a><span class="o">[</span><span class="w">   </span><span class="m">37</span>.881588<span class="o">]</span><span class="w"> </span>audit:<span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="m">1334</span><span class="w"> </span>audit<span class="o">(</span><span class="m">1709054800</span>.748:33<span class="o">)</span>:<span class="w"> </span>prog-id<span class="o">=</span><span class="m">27</span><span class="w"> </span><span class="nv">op</span><span class="o">=</span>UNLOAD
<a id="__codelineno-18-82" name="__codelineno-18-82" href="#__codelineno-18-82"></a><span class="o">[</span><span class="w">   </span><span class="m">37</span>.882865<span class="o">]</span><span class="w"> </span>audit:<span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="m">1334</span><span class="w"> </span>audit<span class="o">(</span><span class="m">1709054800</span>.748:34<span class="o">)</span>:<span class="w"> </span>prog-id<span class="o">=</span><span class="m">26</span><span class="w"> </span><span class="nv">op</span><span class="o">=</span>UNLOAD
<a id="__codelineno-18-83" name="__codelineno-18-83" href="#__codelineno-18-83"></a><span class="o">[</span><span class="w">   </span><span class="m">37</span>.883602<span class="o">]</span><span class="w"> </span>audit:<span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="m">1334</span><span class="w"> </span>audit<span class="o">(</span><span class="m">1709054800</span>.748:35<span class="o">)</span>:<span class="w"> </span>prog-id<span class="o">=</span><span class="m">25</span><span class="w"> </span><span class="nv">op</span><span class="o">=</span>UNLOAD
<a id="__codelineno-18-84" name="__codelineno-18-84" href="#__codelineno-18-84"></a>
<a id="__codelineno-18-85" name="__codelineno-18-85" href="#__codelineno-18-85"></a>dhcp0<span class="w"> </span>login:<span class="w"> </span>root
<a id="__codelineno-18-86" name="__codelineno-18-86" href="#__codelineno-18-86"></a>
<a id="__codelineno-18-87" name="__codelineno-18-87" href="#__codelineno-18-87"></a>WARNING:<span class="w"> </span>Poky<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>reference<span class="w"> </span>Yocto<span class="w"> </span>Project<span class="w"> </span>distribution<span class="w"> </span>that<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>testing<span class="w"> </span>and<span class="w"> </span>development<span class="w"> </span>purposes<span class="w"> </span>only.<span class="w"> </span>It<span class="w"> </span>is<span class="w"> </span>recommended<span class="w"> </span>that<span class="w"> </span>you<span class="w"> </span>create<span class="w"> </span>your<span class="w"> </span>own<span class="w"> </span>distribution<span class="w"> </span><span class="k">for</span><span class="w"> </span>production<span class="w"> </span>use.
<a id="__codelineno-18-88" name="__codelineno-18-88" href="#__codelineno-18-88"></a>
<a id="__codelineno-18-89" name="__codelineno-18-89" href="#__codelineno-18-89"></a>root@dhcp0:~#<span class="w"> </span>
</code></pre></div>
This finishes the main scenario of this use case, but there are some extensions that are described next.</p>
<p><strong>Note</strong>: You can speed-up the boot process by skipping the U-Boot autoboot countdown by pressing any key and then typing the <strong>boot</strong> command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>U-Boot<span class="w"> </span><span class="m">2024</span>.01<span class="w"> </span><span class="o">(</span>Jun<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">2024</span><span class="w"> </span>-<span class="w"> </span><span class="m">09</span>:28:56<span class="w"> </span>+0000<span class="o">)</span>socfpga_agilex5
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>CPU:<span class="w">   </span>Altera®<span class="w"> </span>FPGA<span class="w"> </span>SoCFPGA<span class="w"> </span>Platform<span class="w"> </span><span class="o">(</span>ARMv8<span class="w"> </span>64bit<span class="w"> </span>Cortex-A55/A76<span class="o">)</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>Model:<span class="w"> </span>SoCFPGA<span class="w"> </span>Agilex5<span class="w"> </span>SoCDK
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>:
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>Net:<span class="w">   </span>No<span class="w"> </span>ethernet<span class="w"> </span>found.
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>Hit<span class="w"> </span>any<span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span>stop<span class="w"> </span>autoboot:<span class="w">  </span><span class="m">0</span><span class="w"> </span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># boot</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>switch<span class="w"> </span>to<span class="w"> </span>partitions<span class="w"> </span><span class="c1">#0, OK</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>mmc0<span class="w"> </span>is<span class="w"> </span>current<span class="w"> </span>device
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>Scanning<span class="w"> </span>mmc<span class="w"> </span><span class="m">0</span>:1...
</code></pre></div>
</li>
</ol>
<h4 id="use-case-access-the-web-server-application-from-host-pc">Use Case: Access the Web Server Application from Host PC<a class="headerlink" href="#use-case-access-the-web-server-application-from-host-pc" title="Permanent link">&para;</a></h4>
<p>This use case is an extension of the <strong>Use Case: Exercise SDCard Boot Flow from FSBL to Linux</strong> and includes accessing from the host PC a web page that is being hosted by the target system, which runs a web server application. This application is launched automatically as part of the Linux boot process.</p>
<h5>Setup</h5>

<p>Using the <strong>uboot-linux_sdcard.simics</strong> Simics script, create an incoming port forwarding shown in the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>connect-real-network-port-in<span class="w"> </span>ethernet-link<span class="w"> </span><span class="o">=</span><span class="w"> </span>ethernet_switch0<span class="w"> </span>target-ip<span class="o">=</span><span class="m">10</span>.10.0.100<span class="w"> </span>target-port<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"> </span>host-port<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4080</span><span class="w"> </span>-tcp<span class="w"> </span>
</code></pre></div>
<p>The port forwarding created allows you to access the webpage from the host PC. In the configuration, use the <strong>connect-real-network-port-in</strong> command, port 4080 in the host PC, and the target port in the target system is 80 (HTTP port). You also assign as the target IP, the IP that corresponds to the target system, which is 10.10.0.100. Also, indicate that this port forwarding is related to the TCP protocol. YOu can check the new port forwarding setup using the <strong>list-port-forwarding-setup</strong> command (this setup also could be done from the Simics CLI but in this case, the simulation should be stopped to perform the network configuration).</p>
<h5>Procedure</h5>

<ol>
<li>
<p>Execute the parent use case to get to the Linux prompt and log in.</p>
</li>
<li>
<p>From the host PC, open a web browser and access the webpage running in the target system using the address: http://localhost:4080 . Note that the host machine is referred to as <strong>localhost</strong> and the port is 4080, which is the one visible from the host PC. </p>
<p><a class="glightbox" href="../images/webServerGSRD2.0.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/webServerGSRD2.0.png" /></a></p>
<p><strong>Note:</strong> The IP address of the host PC could be used as well instead of <strong>localhost</strong>.</p>
<p><strong>Note:</strong> The webpage displays instructions to connect to the target system using SSH. These instructions are valid if you run these binaries in real hardware. If you want to establish the SSH connection with a simulated target system, create a second incoming port forwarding with the following setup:</p>
<p><strong>connect-real-network-port-in ethernet-link = ethernet_switch0 target-ip=10.10.0.100 target-port = 22 host-port = 4022 -tcp</strong></p>
<p>Then, connect to the target system using <strong>ssh -p 4022 root@localhost</strong> from the host PC or <strong>ssh -p 4022 root@&lt;<em>host PC IP address</em>&gt;</strong> from any other PC in the same network.</p>
</li>
</ol>
<p>A variation of this use case consists of accessing the web page from another PC under the same network that the host PC (both PCs in a real network). For this, use the IP address of the host PC instead of <strong>localhost</strong> and continue using the same port: <strong>http://&lt;<em>host PC address</em>&gt;:4080</strong>.</p>
<p><strong>Note:</strong> In the Linux Ubuntu system, you can get the IP address using the <strong>ifconfig</strong> command from a terminal. Also, ensure that the firewall in this PC is not blocking port 80.</p>
<h4 id="use-case-access-on-chip-ram-in-fpga-example-design-from-linux-prompt">Use Case: Access ON-Chip RAM in FPGA Example Design from Linux Prompt<a class="headerlink" href="#use-case-access-on-chip-ram-in-fpga-example-design-from-linux-prompt" title="Permanent link">&para;</a></h4>
<p>This use case is an extension of the <strong>Use Case: Exercise SDCard Boot Flow from FSBL to Linux</strong> and includes accessing from Linux the FPGA fabric example design for read and write operations. For this, the <strong>devmem2</strong> Linux application is used. Also, a Simics CLI script is used to write some initial content to the memories in the example design.</p>
<h5>Setup</h5>

<p>Start with the setup as the parent use case. From the Simics CLI or using the <strong>uboot-linux_sdcard.simics</strong> Simics script, add the script branch that adds some content to the memories in the example design. The script branch writes 256 32-bit words in each memory.</p>
<p><a class="glightbox" href="../images/scriptLoadExampleDesignFpgaFabric_24.1.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/scriptLoadExampleDesignFpgaFabric_24.1.jpg" /></a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># uboot-linux_sdcard.simics</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>:
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>script-branch<span class="o">{</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span><span class="c1"># Wait until we see any message in the Serial Console to be sure the model has been fully initialized</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">  </span>bp.console_string.wait-for<span class="w"> </span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.console0.con<span class="w"> </span><span class="s2">&quot;U-Boot SPL&quot;</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span><span class="nv">$idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="nv">$idx</span><span class="w"> </span>&lt;<span class="w"> </span><span class="m">256</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="nv">$addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span>*<span class="nv">$idx</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">    </span><span class="nv">$valueMem1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xcafe0000<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nv">$idx</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Set Values &quot;</span><span class="w"> </span>+<span class="w"> </span><span class="o">(</span>hex<span class="o">(</span><span class="nv">$valueMem1</span><span class="o">))</span><span class="w"> </span>+<span class="w"> </span><span class="s2">&quot; at address &quot;</span><span class="w"> </span>+<span class="w"> </span><span class="o">(</span>hex<span class="o">(</span><span class="nv">$addr</span><span class="o">))</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">    </span>system.board.fpga.soc_inst.example_design.design_mem.write<span class="w"> </span><span class="nv">$addr</span><span class="w"> </span><span class="nv">$valueMem1</span><span class="w">    </span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span><span class="nv">$idx</span>+<span class="o">=</span><span class="m">1</span><span class="w"> </span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="o">}</span>
</code></pre></div>
<h5>Procedure</h5>

<ol>
<li>
<p>Execute the parent use case to get to the Linux prompt and log in.</p>
</li>
<li>
<p>Read the first and last locations written by the CLI script in the memories in the example design using the <strong>devmem2</strong> application in Linux. This command receives the physical memory that wants to be accessed (in this case, based on the offset where the HPS2FPGA bridges are mapped to):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>dhcp0<span class="w"> </span>login:<span class="w">  </span>root<span class="w"> </span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>root@dhcp0:~#<span class="w">  </span>devmem2<span class="w"> </span>0x40000000<span class="w"> </span>w<span class="w"> </span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>/dev/mem<span class="w"> </span>opened.
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>Memory<span class="w"> </span>mapped<span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span>0xffffa3940000.
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>Read<span class="w"> </span>at<span class="w"> </span>address<span class="w">  </span>0x40000000<span class="w"> </span><span class="o">(</span>0xffffa3940000<span class="o">)</span>:<span class="w"> </span>0xCAFE0000
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>root@dhcp0:~#<span class="w">  </span>devmem2<span class="w"> </span>0x400003fc<span class="w"> </span>w<span class="w"> </span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>/dev/mem<span class="w"> </span>opened.
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>Memory<span class="w"> </span>mapped<span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span>0xffff91ac1000.
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>Read<span class="w"> </span>at<span class="w"> </span>address<span class="w">  </span>0x400003FC<span class="w"> </span><span class="o">(</span>0xffff91ac13fc<span class="o">)</span>:<span class="w"> </span>0xCAFE00FF
</code></pre></div>
<p>Observe that the values read matches the expected one shown in the figure above.</p>
<p><strong>Note:</strong> The addresses in parenthesis in the capture above correspond to the virtual address in which Linux maps the physical address corresponding to the location in the memory example design that is being accessed. This virtual address may be different than the one shown in the capture.</p>
</li>
<li>
<p>Use the <code>devmem2</code> command to write into the memories in the example design and read back the data. For this, the following addresses are selected:</p>
<table>
<thead>
<tr>
<th align="left">Bridge</th>
<th align="left">Address</th>
<th align="left">Memory Design Addr</th>
<th align="left">Index</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">HPS2FPGA</td>
<td align="left">0x40000400</td>
<td align="left">0x400</td>
<td align="left">256</td>
<td align="left">0xcafe0200</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>root@dhcp0:~#<span class="w">  </span>devmem2<span class="w"> </span>0x40000400<span class="w"> </span>w<span class="w"> </span>0xcafe0200<span class="w"> </span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>/dev/mem<span class="w"> </span>opened.
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>Memory<span class="w"> </span>mapped<span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span>0xffffbd034000.
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>Read<span class="w"> </span>at<span class="w"> </span>address<span class="w">  </span>0x40000400<span class="w"> </span><span class="o">(</span>0xffffbd034400<span class="o">)</span>:<span class="w"> </span>0x00000000
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>Write<span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span>0x40000400<span class="w"> </span><span class="o">(</span>0xffffbd034400<span class="o">)</span>:<span class="w"> </span>0xCAFE0200,<span class="w"> </span>readback<span class="w">   </span>0xCAFE0200
</code></pre></div>
</li>
<li>
<p>Read back to the previous memory location written to confirm the operation was performed successfully.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>root@dhcp0:~#<span class="w">  </span>devmem2<span class="w"> </span>0x40000400<span class="w"> </span>w<span class="w">  </span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>/dev/mem<span class="w"> </span>opened.
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>Memory<span class="w"> </span>mapped<span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span>0xffffa5ab9000.
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>Read<span class="w"> </span>at<span class="w"> </span>address<span class="w">  </span>0x40000400<span class="w"> </span><span class="o">(</span>0xffffa5ab9400<span class="o">)</span>:<span class="w"> </span>0xCAFE0200
</code></pre></div>
</li>
</ol>
<h4 id="use-case-exercise-peripheral-components-in-fpga-fabric-example-design">Use Case: Exercise Peripheral Components in FPGA Fabric Example Design<a class="headerlink" href="#use-case-exercise-peripheral-components-in-fpga-fabric-example-design" title="Permanent link">&para;</a></h4>
<p>This use case is an extension of the <strong>Use Case: Exercise SDCard Boot Flow from FSBL to Linux</strong> and exercising:</p>
<ul>
<li>LED I/O component to write/and read the state of the LED from Simics CLI and from U-Boot shell</li>
<li>Dip-Swich and Push-Button I/O components to change the state of the input from Simics CLI and read the state of the input from U-Boot shell. Also configure the triggering of an nterrupts from these component to the HPS.</li>
</ul>
<h5>Setup</h5>

<p>Complete the procedure described in the <a href="#simulation-setup">Simulation Setup</a> section.</p>
<h5>Procedure</h5>

<ol>
<li>Start the simulation similar to how it is done in the main use case, but in the serial console stop the U-Boot autoboot by pressing a key on the reception of the message "<strong>Hit any key to stop autoboot:</strong>".</li>
<li>
<p>Here you are going to exercise the setting of some LEDs. Read the state of the LEDs I/O pins from the U-Boot shell through memory access using the address in which the DATA register of this component is mapped (0x20010080) and turn-on the 3 LEDs associated with the 3 less significative bits in this register. Then read-back the state of these pins to confirm these has been updated. You can confirm that the state of the LED's was updated reading directly into the DATA register of the LED I/O components from the Simics CLI.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># U-Boot shell</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># md 0x20010080 1</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="m">20010080</span>:<span class="w"> </span><span class="m">00000000</span><span class="w">                             </span>….
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># mw 0x20010080 0x7 1</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># md 0x20010080 1</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="m">20010080</span>:<span class="w"> </span><span class="m">00000007</span><span class="w">  </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># Simics CLI</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>running&gt;<span class="w"> </span>print-device-reg-info<span class="w"> </span>system.board.fpga.soc_inst.periph_subsys.led_pio.bank.regs.DATA<span class="w"> </span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="o">[</span>system.board.fpga.soc_inst.periph_subsys.led_pio.bank.regs.DATA<span class="o">]</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">           </span>Bits<span class="w"> </span>:<span class="w"> </span><span class="m">32</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">         </span>Offset<span class="w"> </span>:<span class="w"> </span>0x0
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">          </span>Value<span class="w"> </span>:<span class="w"> </span><span class="m">7</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>Bit<span class="w"> </span>Fields:
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">  </span>Data<span class="w"> </span>@<span class="w"> </span><span class="o">[</span><span class="m">31</span>:0<span class="o">]</span><span class="w"> </span>:<span class="w"> </span><span class="m">00000000000000000000000000000111</span>
</code></pre></div>
</li>
<li>
<p>Next you will exercise the toggling the input pin of the dip-switch component using the Simics CLI through the <strong>signal_raise()</strong> and <strong>signal_lower()</strong> and then reading back the state of the pin using the DATA register in this component using the U-Boot shell through the corresponding memory location of this register (0x20010070).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># Simics CLI</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>running&gt;<span class="w"> </span>@conf.system.board.fpga.soc_inst.periph_subsys.dipsw_pio.port.input_io<span class="o">[</span><span class="m">0</span><span class="o">]</span>.iface.signal.signal_raise<span class="o">()</span><span class="w"> </span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>None
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># U-Boot shell</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># md 0x20010070 1 </span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="m">20010070</span>:<span class="w"> </span><span class="m">00000001</span><span class="w"> </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># Simics CLI</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>running&gt;<span class="w">  </span>@conf.system.board.fpga.soc_inst.periph_subsys.dipsw_pio.port.input_io<span class="o">[</span><span class="m">0</span><span class="o">]</span>.iface.signal.signal_lower<span class="o">()</span><span class="w"> </span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>None
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># U-Boot shell</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># md 0x20010070 1 </span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="m">20010070</span>:<span class="w"> </span><span class="m">00000000</span><span class="w">                             </span>….
</code></pre></div>
</li>
<li>
<p>Finally you are going to exercise triggering an interrupt and clearing the interrupt generated from the rising edge of the input in the button I/O component. This will be exercised from the Simics CLI. To observe that the interrupt is triggered, the log level of the interrupt controller is increased. First the interrupt needs to be enabled using the INTERRUPT register in this component. Once the interrupt is enabled, we can assert the input signal and observe that the interrupt is triggered and the DATA register gets also updated with the set value ('1'). Finally, you will clear the interrupt using again the INTERRUPT register.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># Simics CLI</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>running&gt;<span class="w"> </span>log-level<span class="w"> </span><span class="nv">object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.gic<span class="w"> </span><span class="nv">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="o">[</span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.gic<span class="o">]</span><span class="w"> </span>Changing<span class="w"> </span>log<span class="w"> </span>level:<span class="w"> </span><span class="m">1</span><span class="w"> </span>→<span class="w"> </span><span class="m">4</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>running&gt;<span class="w">  </span>read-device-reg<span class="w"> </span>system.board.fpga.soc_inst.periph_subsys.button_pio.bank.regs.DATA<span class="w"> </span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="m">0</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>running&gt;<span class="w">  </span>write-device-reg<span class="w"> </span>system.board.fpga.soc_inst.periph_subsys.button_pio.bank.regs.INTERRUPTMASK<span class="w"> </span><span class="m">1</span><span class="w"> </span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="o">[</span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.gic.port.spi<span class="o">[</span><span class="m">49</span><span class="o">]</span><span class="w"> </span>info<span class="o">]</span><span class="w"> </span>SPI49<span class="w"> </span>already<span class="w"> </span>low
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>running&gt;<span class="w">  </span>@conf.system.board.fpga.soc_inst.periph_subsys.button_pio.port.input_io<span class="o">[</span><span class="m">0</span><span class="o">]</span>.iface.signal.signal_raise<span class="o">()</span><span class="w"> </span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="o">[</span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.gic.port.spi<span class="o">[</span><span class="m">49</span><span class="o">]</span><span class="w"> </span>info<span class="o">]</span><span class="w"> </span>SPI49<span class="w"> </span>raised
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>None
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>running&gt;<span class="w">  </span>read-device-reg<span class="w"> </span>system.board.fpga.soc_inst.periph_subsys.button_pio.bank.regs.DATA<span class="w"> </span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="m">1</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>running&gt;<span class="w">  </span>write-device-reg<span class="w"> </span>system.board.fpga.soc_inst.periph_subsys.button_pio.bank.regs.INTERRUPTMASK<span class="w"> </span><span class="m">0</span><span class="w"> </span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="o">[</span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.gic.port.spi<span class="o">[</span><span class="m">49</span><span class="o">]</span><span class="w"> </span>info<span class="o">]</span><span class="w"> </span>SPI49<span class="w"> </span>lowered
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>running&gt;<span class="w">  </span>read-device-reg<span class="w"> </span>system.board.fpga.soc_inst.periph_subsys.button_pio.bank.regs.DATA<span class="w"> </span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="m">1</span>
</code></pre></div>
</li>
</ol>
<h4 id="use-case-exercise-usb-disk-hot-plug">Use Case: Exercise USB Disk Hot-Plug<a class="headerlink" href="#use-case-exercise-usb-disk-hot-plug" title="Permanent link">&para;</a></h4>
<p>This use case is an extension of the main use case and includes attaching a USB image to one of the USB disks available in the Agilex™ 5-E Universal virtual platform and exercising the plug-in and plug-out actions as follows:</p>
<ol>
<li>Boot to the Linux prompt and plug in the USB disk (default), mount the disk and access some of the disk content, and add new content. The disk used in this use case is usb3_disk connected to the USB 3.0 Gen 1 controller.</li>
<li>Unmount and plug-out the disk, and verify that this is not seen by Linux anymore.</li>
<li>Plug-in and remount the disk, and verify that the content created is still available.</li>
</ol>
<p>All this is done as part of a single simulation session. The procedure described in the current use case does not allow to keep persistence of the content updated in the USB image after finishing the simulation.</p>
<p>For this use case, we require to create an initial USB disk Image for which some information is provided in the Setup section.</p>
<h5>Setup</h5>

<p>Start with the setup as the parent use case an continue with next steps. 1. Create a 32 MB USB image (<code>usbImage.img</code>) following the instructions . The image has a <code>ext4</code> type file system in the partition created that includes as  initial content the <code>hello1.txt</code> file:</p>
<ol>
<li>
<p>In your Simics project directory, create the <code>usbImage.img</code> image:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1"># Create a dircetory to create the image</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>mkdir<span class="w"> </span>usbDisk<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>usbDisk
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>wget<span class="w"> </span>https://releases.rocketboards.org/release/2020.11/gsrd/tools/make_sdimage_p3.py
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="c1"># remove mkfs.fat parameter which has some issues on Ubuntu 22.04</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/\&quot;\-F 32\&quot;,//g&#39;</span><span class="w"> </span>make_sdimage_p3.py
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>chmod<span class="w"> </span>+x<span class="w"> </span>make_sdimage_p3.py
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>mkdir<span class="w"> </span>part1<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w">  </span><span class="nb">cd</span><span class="w"> </span>part1
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is my original file in USB image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>hello1.txt<span class="w"> </span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="nb">cd</span><span class="w"> </span>..
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>sudo<span class="w"> </span>python3<span class="w"> </span>make_sdimage_p3.py<span class="w"> </span>-f<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>-P<span class="w"> </span>part1/*,num<span class="o">=</span><span class="m">1</span>,format<span class="o">=</span>ext4,size<span class="o">=</span>16M<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>-s<span class="w"> </span>32M<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>-n<span class="w"> </span>usbImage.img
</code></pre></div>
</li>
<li>
<p>Update the target script to attach the image to the USB disk.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">#uboot-linux_sdcard.simics   </span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="nv">$sd_image_filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gsrd-console-image-agilex5.wic&quot;</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="nv">$fsbl_image_filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;u-boot-spl-dtb.bin&quot;</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="nv">$usb3_image_filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;usbDisk/usbImage.img&quot;</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="nv">$hps_boot_core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="nv">$create_hps_sd_card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>TRUE
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>run-script<span class="w"> </span><span class="s2">&quot;targets/agilex5e-universal/agilex5e-universal.simics&quot;</span>
</code></pre></div>
</li>
</ol>
<h5>Procedure</h5>

<ol>
<li>
<p>Execute the parent use case to get to the Linux prompt and log in. By default, the USB disks in the virtual platform are plugged in. These can be detected from the Linux using the <strong>fdisk -l</strong> command and shown next:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>root@dhcp0:~#<span class="w"> </span>fdisk<span class="w"> </span>-l<span class="w"> </span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>Disk<span class="w"> </span>/dev/mmcblk0:<span class="w"> </span><span class="m">16</span><span class="w"> </span>GB,<span class="w"> </span><span class="m">17179869184</span><span class="w"> </span>bytes,<span class="w"> </span><span class="m">33554432</span><span class="w"> </span>sectors<span class="w"> </span><span class="m">262144</span><span class="w"> </span>cylinders,<span class="w"> </span><span class="m">4</span><span class="w"> </span>heads,<span class="w"> </span><span class="m">32</span><span class="w"> </span>sectors/track
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>Units:<span class="w"> </span>sectors<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>Device<span class="w">       </span>Boot<span class="w"> </span>StartCHS<span class="w">    </span>EndCHS<span class="w">        </span>StartLBA<span class="w">     </span>EndLBA<span class="w">    </span>Sectors<span class="w">  </span>Size<span class="w"> </span>Id<span class="w"> </span>Type
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>/dev/mmcblk0p1<span class="w"> </span>*<span class="w">  </span><span class="m">16</span>,0,1<span class="w">      </span><span class="m">1023</span>,3,32<span class="w">         </span><span class="m">2048</span><span class="w">    </span><span class="m">1026047</span><span class="w">    </span><span class="m">1024000</span><span class="w">  </span>500M<span class="w">  </span>b<span class="w"> </span>Win95<span class="w"> </span>FAT32
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>/dev/mmcblk0p2<span class="w">    </span><span class="m">1023</span>,3,32<span class="w">   </span><span class="m">1023</span>,3,32<span class="w">      </span><span class="m">1026048</span><span class="w">    </span><span class="m">4098047</span><span class="w">    </span><span class="m">3072000</span><span class="w"> </span>1500M<span class="w"> </span><span class="m">83</span><span class="w"> </span>Linux
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>Disk<span class="w"> </span>/dev/sda:<span class="w"> </span><span class="m">32</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">33554432</span><span class="w"> </span>bytes,<span class="w"> </span><span class="m">65536</span><span class="w"> </span>sectors<span class="w"> </span><span class="m">37</span><span class="w"> </span>cylinders,<span class="w"> </span><span class="m">43</span><span class="w"> </span>heads,<span class="w"> </span><span class="m">41</span><span class="w"> </span>sectors/track
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>Units:<span class="w"> </span>sectors<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>Device<span class="w">  </span>Boot<span class="w"> </span>StartCHS<span class="w">    </span>EndCHS<span class="w">        </span>StartLBA<span class="w">     </span>EndLBA<span class="w">    </span>Sectors<span class="w">  </span>Size<span class="w"> </span>Id<span class="w"> </span>Type
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>/dev/sda1<span class="w">    </span><span class="m">0</span>,32,33<span class="w">     </span><span class="m">2</span>,42,41<span class="w">           </span><span class="m">2048</span><span class="w">      </span><span class="m">34816</span><span class="w">      </span><span class="m">32769</span><span class="w"> </span><span class="m">16</span>.0M<span class="w"> </span><span class="m">83</span><span class="w"> </span>Linux
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>Partition<span class="w"> </span><span class="m">1</span><span class="w"> </span>has<span class="w"> </span>different<span class="w"> </span>physical/logical<span class="w"> </span>start<span class="w"> </span><span class="o">(</span>non-Linux?<span class="o">)</span>:
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="w">     </span><span class="nv">phys</span><span class="o">=(</span><span class="m">0</span>,32,33<span class="o">)</span><span class="w"> </span><span class="nv">logical</span><span class="o">=(</span><span class="m">1</span>,6,40<span class="o">)</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>Partition<span class="w"> </span><span class="m">1</span><span class="w"> </span>has<span class="w"> </span>different<span class="w"> </span>physical/logical<span class="w"> </span>end:
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="w">     </span><span class="nv">phys</span><span class="o">=(</span><span class="m">2</span>,42,41<span class="o">)</span><span class="w"> </span><span class="nv">logical</span><span class="o">=(</span><span class="m">19</span>,32,8<span class="o">)</span>
</code></pre></div>
</li>
<li>
<p>Observe that the usb3_disk corresponds to the <strong>/dev/sda</strong> device and <strong>/dev/sda1</strong> corresponds to the partition created in this disk which size of 16 MB.</p>
</li>
<li>
<p>Mount the partition in usb3_disk, observe the content (<strong>hello1.txt</strong> file), add new content (<strong>hello2.txt</strong>), and unmount the disk.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>root@dhcp0:~#<span class="w"> </span>mkdir<span class="w"> </span>/media/usbDrive<span class="w"> </span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>root@dhcp0:~#<span class="w"> </span>mount<span class="w"> </span>/dev/sda1<span class="w"> </span>/media/usbDrive<span class="w"> </span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="o">[</span><span class="w">  </span><span class="m">680</span>.753967<span class="o">]</span><span class="w"> </span>EXT4-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>mounted<span class="w"> </span>filesystem<span class="w"> </span>with<span class="w"> </span>ordered<span class="w"> </span>data<span class="w"> </span>mode.<span class="w"> </span>Quota<span class="w"> </span>mode:<span class="w"> </span>none.
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>root@dhcp0:~#<span class="w"> </span>ls<span class="w"> </span>/media/usbDrive<span class="w"> </span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>hello1.txt<span class="w"> </span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>root@dhcp0:~#<span class="w"> </span>more<span class="w"> </span>/media/usbDrive/hello1.txt<span class="w"> </span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>This<span class="w"> </span>is<span class="w"> </span>my<span class="w"> </span>original<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>USB<span class="w"> </span>image
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>root@dhcp0:~#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is my new file in the USB image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/media/usbDrive/hello2.txt<span class="w"> </span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>root@dhcp0:~#<span class="w"> </span>ls<span class="w"> </span>/media/usbDrive<span class="w"> </span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>hello1.txt<span class="w">  </span>hello2.txt<span class="w"> </span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>root@dhcp0:~#<span class="w"> </span>umount<span class="w"> </span>/media/usbDrive/<span class="w"> </span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="o">[</span><span class="w"> </span><span class="m">2403</span>.043825<span class="o">]</span><span class="w"> </span>EXT4-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>unmounting<span class="w"> </span>filesystem.
</code></pre></div>
</li>
<li>
<p>Unplug the usb3_disk from the Simics CLI and observe that Linux detects this action.</p>
<p>In Simics CLI:
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>running&gt;<span class="w"> </span>system.board.usb3_disk.unplug<span class="w"> </span>
</code></pre></div></p>
<p>In Linux shell:
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>root@dhcp0:~#<span class="w"> </span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="o">[</span><span class="w"> </span><span class="m">1115</span>.122439<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>USB<span class="w"> </span>disconnect,<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">2</span>
</code></pre></div></p>
<p>You can call <strong>fdisk -l</strong> command again to observe that <strong>/dev/sda</strong> device is no longer present.</p>
</li>
<li>
<p>From the Simics CLI plugin, the usb3_disk again provides the <strong>usb3</strong> port. Observe in the Linux shell that the device connection is detected. Remount the device partition and confirm that the new content created before is still present. Finally, unmount the disk.</p>
<p>In Simics CLI:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>running&gt;<span class="w"> </span>system.board.usb3_disk.plug<span class="w"> </span><span class="nv">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>usb1_typec
</code></pre></div>
In Linux shell:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>root@dhcp0:~#<span class="w"> </span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="o">[</span><span class="w"> </span><span class="m">1415</span>.994946<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>new<span class="w"> </span>SuperSpeed<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">3</span><span class="w"> </span>using<span class="w"> </span>xhci-hcd
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="o">[</span><span class="w"> </span><span class="m">1416</span>.015078<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>LPM<span class="w"> </span><span class="nb">exit</span><span class="w"> </span>latency<span class="w"> </span>is<span class="w"> </span>zeroed,<span class="w"> </span>disabling<span class="w"> </span>LPM.
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="o">[</span><span class="w"> </span><span class="m">1416</span>.016520<span class="o">]</span><span class="w"> </span>usb-storage<span class="w"> </span><span class="m">3</span>-1:1.0:<span class="w"> </span>USB<span class="w"> </span>Mass<span class="w"> </span>Storage<span class="w"> </span>device<span class="w"> </span>detected
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="o">[</span><span class="w"> </span><span class="m">1416</span>.017476<span class="o">]</span><span class="w"> </span>scsi<span class="w"> </span>host0:<span class="w"> </span>usb-storage<span class="w"> </span><span class="m">3</span>-1:1.0
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="o">[</span><span class="w"> </span><span class="m">1417</span>.023153<span class="o">]</span><span class="w"> </span>scsi<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span>Direct-Access<span class="w">     </span>Vtech<span class="w">    </span>Turbo_Disk<span class="o">(</span>tm<span class="o">)</span><span class="w">   </span><span class="m">0001</span><span class="w"> </span>PQ:<span class="w"> </span><span class="m">0</span><span class="w"> </span>ANSI:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="o">[</span><span class="w"> </span><span class="m">1417</span>.024835<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span><span class="m">65536</span><span class="w"> </span><span class="m">512</span>-byte<span class="w"> </span>logical<span class="w"> </span>blocks:<span class="w"> </span><span class="o">(</span><span class="m">33</span>.6<span class="w"> </span>MB/32.0<span class="w"> </span>MiB<span class="o">)</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="o">[</span><span class="w"> </span><span class="m">1417</span>.025818<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Test<span class="w"> </span>WP<span class="w"> </span>failed,<span class="w"> </span>assume<span class="w"> </span>Write<span class="w"> </span>Enabled
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="o">[</span><span class="w"> </span><span class="m">1417</span>.026685<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Asking<span class="w"> </span><span class="k">for</span><span class="w"> </span>cache<span class="w"> </span>data<span class="w"> </span>failed
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="o">[</span><span class="w"> </span><span class="m">1417</span>.027290<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Assuming<span class="w"> </span>drive<span class="w"> </span>cache:<span class="w"> </span>write<span class="w"> </span>through
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="o">[</span><span class="w"> </span><span class="m">1417</span>.029785<span class="o">]</span><span class="w">  </span>sda:<span class="w"> </span>sda1
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="o">[</span><span class="w"> </span><span class="m">1417</span>.030333<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Attached<span class="w"> </span>SCSI<span class="w"> </span>disk
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a>root@dhcp0:~#<span class="w"> </span>fdisk<span class="w"> </span>-l
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a>Disk<span class="w"> </span>/dev/mmcblk0:<span class="w"> </span><span class="m">16</span><span class="w"> </span>GB,<span class="w"> </span><span class="m">17179869184</span><span class="w"> </span>bytes,<span class="w"> </span><span class="m">33554432</span><span class="w"> </span>sectors
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a>:
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a>Device<span class="w">  </span>Boot<span class="w"> </span>StartCHS<span class="w">    </span>EndCHS<span class="w">        </span>StartLBA<span class="w">     </span>EndLBA<span class="w">    </span>Sectors<span class="w">  </span>Size<span class="w"> </span>Id<span class="w"> </span>Type
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a>/dev/sda1<span class="w">    </span><span class="m">0</span>,32,33<span class="w">     </span><span class="m">2</span>,42,41<span class="w">           </span><span class="m">2048</span><span class="w">      </span><span class="m">34816</span><span class="w">      </span><span class="m">32769</span><span class="w"> </span><span class="m">16</span>.0M<span class="w"> </span><span class="m">83</span><span class="w"> </span>Linux
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a>Partition<span class="w"> </span><span class="m">1</span><span class="w"> </span>has<span class="w"> </span>different<span class="w"> </span>physical/logical<span class="w"> </span>start<span class="w"> </span><span class="o">(</span>non-Linux?<span class="o">)</span>:
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="w">     </span><span class="nv">phys</span><span class="o">=(</span><span class="m">0</span>,32,33<span class="o">)</span><span class="w"> </span><span class="nv">logical</span><span class="o">=(</span><span class="m">1</span>,6,40<span class="o">)</span>
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a>Partition<span class="w"> </span><span class="m">1</span><span class="w"> </span>has<span class="w"> </span>different<span class="w"> </span>physical/logical<span class="w"> </span>end:
<a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a><span class="w">     </span><span class="nv">phys</span><span class="o">=(</span><span class="m">2</span>,42,41<span class="o">)</span><span class="w"> </span><span class="nv">logical</span><span class="o">=(</span><span class="m">19</span>,32,8<span class="o">)</span>
<a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a>
<a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a>root@dhcp0:~#<span class="w"> </span>mount<span class="w"> </span>/dev/sda1<span class="w"> </span>/media/usbDrive<span class="w"> </span>
<a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="o">[</span><span class="w"> </span><span class="m">5419</span>.362283<span class="o">]</span><span class="w"> </span>EXT4-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>mounted<span class="w"> </span>filesystem<span class="w"> </span>0fe6c96c-996c-4659-b7e2-e694076e5aef<span class="w"> </span>r/w<span class="w"> </span>with<span class="w"> </span>ordered<span class="w"> </span>data<span class="w"> </span>mode.<span class="w"> </span>Quota<span class="w"> </span>mode:<span class="w"> </span>none.
<a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a>root@dhcp0:~#<span class="w"> </span>ls<span class="w">  </span>/media/usbDrive<span class="w"> </span>
<a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a>hello1.txt<span class="w">  </span>hello2.txt<span class="w">  </span>lost+found
<a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a>root@dhcp0:~#<span class="w"> </span>more<span class="w">  </span>/media/usbDrive<span class="w"> </span>/media/usbDrive/hello2.txt
<a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a>This<span class="w"> </span>is<span class="w"> </span>my<span class="w"> </span>new<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>USB<span class="w"> </span>image
<a id="__codelineno-39-30" name="__codelineno-39-30" href="#__codelineno-39-30"></a>root@dhcp0:~#<span class="w"> </span>umount<span class="w"> </span>/media/usbDrive/<span class="w"> </span>
<a id="__codelineno-39-31" name="__codelineno-39-31" href="#__codelineno-39-31"></a><span class="o">[</span><span class="w"> </span><span class="m">7348</span>.324046<span class="o">]</span><span class="w"> </span>EXT4-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>unmounting<span class="w"> </span>filesystem<span class="w"> </span>0fe6c96c-996c-4659-b7e2-e694076e5aef.
</code></pre></div>
</li>
</ol>
<h4 id="use-case-exercise-ubifs-qspi-boot-flow-from-fsbl-to-linux">Use Case: Exercise UBIFS QSPI Boot Flow from FSBL to Linux<a class="headerlink" href="#use-case-exercise-ubifs-qspi-boot-flow-from-fsbl-to-linux" title="Permanent link">&para;</a></h4>
<p>This use case consists of booting from a QSPI flash device going from U-Boot to Linux prompt passing through <strong>U-Boot SPL → ATF → U-Boot → Linux</strong> using an image with UBIFS format.</p>
<h5>Setup</h5>

<p>Perform steps 1 to 4 described in the <a href="#simulation-setup">Simulation Setup</a> section.</p>
<ol>
<li>
<p>In the Intel Simics environment at the project directory, generate a compressed version of the .rpd file created (.craff) file using the <strong>craff</strong> tool provided under the Simics Base installation directory:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>&lt;SimicsInstallDir&gt;/simics-7.59.0/bin/craff<span class="w"> </span>-o<span class="w"> </span>qspi_image.img.craff<span class="w"> </span>flash_image_jic.rpd
</code></pre></div>
<p>The following file is created under the Simics project directory:</p>
<ul>
<li>qspi_image.img.craff</li>
</ul>
</li>
<li>
<p>In the Intel Simics environment at the project directory, create a customized target script to exercise the FSBL to Linux boot flow from QSPI device with an image with UBIFS format. The file to create is called <strong>uboot-linux_qspi.simics</strong>. This file will look like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">#uboot-linux_qspi.simics</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="nv">$fsbl_image_filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;u-boot-spl-dtb_qspi.bin&quot;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="nv">$qspi_image_filename</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;qspi_image.img.craff&quot;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="nv">$hps_boot_core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="nv">$create_hps_sd_card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>FALSE
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>run-script<span class="w"> </span><span class="s2">&quot;targets/agilex5e-universal/agilex5e-universal.simics&quot;</span>
</code></pre></div>
</li>
</ol>
<h5>Procedure</h5>

<p>To exercise this use case, follow the steps below once the Simulation setup is complete:</p>
<ol>
<li>
<p>From the project directory, launch the simulation using the <strong>uboot-linux_qspi.simics</strong> target script. This script launches the simulator and the current terminal becomes the Simics CLI:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>$<span class="w"> </span>./simics<span class="w"> </span>uboot-linux_qspi.simics<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>From the Simics CLI, start running the simulation with the <code>run</code> command.
  <div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>simics&gt;<span class="w">  </span>run
</code></pre></div></p>
</li>
<li>
<p>Wait for the simulation to get to the Linux prompt in the target serial console.</p>
</li>
<li>
<p>Login into the Linux prompt using the <strong>root</strong> user without a password.  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="w"> </span>U-Boot<span class="w"> </span>SPL<span class="w"> </span><span class="m">2024</span>.04<span class="w"> </span><span class="o">(</span>Oct<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">2024</span><span class="w"> </span>-<span class="w"> </span><span class="m">02</span>:54:45<span class="w"> </span>+0000<span class="o">)</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">  </span>Reset<span class="w"> </span>state:<span class="w"> </span>Cold
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">  </span>MPU<span class="w">           </span><span class="m">875000</span><span class="w"> </span>kHz
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">  </span>L4<span class="w"> </span>Main<span class="w">       </span><span class="m">400000</span><span class="w"> </span>kHz
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">  </span>L4<span class="w"> </span>sys<span class="w"> </span>free<span class="w">   </span><span class="m">100000</span><span class="w"> </span>kHz
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">  </span>L4<span class="w"> </span>MP<span class="w">         </span><span class="m">200000</span><span class="w"> </span>kHz
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">  </span>L4<span class="w"> </span>SP<span class="w">         </span><span class="m">100000</span><span class="w"> </span>kHz
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">  </span>SDMMC<span class="w">          </span><span class="m">50000</span><span class="w"> </span>kHz
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">  </span>io96b_cal_status:<span class="w"> </span>Calibration<span class="w"> </span><span class="k">for</span><span class="w"> </span>IO96B<span class="w"> </span>instance<span class="w"> </span>0x18400400<span class="w"> </span><span class="k">done</span><span class="w"> </span>at<span class="w"> </span><span class="m">0</span><span class="w"> </span>msec!
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="w">  </span>init_mem_cal:<span class="w"> </span>Initial<span class="w"> </span>DDR<span class="w"> </span>calibration<span class="w"> </span>IO96B_0<span class="w"> </span>succeed
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="w">  </span>io96b_mb_init:<span class="w"> </span>num_instance<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="w">  </span>io96b_mb_init:<span class="w"> </span>get<span class="w"> </span>memory<span class="w"> </span>interface<span class="w"> </span>IO96B<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="w">  </span>:
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a><span class="w">  </span>ecc_enable_status:<span class="w"> </span>ECC<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>status:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a><span class="w">  </span>DDR:<span class="w"> </span>size<span class="w"> </span>check<span class="w"> </span>success
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a><span class="w">  </span>DDR:<span class="w"> </span>firewall<span class="w"> </span>init<span class="w"> </span>success
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a><span class="w">  </span>DDR:<span class="w"> </span>init<span class="w"> </span>success
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a><span class="w">  </span>QSPI:<span class="w"> </span>Reference<span class="w"> </span>clock<span class="w"> </span>at<span class="w"> </span><span class="m">400000</span><span class="w"> </span>kHz
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a><span class="w">  </span>Trying<span class="w"> </span>to<span class="w"> </span>boot<span class="w"> </span>from<span class="w"> </span>SPI
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a><span class="w">  </span><span class="c1">## Checking hash(es) for config board-0 ... OK</span>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a><span class="w">  </span><span class="c1">## Checking hash(es) for Image atf ... crc32+ OK</span>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="w">  </span><span class="c1">## Checking hash(es) for Image uboot ... crc32+ OK</span>
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a><span class="w">  </span><span class="c1">## Checking hash(es) for Image fdt-0 ... crc32+ OK</span>
<a id="__codelineno-44-24" name="__codelineno-44-24" href="#__codelineno-44-24"></a><span class="w">  </span>WARNING:<span class="w"> </span>Data<span class="w"> </span>cache<span class="w"> </span>not<span class="w"> </span>enabled
<a id="__codelineno-44-25" name="__codelineno-44-25" href="#__codelineno-44-25"></a><span class="w">  </span>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>Boot<span class="w"> </span><span class="nv">Core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-44-26" name="__codelineno-44-26" href="#__codelineno-44-26"></a><span class="w">  </span>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>CPU<span class="w"> </span><span class="nv">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-44-27" name="__codelineno-44-27" href="#__codelineno-44-27"></a><span class="w">  </span>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>v2.11.0<span class="o">(</span>release<span class="o">)</span>:QPDS24.3_REL_GSRD_PR
<a id="__codelineno-44-28" name="__codelineno-44-28" href="#__codelineno-44-28"></a><span class="w">  </span>NOTICE:<span class="w">  </span>BL31:<span class="w"> </span>Built<span class="w"> </span>:<span class="w"> </span><span class="m">07</span>:09:49,<span class="w"> </span>Oct<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">2024</span>
<a id="__codelineno-44-29" name="__codelineno-44-29" href="#__codelineno-44-29"></a>
<a id="__codelineno-44-30" name="__codelineno-44-30" href="#__codelineno-44-30"></a><span class="w">  </span>U-Boot<span class="w"> </span><span class="m">2024</span>.04<span class="w"> </span><span class="o">(</span>Oct<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">2024</span><span class="w"> </span>-<span class="w"> </span><span class="m">02</span>:54:45<span class="w"> </span>+0000<span class="o">)</span>socfpga_agilex5
<a id="__codelineno-44-31" name="__codelineno-44-31" href="#__codelineno-44-31"></a>
<a id="__codelineno-44-32" name="__codelineno-44-32" href="#__codelineno-44-32"></a><span class="w">  </span>CPU:<span class="w">   </span>Altera®<span class="w"> </span>FPGA<span class="w"> </span>SoCFPGA<span class="w"> </span>Platform<span class="w"> </span><span class="o">(</span>ARMv8<span class="w"> </span>64bit<span class="w"> </span>Cortex-A55/A76<span class="o">)</span>
<a id="__codelineno-44-33" name="__codelineno-44-33" href="#__codelineno-44-33"></a><span class="w">  </span>Model:<span class="w"> </span>SoCFPGA<span class="w"> </span>Agilex5<span class="w"> </span>SoCDK
<a id="__codelineno-44-34" name="__codelineno-44-34" href="#__codelineno-44-34"></a><span class="w">  </span>DRAM:<span class="w">  </span><span class="m">2</span><span class="w"> </span>GiB<span class="w"> </span><span class="o">(</span>effective<span class="w"> </span><span class="m">8</span><span class="w"> </span>GiB<span class="o">)</span>
<a id="__codelineno-44-35" name="__codelineno-44-35" href="#__codelineno-44-35"></a><span class="w">  </span>Core:<span class="w">  </span><span class="m">51</span><span class="w"> </span>devices,<span class="w"> </span><span class="m">26</span><span class="w"> </span>uclasses,<span class="w"> </span>devicetree:<span class="w"> </span>separate
<a id="__codelineno-44-36" name="__codelineno-44-36" href="#__codelineno-44-36"></a><span class="w">  </span>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00200
<a id="__codelineno-44-37" name="__codelineno-44-37" href="#__codelineno-44-37"></a><span class="w">  </span>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00300
<a id="__codelineno-44-38" name="__codelineno-44-38" href="#__codelineno-44-38"></a><span class="w">  </span>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00400
<a id="__codelineno-44-39" name="__codelineno-44-39" href="#__codelineno-44-39"></a><span class="w">  </span>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00500
<a id="__codelineno-44-40" name="__codelineno-44-40" href="#__codelineno-44-40"></a><span class="w">  </span>WDT:<span class="w">   </span>Not<span class="w"> </span>starting<span class="w"> </span>watchdog@10d00600
<a id="__codelineno-44-41" name="__codelineno-44-41" href="#__codelineno-44-41"></a><span class="w">  </span>NAND:<span class="w">  </span><span class="m">4096</span><span class="w"> </span>MiB
<a id="__codelineno-44-42" name="__codelineno-44-42" href="#__codelineno-44-42"></a><span class="w">  </span>MMC:<span class="w">   </span>mmc0@10808000:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-44-43" name="__codelineno-44-43" href="#__codelineno-44-43"></a><span class="w">  </span>Loading<span class="w"> </span>Environment<span class="w"> </span>from<span class="w"> </span>FAT...<span class="w"> </span>MMC:<span class="w"> </span>no<span class="w"> </span>card<span class="w"> </span>present
<a id="__codelineno-44-44" name="__codelineno-44-44" href="#__codelineno-44-44"></a><span class="w">  </span>:
<a id="__codelineno-44-45" name="__codelineno-44-45" href="#__codelineno-44-45"></a><span class="w">  </span>Hit<span class="w"> </span>any<span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span>stop<span class="w"> </span>autoboot:<span class="w">  </span><span class="m">0</span><span class="w"> </span>
<a id="__codelineno-44-46" name="__codelineno-44-46" href="#__codelineno-44-46"></a><span class="w">  </span>MMC:<span class="w"> </span>no<span class="w"> </span>card<span class="w"> </span>present
<a id="__codelineno-44-47" name="__codelineno-44-47" href="#__codelineno-44-47"></a><span class="w">  </span>SF:<span class="w"> </span>Detected<span class="w"> </span>mt25qu02g<span class="w"> </span>with<span class="w"> </span>page<span class="w"> </span>size<span class="w"> </span><span class="m">256</span><span class="w"> </span>Bytes,<span class="w"> </span>erase<span class="w"> </span>size<span class="w"> </span><span class="m">64</span><span class="w"> </span>KiB,<span class="w"> </span>total<span class="w"> </span><span class="m">256</span><span class="w"> </span>MiB
<a id="__codelineno-44-48" name="__codelineno-44-48" href="#__codelineno-44-48"></a><span class="w">  </span>Select<span class="w"> </span>Environment<span class="w"> </span>on<span class="w"> </span>UBI:<span class="w"> </span>OK
<a id="__codelineno-44-49" name="__codelineno-44-49" href="#__codelineno-44-49"></a><span class="w">  </span>Saving<span class="w"> </span>Environment<span class="w"> </span>to<span class="w"> </span>UBI...<span class="w"> </span><span class="k">done</span>
<a id="__codelineno-44-50" name="__codelineno-44-50" href="#__codelineno-44-50"></a><span class="w">  </span>OK
<a id="__codelineno-44-51" name="__codelineno-44-51" href="#__codelineno-44-51"></a><span class="w">  </span>UBI<span class="w"> </span>partition<span class="w"> </span><span class="s1">&#39;root&#39;</span><span class="w"> </span>already<span class="w"> </span>selected
<a id="__codelineno-44-52" name="__codelineno-44-52" href="#__codelineno-44-52"></a><span class="w">  </span>UBI<span class="w"> </span>partition<span class="w"> </span><span class="s1">&#39;root&#39;</span><span class="w"> </span>already<span class="w"> </span>selected
<a id="__codelineno-44-53" name="__codelineno-44-53" href="#__codelineno-44-53"></a><span class="w">  </span>No<span class="w"> </span>size<span class="w"> </span>specified<span class="w"> </span>-&gt;<span class="w"> </span>Using<span class="w"> </span>max<span class="w"> </span>size<span class="w"> </span><span class="o">(</span><span class="m">196224</span><span class="o">)</span>
<a id="__codelineno-44-54" name="__codelineno-44-54" href="#__codelineno-44-54"></a><span class="w">  </span>Read<span class="w"> </span><span class="m">196224</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>volume<span class="w"> </span>script<span class="w"> </span>to<span class="w"> </span><span class="m">0000000081000000</span>
<a id="__codelineno-44-55" name="__codelineno-44-55" href="#__codelineno-44-55"></a><span class="w">  </span>QSPI:<span class="w"> </span>Running<span class="w"> </span>script<span class="w"> </span>from<span class="w"> </span>UBIFS
<a id="__codelineno-44-56" name="__codelineno-44-56" href="#__codelineno-44-56"></a><span class="w">  </span>QSPI:<span class="w"> </span>Trying<span class="w"> </span>to<span class="w"> </span>boot<span class="w"> </span>script<span class="w"> </span>at<span class="w"> </span>0x81000000
<a id="__codelineno-44-57" name="__codelineno-44-57" href="#__codelineno-44-57"></a><span class="w">  </span><span class="c1">## Executing script at 81000000</span>
<a id="__codelineno-44-58" name="__codelineno-44-58" href="#__codelineno-44-58"></a><span class="w">  </span>crc32+<span class="w"> </span>Trying<span class="w"> </span>to<span class="w"> </span>boot<span class="w"> </span>Linux<span class="w"> </span>from<span class="w"> </span>device<span class="w"> </span>qspi
<a id="__codelineno-44-59" name="__codelineno-44-59" href="#__codelineno-44-59"></a>
<a id="__codelineno-44-60" name="__codelineno-44-60" href="#__codelineno-44-60"></a><span class="w">  </span>device<span class="w"> </span>nor0<span class="w"> </span>&lt;nor0&gt;,<span class="w"> </span><span class="c1"># parts = 2</span>
<a id="__codelineno-44-61" name="__codelineno-44-61" href="#__codelineno-44-61"></a><span class="w">  </span><span class="c1">#: name                size            offset          mask_flags</span>
<a id="__codelineno-44-62" name="__codelineno-44-62" href="#__codelineno-44-62"></a><span class="w">  </span><span class="m">0</span>:<span class="w"> </span>u-boot<span class="w">              </span>0x04200000<span class="w">      </span>0x00000000<span class="w">      </span><span class="m">0</span>
<a id="__codelineno-44-63" name="__codelineno-44-63" href="#__codelineno-44-63"></a><span class="w">  </span><span class="m">1</span>:<span class="w"> </span>root<span class="w">                </span>0x0be00000<span class="w">      </span>0x04200000<span class="w">      </span><span class="m">0</span>
<a id="__codelineno-44-64" name="__codelineno-44-64" href="#__codelineno-44-64"></a>
<a id="__codelineno-44-65" name="__codelineno-44-65" href="#__codelineno-44-65"></a><span class="w">  </span>device<span class="w"> </span>nand0<span class="w"> </span>&lt;nand.0&gt;,<span class="w"> </span><span class="c1"># parts = 2</span>
<a id="__codelineno-44-66" name="__codelineno-44-66" href="#__codelineno-44-66"></a><span class="w">  </span><span class="c1">#: name                size            offset          mask_flags</span>
<a id="__codelineno-44-67" name="__codelineno-44-67" href="#__codelineno-44-67"></a><span class="w">  </span><span class="m">0</span>:<span class="w"> </span>nand_uboot<span class="w">          </span>0x00200000<span class="w">      </span>0x00000000<span class="w">      </span><span class="m">0</span>
<a id="__codelineno-44-68" name="__codelineno-44-68" href="#__codelineno-44-68"></a><span class="w">  </span><span class="m">1</span>:<span class="w"> </span>nand_root<span class="w">           </span>0x1f400000<span class="w">      </span>0x00200000<span class="w">      </span><span class="m">0</span>
<a id="__codelineno-44-69" name="__codelineno-44-69" href="#__codelineno-44-69"></a>
<a id="__codelineno-44-70" name="__codelineno-44-70" href="#__codelineno-44-70"></a><span class="w">  </span>active<span class="w"> </span>partition:<span class="w"> </span>nor0,0<span class="w"> </span>-<span class="w"> </span><span class="o">(</span>u-boot<span class="o">)</span><span class="w"> </span>0x04200000<span class="w"> </span>@<span class="w"> </span>0x00000000
<a id="__codelineno-44-71" name="__codelineno-44-71" href="#__codelineno-44-71"></a>
<a id="__codelineno-44-72" name="__codelineno-44-72" href="#__codelineno-44-72"></a><span class="w">  </span>defaults:
<a id="__codelineno-44-73" name="__codelineno-44-73" href="#__codelineno-44-73"></a><span class="w">  </span>mtdids<span class="w">  </span>:<span class="w"> </span><span class="nv">nand0</span><span class="o">=</span>10b80000.nand.0
<a id="__codelineno-44-74" name="__codelineno-44-74" href="#__codelineno-44-74"></a><span class="w">  </span>mtdparts:<span class="w"> </span><span class="nv">mtdparts</span><span class="o">=</span>10b80000.nand.0:2m<span class="o">(</span>u-boot<span class="o">)</span>,-<span class="o">(</span>root<span class="o">)</span>
<a id="__codelineno-44-75" name="__codelineno-44-75" href="#__codelineno-44-75"></a><span class="w">  </span>UBI<span class="w"> </span>partition<span class="w"> </span><span class="s1">&#39;root&#39;</span><span class="w"> </span>already<span class="w"> </span>selected
<a id="__codelineno-44-76" name="__codelineno-44-76" href="#__codelineno-44-76"></a><span class="w">  </span>:
<a id="__codelineno-44-77" name="__codelineno-44-77" href="#__codelineno-44-77"></a><span class="w">  </span>SF:<span class="w"> </span>Detected<span class="w"> </span>mt25qu02g<span class="w"> </span>with<span class="w"> </span>page<span class="w"> </span>size<span class="w"> </span><span class="m">256</span><span class="w"> </span>Bytes,<span class="w"> </span>erase<span class="w"> </span>size<span class="w"> </span><span class="m">64</span><span class="w"> </span>KiB,<span class="w"> </span>total<span class="w"> </span><span class="m">256</span><span class="w"> </span>MiB
<a id="__codelineno-44-78" name="__codelineno-44-78" href="#__codelineno-44-78"></a><span class="w">  </span>Enabling<span class="w"> </span>QSPI<span class="w"> </span>at<span class="w"> </span>Linux<span class="w"> </span>DTB...
<a id="__codelineno-44-79" name="__codelineno-44-79" href="#__codelineno-44-79"></a><span class="w">  </span>Working<span class="w"> </span>FDT<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>ffae1000
<a id="__codelineno-44-80" name="__codelineno-44-80" href="#__codelineno-44-80"></a><span class="w">  </span>QSPI<span class="w"> </span>clock<span class="w"> </span>frequency<span class="w"> </span>updated
<a id="__codelineno-44-81" name="__codelineno-44-81" href="#__codelineno-44-81"></a><span class="w">  </span>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-44-82" name="__codelineno-44-82" href="#__codelineno-44-82"></a><span class="w">  </span>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-44-83" name="__codelineno-44-83" href="#__codelineno-44-83"></a><span class="w">  </span>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-44-84" name="__codelineno-44-84" href="#__codelineno-44-84"></a><span class="w">  </span>RSU:<span class="w"> </span>Firmware<span class="w"> </span>or<span class="w"> </span>flash<span class="w"> </span>content<span class="w"> </span>not<span class="w"> </span>supporting<span class="w"> </span>RSU
<a id="__codelineno-44-85" name="__codelineno-44-85" href="#__codelineno-44-85"></a>
<a id="__codelineno-44-86" name="__codelineno-44-86" href="#__codelineno-44-86"></a><span class="w">  </span>Starting<span class="w"> </span>kernel<span class="w"> </span>...
<a id="__codelineno-44-87" name="__codelineno-44-87" href="#__codelineno-44-87"></a>
<a id="__codelineno-44-88" name="__codelineno-44-88" href="#__codelineno-44-88"></a><span class="w">  </span>Deasserting<span class="w"> </span>all<span class="w"> </span>peripheral<span class="w"> </span>resets
<a id="__codelineno-44-89" name="__codelineno-44-89" href="#__codelineno-44-89"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Booting<span class="w"> </span>Linux<span class="w"> </span>on<span class="w"> </span>physical<span class="w"> </span>CPU<span class="w"> </span>0x0000000000<span class="w"> </span><span class="o">[</span>0x412fd050<span class="o">]</span>
<a id="__codelineno-44-90" name="__codelineno-44-90" href="#__codelineno-44-90"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Linux<span class="w"> </span>version<span class="w"> </span><span class="m">6</span>.6.37-altera-g978b3d90f408<span class="w"> </span><span class="o">(</span>oe-user@oe-host<span class="o">)</span><span class="w"> </span><span class="o">(</span>aarch64-poky-linux-gcc<span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span><span class="w"> </span><span class="m">13</span>.3.0,<span class="w"> </span>GNU<span class="w"> </span>ld<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>Binutils<span class="o">)</span><span class="w"> </span><span class="m">2</span>.42.0.20240723<span class="o">)</span><span class="w"> </span><span class="c1">#1 SMP PREEMPT Mon Oct 14 01:56:39 UTC 2024</span>
<a id="__codelineno-44-91" name="__codelineno-44-91" href="#__codelineno-44-91"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>KASLR<span class="w"> </span>disabled<span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span>lack<span class="w"> </span>of<span class="w"> </span>seed
<a id="__codelineno-44-92" name="__codelineno-44-92" href="#__codelineno-44-92"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Machine<span class="w"> </span>model:<span class="w"> </span>SoCFPGA<span class="w"> </span>Agilex5<span class="w"> </span>SoCDK
<a id="__codelineno-44-93" name="__codelineno-44-93" href="#__codelineno-44-93"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>efi:<span class="w"> </span>UEFI<span class="w"> </span>not<span class="w"> </span>found.
<a id="__codelineno-44-94" name="__codelineno-44-94" href="#__codelineno-44-94"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>Reserved<span class="w"> </span>memory:<span class="w"> </span>created<span class="w"> </span>DMA<span class="w"> </span>memory<span class="w"> </span>pool<span class="w"> </span>at<span class="w"> </span>0x0000000080000000,<span class="w"> </span>size<span class="w"> </span><span class="m">32</span><span class="w"> </span>MiB
<a id="__codelineno-44-95" name="__codelineno-44-95" href="#__codelineno-44-95"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>OF:<span class="w"> </span>reserved<span class="w"> </span>mem:<span class="w"> </span>initialized<span class="w"> </span>node<span class="w"> </span>svcbuffer@0,<span class="w"> </span>compatible<span class="w"> </span>id<span class="w"> </span>shared-dma-pool
<a id="__codelineno-44-96" name="__codelineno-44-96" href="#__codelineno-44-96"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>OF:<span class="w"> </span>reserved<span class="w"> </span>mem:<span class="w"> </span>0x0000000080000000..0x0000000081ffffff<span class="w"> </span><span class="o">(</span><span class="m">32768</span><span class="w"> </span>KiB<span class="o">)</span><span class="w"> </span>nomap<span class="w"> </span>non-reusable<span class="w"> </span>svcbuffer@0
<a id="__codelineno-44-97" name="__codelineno-44-97" href="#__codelineno-44-97"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>earlycon:<span class="w"> </span>uart0<span class="w"> </span>at<span class="w"> </span>MMIO32<span class="w"> </span>0x0000000010c02000<span class="w"> </span><span class="o">(</span>options<span class="w"> </span><span class="s1">&#39;115200n8&#39;</span><span class="o">)</span>
<a id="__codelineno-44-98" name="__codelineno-44-98" href="#__codelineno-44-98"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>printk:<span class="w"> </span>bootconsole<span class="w"> </span><span class="o">[</span>uart0<span class="o">]</span><span class="w"> </span>enabled
<a id="__codelineno-44-99" name="__codelineno-44-99" href="#__codelineno-44-99"></a><span class="w">  </span><span class="o">[</span><span class="w">    </span><span class="m">0</span>.000000<span class="o">]</span><span class="w"> </span>NUMA:<span class="w"> </span>No<span class="w"> </span>NUMA<span class="w"> </span>configuration<span class="w"> </span>found
<a id="__codelineno-44-100" name="__codelineno-44-100" href="#__codelineno-44-100"></a><span class="w">  </span>:
<a id="__codelineno-44-101" name="__codelineno-44-101" href="#__codelineno-44-101"></a><span class="w">  </span>Poky<span class="w"> </span><span class="o">(</span>Yocto<span class="w"> </span>Project<span class="w"> </span>Reference<span class="w"> </span>Distro<span class="o">)</span><span class="w"> </span><span class="m">5</span>.0.5<span class="w"> </span>agilex5dka5e065bb32aes1<span class="w"> </span>ttyS0
<a id="__codelineno-44-102" name="__codelineno-44-102" href="#__codelineno-44-102"></a>
<a id="__codelineno-44-103" name="__codelineno-44-103" href="#__codelineno-44-103"></a><span class="w"> </span>agilex5dka5e065bb32aes1<span class="w"> </span>login:<span class="w"> </span><span class="o">[</span><span class="w">  </span><span class="m">270</span>.942017<span class="o">]</span><span class="w"> </span>socfpga-dwmac<span class="w"> </span><span class="m">10830000</span>.ethernet<span class="w"> </span>eth0:<span class="w"> </span>Register<span class="w"> </span>MEM_TYPE_PAGE_POOL<span class="w"> </span>RxQ-0
<a id="__codelineno-44-104" name="__codelineno-44-104" href="#__codelineno-44-104"></a><span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">270</span>.947263<span class="o">]</span><span class="w"> </span>socfpga-dwmac<span class="w"> </span><span class="m">10830000</span>.ethernet<span class="w"> </span>eth0:<span class="w"> </span>Register<span class="w"> </span>MEM_TYPE_PAGE_POOL<span class="w"> </span>RxQ-1
<a id="__codelineno-44-105" name="__codelineno-44-105" href="#__codelineno-44-105"></a><span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">270</span>.952619<span class="o">]</span><span class="w"> </span>socfpga-dwmac<span class="w"> </span><span class="m">10830000</span>.ethernet<span class="w"> </span>eth0:<span class="w"> </span>Register<span class="w"> </span>MEM_TYPE_PAGE_POOL<span class="w"> </span>RxQ-2
<a id="__codelineno-44-106" name="__codelineno-44-106" href="#__codelineno-44-106"></a><span class="w">  </span>:
<a id="__codelineno-44-107" name="__codelineno-44-107" href="#__codelineno-44-107"></a><span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">281</span>.452200<span class="o">]</span><span class="w"> </span>socfpga-dwmac<span class="w"> </span><span class="m">10830000</span>.ethernet<span class="w"> </span>eth0:<span class="w"> </span>Link<span class="w"> </span>is<span class="w"> </span>Up<span class="w"> </span>-<span class="w"> </span>1Gbps/Full<span class="w"> </span>-<span class="w"> </span>flow<span class="w"> </span>control<span class="w"> </span>rx/tx
<a id="__codelineno-44-108" name="__codelineno-44-108" href="#__codelineno-44-108"></a><span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">311</span>.541769<span class="o">]</span><span class="w"> </span>audit:<span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="m">1334</span><span class="w"> </span>audit<span class="o">(</span><span class="m">1709054902</span>.844:15<span class="o">)</span>:<span class="w"> </span>prog-id<span class="o">=</span><span class="m">18</span><span class="w"> </span><span class="nv">op</span><span class="o">=</span>UNLOAD
<a id="__codelineno-44-109" name="__codelineno-44-109" href="#__codelineno-44-109"></a><span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">311</span>.542509<span class="o">]</span><span class="w"> </span>audit:<span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="m">1334</span><span class="w"> </span>audit<span class="o">(</span><span class="m">1709054902</span>.844:16<span class="o">)</span>:<span class="w"> </span>prog-id<span class="o">=</span><span class="m">17</span><span class="w"> </span><span class="nv">op</span><span class="o">=</span>UNLOAD
<a id="__codelineno-44-110" name="__codelineno-44-110" href="#__codelineno-44-110"></a><span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">311</span>.543247<span class="o">]</span><span class="w"> </span>audit:<span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="m">1334</span><span class="w"> </span>audit<span class="o">(</span><span class="m">1709054902</span>.844:17<span class="o">)</span>:<span class="w"> </span>prog-id<span class="o">=</span><span class="m">16</span><span class="w"> </span><span class="nv">op</span><span class="o">=</span>UNLOAD
<a id="__codelineno-44-111" name="__codelineno-44-111" href="#__codelineno-44-111"></a>
<a id="__codelineno-44-112" name="__codelineno-44-112" href="#__codelineno-44-112"></a><span class="w">  </span>dhcp0<span class="w"> </span>login:<span class="w"> </span>root
<a id="__codelineno-44-113" name="__codelineno-44-113" href="#__codelineno-44-113"></a>
<a id="__codelineno-44-114" name="__codelineno-44-114" href="#__codelineno-44-114"></a><span class="w">  </span>WARNING:<span class="w"> </span>Poky<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>reference<span class="w"> </span>Yocto<span class="w"> </span>Project<span class="w"> </span>distribution<span class="w"> </span>that<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>testing<span class="w"> </span>and<span class="w"> </span>development<span class="w"> </span>purposes<span class="w"> </span>only.<span class="w"> </span>It<span class="w"> </span>is<span class="w"> </span>recommended<span class="w"> </span>that<span class="w"> </span>you<span class="w"> </span>create<span class="w"> </span>your<span class="w"> </span>own<span class="w"> </span>distribution<span class="w"> </span><span class="k">for</span><span class="w"> </span>production<span class="w"> </span>use.
<a id="__codelineno-44-115" name="__codelineno-44-115" href="#__codelineno-44-115"></a>
<a id="__codelineno-44-116" name="__codelineno-44-116" href="#__codelineno-44-116"></a><span class="w">  </span>root@dhcp0:~#
</code></pre></div>
</li>
</ol>
<h4 id="use-case-debug-bare-metal-code-using-intel-simics-simulator">Use Case: Debug Bare-Metal Code Using Intel Simics Simulator<a class="headerlink" href="#use-case-debug-bare-metal-code-using-intel-simics-simulator" title="Permanent link">&para;</a></h4>
<p>This use case consists of performing a debug session in a bare-metal environment, which in this case corresponds to a U-Boot application example. In this use case, debugging is performed using only the Simics CLI commands allowing us to navigate on the source code of the application, advance in the execution of this, and observe and modify values of variables. The application is created in the form of a U-Boot command (<strong>helloTestApp</strong>) that should be executed from the U-Boot shell. The application starts by printing a hello message (<strong>Hello Altera® SoC FPGA!</strong>) and printing the number of times the command has been executed since the last power-up. After this, the application enters into a loop in which it waits for 100 sec and increases an iteration counter by one. The content on the loop is executed as long as the iterator counter is lower than 100000 and also the value of the <strong>exitVar</strong> variable remains in 0, otherwise, it leaves the loop and continues printing the number of times the content of the loop was executed. After this, the code performs some mathematical operations involving the iterator value and other variables and finally prints the result of the final operation.</p>
<p>The source code of the application is shown next. This is included in the <strong>do_helloTestApp()</strong> function, which then is referenced in the <strong>U_BOOT_CMD</strong> macro, which converts this into a U-Boot command. This source code must be included in a new file under the U-Boot repository as <strong>cmd/socFPGATrainingExamples.c</strong>. Also, to be built as part of the U-Boot binaries, update the <strong>cmd/Makefile</strong> file by adding <strong>obj-y += socFPGATrainingExamples.o</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>/*
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">   </span>Training<span class="w"> </span>Examples<span class="w"> </span>called<span class="w"> </span>from<span class="w"> </span>a<span class="w"> </span><span class="nb">command</span><span class="w"> </span>from<span class="w"> </span>U-Boot<span class="w"> </span>shell
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>*/
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="c1">#include &lt;stdio.h&gt;</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="c1">#include &lt;command.h&gt;</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="c1">#include &lt;linux/delay.h&gt;</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a>static<span class="w"> </span>char<span class="w"> </span>helloTestCmd_help_text<span class="o">[]</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="w">   </span><span class="s2">&quot;helloTestApp\t\n&quot;</span><span class="p">;</span>
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a>
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a>static<span class="w"> </span>unsigned<span class="w"> </span>int<span class="w"> </span><span class="nv">execCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a>
<a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a>static<span class="w"> </span>int<span class="w"> </span>do_helloTestApp<span class="o">(</span>struct<span class="w"> </span>cmd_tbl<span class="w"> </span>*cmdtp,<span class="w"> </span>int<span class="w"> </span>flag,<span class="w"> </span>int<span class="w"> </span>argc,<span class="w"> </span>char<span class="w"> </span>*const<span class="w"> </span>argv<span class="o">[])</span>
<a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="o">{</span>
<a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="w">   </span>volatile<span class="w"> </span>unsigned<span class="w"> </span>char<span class="w"> </span><span class="nv">exitVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="w">   </span>unsigned<span class="w"> </span>int<span class="w"> </span><span class="nv">waitIter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a><span class="w">   </span>volatile<span class="w"> </span>unsigned<span class="w"> </span>int<span class="w"> </span><span class="nv">myVarA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a><span class="w">   </span>unsigned<span class="w"> </span>int<span class="w"> </span><span class="nv">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="w">   </span>unsigned<span class="w"> </span>int<span class="w"> </span>result<span class="p">;</span>
<a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a>
<a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a><span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="o">(</span>argc<span class="w"> </span>&gt;<span class="w"> </span><span class="m">1</span><span class="o">)</span>
<a id="__codelineno-45-23" name="__codelineno-45-23" href="#__codelineno-45-23"></a><span class="w">   </span><span class="o">{</span>
<a id="__codelineno-45-24" name="__codelineno-45-24" href="#__codelineno-45-24"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span>CMD_RET_USAGE<span class="p">;</span>
<a id="__codelineno-45-25" name="__codelineno-45-25" href="#__codelineno-45-25"></a><span class="w">   </span><span class="o">}</span>
<a id="__codelineno-45-26" name="__codelineno-45-26" href="#__codelineno-45-26"></a>
<a id="__codelineno-45-27" name="__codelineno-45-27" href="#__codelineno-45-27"></a><span class="w">   </span>printf<span class="o">(</span><span class="s2">&quot;Hello Altera® SoC FPGA! \r\n&quot;</span><span class="o">)</span><span class="p">;</span>
<a id="__codelineno-45-28" name="__codelineno-45-28" href="#__codelineno-45-28"></a><span class="w">   </span>execCount++<span class="p">;</span>
<a id="__codelineno-45-29" name="__codelineno-45-29" href="#__codelineno-45-29"></a><span class="w">   </span>printf<span class="o">(</span><span class="s2">&quot;Executed %d times \r\n&quot;</span>,<span class="w"> </span>execCount<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-45-30" name="__codelineno-45-30" href="#__codelineno-45-30"></a><span class="w">   </span>printf<span class="o">(</span><span class="s2">&quot;Relocated address of do_helloTestApp: %p and execCount: %p \r\n&quot;</span>,<span class="w"> </span><span class="p">&amp;</span>do_helloTestApp,<span class="w"> </span><span class="p">&amp;</span>execCount<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-45-31" name="__codelineno-45-31" href="#__codelineno-45-31"></a>
<a id="__codelineno-45-32" name="__codelineno-45-32" href="#__codelineno-45-32"></a><span class="w">   </span><span class="k">while</span><span class="w"> </span><span class="o">((</span><span class="nv">exitVar</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">(</span>waitIter<span class="w"> </span>&lt;<span class="w"> </span><span class="m">100000</span><span class="o">)){</span>
<a id="__codelineno-45-33" name="__codelineno-45-33" href="#__codelineno-45-33"></a><span class="w">       </span>udelay<span class="o">(</span><span class="m">100</span><span class="o">)</span><span class="p">;</span>
<a id="__codelineno-45-34" name="__codelineno-45-34" href="#__codelineno-45-34"></a><span class="w">       </span>waitIter++<span class="p">;</span>
<a id="__codelineno-45-35" name="__codelineno-45-35" href="#__codelineno-45-35"></a><span class="w">   </span><span class="o">}</span>
<a id="__codelineno-45-36" name="__codelineno-45-36" href="#__codelineno-45-36"></a>
<a id="__codelineno-45-37" name="__codelineno-45-37" href="#__codelineno-45-37"></a><span class="w">   </span>printf<span class="o">(</span><span class="s2">&quot;Exit from loop at iteration: %d \r\n&quot;</span>,<span class="w"> </span>waitIter<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-45-38" name="__codelineno-45-38" href="#__codelineno-45-38"></a>
<a id="__codelineno-45-39" name="__codelineno-45-39" href="#__codelineno-45-39"></a><span class="w">   </span><span class="nv">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>waitIter<span class="w"> </span>+<span class="w"> </span>myVarA<span class="p">;</span>
<a id="__codelineno-45-40" name="__codelineno-45-40" href="#__codelineno-45-40"></a><span class="w">   </span><span class="nv">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>temp<span class="w"> </span>%<span class="w"> </span><span class="m">1000</span><span class="p">;</span>
<a id="__codelineno-45-41" name="__codelineno-45-41" href="#__codelineno-45-41"></a>
<a id="__codelineno-45-42" name="__codelineno-45-42" href="#__codelineno-45-42"></a><span class="w">   </span>printf<span class="o">(</span><span class="s2">&quot;Final result: %d \r\n&quot;</span>,<span class="w"> </span>result<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-45-43" name="__codelineno-45-43" href="#__codelineno-45-43"></a>
<a id="__codelineno-45-44" name="__codelineno-45-44" href="#__codelineno-45-44"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span>CMD_RET_SUCCESS<span class="p">;</span>
<a id="__codelineno-45-45" name="__codelineno-45-45" href="#__codelineno-45-45"></a><span class="o">}</span>
<a id="__codelineno-45-46" name="__codelineno-45-46" href="#__codelineno-45-46"></a>
<a id="__codelineno-45-47" name="__codelineno-45-47" href="#__codelineno-45-47"></a>U_BOOT_CMD<span class="o">(</span>
<a id="__codelineno-45-48" name="__codelineno-45-48" href="#__codelineno-45-48"></a><span class="w">   </span>helloTestApp,<span class="w"> </span><span class="m">1</span>,<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>do_helloTestApp,
<a id="__codelineno-45-49" name="__codelineno-45-49" href="#__codelineno-45-49"></a><span class="w">   </span><span class="s2">&quot;Command used to launch hello application&quot;</span>,<span class="w"> </span>helloTestCmd_help_text
<a id="__codelineno-45-50" name="__codelineno-45-50" href="#__codelineno-45-50"></a><span class="o">)</span><span class="p">;</span>
</code></pre></div>
<p>Note: You can perform the build of this application by updating the Yocto recipe as part of the flow described in <a href="#build-sd-card-gsrd-20">Build SD Card GSRD 2.0</a> section. This can be done by creating a patch in which you describe the files that need to be created/updated in the U-Boot repository and then deploy it. This can be done during the Yocto customization stage (Customize the Yocto Build). To create the u-boot patch (<code>myUbootExampleApp.patch</code>), do the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOP_FOLDER</span>/
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>git<span class="w"> </span>clone<span class="w"> </span>-b<span class="w"> </span>QPDS25.3.1_REL_GSRD_PR<span class="w"> </span>https://github.com/altera-fpga/u-boot-socfpga<span class="w"> </span>u-boot-socfpga-patch
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="nb">cd</span><span class="w"> </span>u-boot-socfpga-patch/
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w"> </span>-<span class="w"> </span>Create<span class="w"> </span>cmd/socFPGATrainingExamples.c<span class="w"> </span>file<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span>code<span class="w"> </span>provided<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>example<span class="w"> </span>application.
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w"> </span>-<span class="w"> </span>Edit<span class="w"> </span>cmd/Makefile<span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span>the<span class="w"> </span>build<span class="w"> </span>of<span class="w"> </span>socFPGATrainingExamples.c
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">    </span>obj-y<span class="w"> </span>+<span class="o">=</span><span class="w"> </span>help.o
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">    </span>obj-y<span class="w"> </span>+<span class="o">=</span><span class="w"> </span>panic.o
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">    </span>obj-y<span class="w"> </span>+<span class="o">=</span><span class="w"> </span>version.o
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="w">    </span>obj-y<span class="w"> </span>+<span class="o">=</span><span class="w"> </span>socFPGATrainingExamples.o
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a>git<span class="w"> </span>add<span class="w"> </span>cmd/Makefile<span class="w"> </span>cmd/socFPGATrainingExamples.c
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a>git<span class="w"> </span>diff<span class="w"> </span>--patch<span class="w"> </span>--staged<span class="w"> </span>&gt;<span class="w"> </span>myUbootExampleApp.patch
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="c1"># Add the Upstream-status label to prevent issues</span>
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;1i Upstream-Status: Pending\n&#39;</span><span class="w"> </span>myUbootExampleApp.patch
</code></pre></div>
<p>To deploy the patch in the Yocto build flow do the following just before calling the <strong>time ./build.sh</strong> command:</p>
<p>1. Copy the <code>$TOP_FOLDER/u-boot-socfpga-patch/myUbootExampleApp.patch</code> file to the <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/meta-custom/recipes-bsp/u-boot/files/patches/</strong> directory.</p>
<p>2. Request to deploy the path by adding a patch to the <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/meta-custom/recipes-bsp/u-boot/u-boot-socfpga_%.bbappend</strong> file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="w">  </span><span class="c1"># Set path for configs and source patches</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">  </span>FILESEXTRAPATHS:prepend<span class="w"> </span>:<span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">THISDIR</span><span class="si">}</span><span class="s2">/files/configs:</span><span class="si">${</span><span class="nv">THISDIR</span><span class="si">}</span><span class="s2">/files/patches:&quot;</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">  </span>SRC_URI:append<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot; \      </span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="s2">        file://myUbootExampleApp.patch \</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="s2">        &quot;</span>
</code></pre></div>
<p>3. Continue with the rest of the Yocto build flow indicated with the time <strong>./build.sh command</strong>.</p>
<p>After these steps, the application is included in the U-Boot binary file (<strong>uboot.itb</strong>), which is part of the SDCard image created (<strong>gsrd-console-image-agilex5e.rootfs.wic</strong>) and a symbol file corresponding to the U-Boot image, located at <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/deploy/images/agilex5e/u-boot</strong>. The symbol file is used later during the setup of the debug session.</p>
<h5>Setup</h5>

<p>Start with the setup of the main use case defined at [Simulation Setup]#simulation-setup). Modify the target script to add the created symbol file and set a breakpoint at the entry point of the  <strong>do_helloTestApp</strong> function as indicated in the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1"># uboot-linux_sdcard.simics</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>:
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>add-symbol-file<span class="w">  </span>&lt;path<span class="w"> </span>of<span class="w"> </span>symbol<span class="w"> </span>file&gt;/u-boot<span class="w">  </span>0x7FD0D000<span class="w"> </span>-relative
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>add-pathmap-entry<span class="w"> </span><span class="s2">&quot;/usr/src/debug/u-boot-socfpga/v2025.1+git/&quot;</span><span class="w"> </span><span class="s2">&quot;&lt;</span><span class="nv">$TOP_FOLDER</span><span class="s2"> path&gt;/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/work/agilex5e-poky-linux/u-boot-socfpga/v2025.10+git/git/&quot;</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>bp.source_location.break<span class="w"> </span>do_helloTestApp
</code></pre></div>
<p><strong>Note:</strong> The symbol file is being loaded with an offset relocation of 0x7FD0D000. This is needed because in a late stage of the U-Boot execution, this relocates itself into a different SDRAM memory location and this should be indicated to the debugger, so there is a match between the addresses indicated in the symbol file and the real memory address location of the symbols. You can obtain this relocation offset by subtracting the real address of a specific function (which can be obtained from the application being executed) and the original offset from the same function in the symbols file (provided in the <strong>$TOP_FOLDER/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/work/agilex5e-poky-linux/u-boot-socfpga/v2025.1+git/build/socfpga_agilex5_defconfig/u-boot.sym</strong> file). An example of the calculation of this relocation offset is shown in the following figure (values are from a different release):</p>
<p><a class="glightbox" href="../images/ubootApp_relocationOffset2.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ubootApp relocationOffset2.jpg" src="../images/ubootApp_relocationOffset2.jpg" /></a></p>
<h5>Procedure</h5>

<ol>
<li>
<p>Start the simulation similar to how it is done in the main use case, but in the serial console stop the U-Boot autoboot by pressing a key on the reception of the message "<strong>Hit any key to stop autoboot:</strong>". </p>
</li>
<li>
<p>Start the U-Boot example application by calling the <strong>helloTestApp</strong> command from the U-Boot shell. This will make the breakpoint set in the target script trigger and the simulation will be stopped. In the Simics CLI, you will see the following message:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="w">  </span><span class="o">[</span>tcf<span class="o">]</span><span class="w"> </span>Breakpoint<span class="w"> </span><span class="m">1</span><span class="w"> </span>on<span class="w"> </span>execution<span class="w"> </span><span class="k">in</span><span class="w"> </span>context<span class="w"> </span>board.fpga.soc_inst.hps_subsys.agilex_hps.core<span class="o">[</span><span class="m">0</span><span class="o">]</span><span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>From Simics CLI, start a debug session by calling the following command:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>simics&gt;<span class="w"> </span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.core<span class="o">[</span><span class="m">0</span><span class="o">]</span>.debug<span class="w"> </span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>dbg0<span class="w"> </span><span class="o">(</span>the<span class="w"> </span>arm-cortex-a55<span class="w"> </span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.core<span class="o">[</span><span class="m">0</span><span class="o">])</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>Now<span class="w"> </span>debugging<span class="w"> </span>the<span class="w"> </span>arm-cortex-a55<span class="w"> </span>system.board.fpga.soc_inst.hps_subsys.agilex_hps.core<span class="o">[</span><span class="m">0</span><span class="o">]</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>do_helloTestApp<span class="o">(</span><span class="nv">cmdtp</span><span class="o">=(</span>struct<span class="w"> </span>cmd_tbl<span class="w"> </span>*<span class="o">)</span><span class="w"> </span>0xfffc46b0,<span class="w"> </span><span class="nv">flag</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">argc</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">argv</span><span class="o">=(</span>char<span class="w"> </span>*<span class="w"> </span>const<span class="w"> </span>*<span class="o">)</span><span class="w"> </span>0xffb11460<span class="o">)</span><span class="w"> </span>at<span class="w"> </span>/usr/src/debug/u-boot-socfpga/v2025.10+git/cmd/socFPGATrainingExamples.c:16
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="m">16</span><span class="w">       </span>volatile<span class="w"> </span>unsigned<span class="w"> </span>char<span class="w"> </span><span class="nv">exitVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</code></pre></div></p>
</li>
<li>
<p>Following the program's logic, if the value of <strong>exitVar</strong> stays zero and the program is continued, the loop will continue until it reaches 100,000 and then the program ends with output messages in the serial console. You can check the values of the variable using the <strong>sym-type</strong>  and <strong>sym-value</strong> features:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>simics&gt;<span class="w"> </span>dbg0.sym-type<span class="w"> </span>exitVar<span class="w"> </span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">    </span>volatile<span class="w"> </span>unsigned<span class="w"> </span>char<span class="w"> </span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>simics&gt;<span class="w"> </span>dbg0.sym-value<span class="w"> </span>exitVar<span class="w"> </span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">   </span><span class="m">0</span><span class="w"> </span><span class="s1">&#39;\x00&#39;</span><span class="w"> </span>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a>simics&gt;<span class="w"> </span>dbg0.sym-type<span class="w"> </span>myVarA<span class="w"> </span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">   </span>volatile<span class="w"> </span>unsigned<span class="w"> </span>int-<span class="w"> </span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>simics&gt;<span class="w"> </span>dbg0.sym-value<span class="w"> </span>myVarA<span class="w"> </span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">   </span><span class="m">0</span>
</code></pre></div></p>
</li>
<li>
<p>Control the program by using <em>breakpoint</em> and <em>value modification</em>. In this section, first insert a breakpoint at Line 34, which is in the loop (You may let the program run for a few seconds before inserting this breakpoint). With that, expect the program to pause when the breakpoint is met and modify the value of <strong>exitVar</strong>.
  <div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>//The<span class="w"> </span>loop<span class="w"> </span>conditions<span class="w"> </span>are<span class="w"> </span>exitVar<span class="w"> </span>and<span class="w"> </span>waitIter<span class="w">   </span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="m">32</span><span class="p">|</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="o">((</span><span class="nv">exitVar</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">(</span>waitIter<span class="w"> </span>&lt;<span class="w"> </span><span class="m">100000</span><span class="o">)){</span><span class="w">   </span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="m">33</span><span class="p">|</span><span class="w">    </span>udelay<span class="o">(</span><span class="m">100</span><span class="o">)</span><span class="p">;</span><span class="w">   </span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="m">34</span><span class="p">|</span><span class="w">    </span>waitIter++<span class="p">;</span><span class="w">   </span>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="m">35</span><span class="p">|</span><span class="w"> </span><span class="o">}</span>
</code></pre></div></p>
<p>In the Simics Console, enter the following line to insert the breakpoint at Line 34:
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>running&gt;<span class="w"> </span>bp.source_line.break<span class="w"> </span><span class="nv">filename</span><span class="o">=</span>socFPGATrainingExamples.c<span class="w"> </span>line-number<span class="o">=</span><span class="m">34</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>Breakpoint<span class="w"> </span><span class="m">2</span>:<span class="w"> </span>0x2<span class="w"> </span><span class="o">(</span>planted<span class="o">)</span><span class="w"> </span>
</code></pre></div></p>
<p>As the breakpoint is planted, continue the program by entering <strong>run</strong>. The program will stop when the breakpoint is hit. When the program stopped, modify the value of <strong>exitVar</strong> in the Serial Console by using the <strong>sym-write</strong> feature.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>simics&gt;<span class="w"> </span>dbg0.sym-write<span class="w"> </span>exitVar<span class="w"> </span><span class="m">1</span><span class="w"> </span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">   </span><span class="nv">exitVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="s1">&#39;\x01&#39;</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>simics&gt;<span class="w"> </span>run
</code></pre></div>
<p>Next, enter <strong>run</strong> and see the program ends immediately due to <strong>exitVar=1</strong>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># helloTestApp</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">    </span>Hello<span class="w"> </span>Altera®<span class="w"> </span>SoC<span class="w"> </span>FPGA!
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span>Executed<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nb">times</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span>Relocated<span class="w"> </span>address<span class="w"> </span>of<span class="w"> </span>do_helloTestApp:<span class="w"> </span>00000000fff222d0<span class="w"> </span>and<span class="w"> </span>execCount:<span class="w"> </span>00000000fffddba0
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">    </span>Exit<span class="w"> </span>from<span class="w"> </span>loop<span class="w"> </span>at<span class="w"> </span>iteration:<span class="w"> </span><span class="m">9691</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">    </span>Final<span class="w"> </span>result:<span class="w"> </span><span class="m">691</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1">#</span>
</code></pre></div></p>
<p>From the output print, it shows that the program iterated for 9691 loops before hitting the Line-34 breakpoint you planted, this number would be bigger if you waited longer before planting the breakpoint. Lastly, the modification of <strong>exitVar</strong>  ended the program.</p>
<p><em>Note:</em>
  a) You can modify the value of <strong>myVarA</strong> and <strong>exitVar</strong> at any time before the looping ends (the test program ends after 99,999 loops).
  b) If the loop-ending condition (<strong>myVarA</strong> and <strong>exitVar</strong>) changed, the program should exit in the next <strong>run</strong>.
  c) Using the same Simics session, you can enter <strong>helloTestApp</strong> in U-boot Shell to restart the test program again.</p>
</li>
<li>
<p>For the first time the program is executed, the output shows <strong>“Executed 1 times”</strong>, this value will increase (+1) as you run the program again without ending the Simics session. Meanwhile, in the serial console, the program has ended as soon as it just started because the controlling variable <strong>exitVar</strong>, having a value of 1, already reached the loop-ending condition. Output on a serial console:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># helloTestApp</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">    </span>Hello<span class="w"> </span>Altera®<span class="w"> </span>SoC<span class="w"> </span>FPGA!
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span>Executed<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nb">times</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span>Relocated<span class="w"> </span>address<span class="w"> </span>of<span class="w"> </span>do_helloTestApp:<span class="w"> </span>00000000fff222d0<span class="w"> </span>and<span class="w"> </span>execCount:<span class="w"> </span>00000000fffddba0
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span>Exit<span class="w"> </span>from<span class="w"> </span>loop<span class="w"> </span>at<span class="w"> </span>iteration:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span>Final<span class="w"> </span>result:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1">#</span>
</code></pre></div>
</li>
<li>
<p>If the value <strong>exitVar</strong> remained zero, the loop counter is allowed to run for 99,999 loops. While the program is looping, you may change the value of <strong>myVarA</strong> to ‘345’. The <strong>Final result</strong> will be 345 when the looping ends. Final result is the modulus value where the <code>Final result = ( (waitIter + myVarA) % 1000 )</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="w"> </span>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># helloTestApp</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">    </span>Hello<span class="w"> </span>Altera®<span class="w"> </span>SoC<span class="w"> </span>FPGA!
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">    </span>Executed<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="nb">times</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">    </span>Relocated<span class="w"> </span>address<span class="w"> </span>of<span class="w"> </span>do_helloTestApp:<span class="w"> </span>00000000fff222d0<span class="w"> </span>and<span class="w"> </span>execCount:<span class="w"> </span>00000000fffddba0
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">    </span>Exit<span class="w"> </span>from<span class="w"> </span>loop<span class="w"> </span>at<span class="w"> </span>iteration:<span class="w"> </span><span class="m">100</span>,000
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="w">    </span>Final<span class="w"> </span>result:<span class="w"> </span><span class="m">345</span>
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1">#</span>
</code></pre></div>
</li>
<li>
<p>If both values of <strong>exitVar</strong> and <strong>myVarA</strong> remain unchanged, both being zero respectively, the looping continues until it reaches waitIter = 100,000. When the program ends, the <strong>Final result</strong> would be zero.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># helloTestApp</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">    </span>Hello<span class="w"> </span>Altera®<span class="w"> </span>SoC<span class="w"> </span>FPGA!
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span>Executed<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nb">times</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">    </span>Relocated<span class="w"> </span>address<span class="w"> </span>of<span class="w"> </span>do_helloTestApp:<span class="w"> </span>00000000fff222d0<span class="w"> </span>and<span class="w"> </span>execCount:<span class="w"> </span>00000000fffddba0
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">    </span>Exit<span class="w"> </span>from<span class="w"> </span>loop<span class="w"> </span>at<span class="w"> </span>iteration:<span class="w"> </span><span class="m">100</span>,000
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">    </span>Final<span class="w"> </span>result:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1">#</span>
</code></pre></div>
</li>
</ol>
<h4 id="use-case-debug-bare-metal-code-using-simics-riscfree">Use Case: Debug Bare-metal Code Using Simics-RiscFree<a class="headerlink" href="#use-case-debug-bare-metal-code-using-simics-riscfree" title="Permanent link">&para;</a></h4>
<p>This use case is an extension to the use case in section <strong>Use Case: Debug Bare-metal Code Using Intel Simics Simulator</strong> above but the debugging steps are performed in the Simics-RiscFree IDE. The test program used here is the same <strong>helloTestApp.c</strong>
<strong>Important:</strong> The offset relocation of 0x7FD0D000 in the symbol file is still required and must be done before the symbol file is used to launch Simics-RiscFree.</p>
<h5>Setup</h5>

<p>This section requires the <strong>simics-riscfree</strong> script. It is included in your Intel Simics Simulator project directory.</p>
<ol>
<li>
<p>To launch Simics-RiscFree IDE, use this command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>$<span class="w">  </span>./simics-riscfree<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>Following the command, you must set up a <strong>RiscFree</strong>  workspace. You should use a new directory as a <strong>RiscFree</strong> workspace which must be different and outside from the Simics project directory.
    <a class="glightbox" href="../images/riscfreeworkspace.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="riscfreeworkspace.png" src="../images/riscfreeworkspace.png" /></a></p>
</li>
<li>
<p>In the <strong>RiscFree</strong> IDE GUI launched, you should see the current Simics project you selected shown in the Project Explorer window. If this is not shown, you can open it from <strong>"Window &gt; Show View &gt; Project Explorer"</strong> menu.</p>
<p><a class="glightbox" href="../images/riscfreeworkspace2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="riscfreeworkspace2.png" src="../images/riscfreeworkspace2.png" /></a></p>
</li>
<li>
<p>From the Project Explorer window, right-click on the target script you want to launch (<strong>uboot-linux_sdcard.simics</strong>) and select <strong>“Debug As &gt; Simics Session”</strong>.
    <a class="glightbox" href="../images/riscfreeworkspace3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="riscfreeworkspace3.png" src="../images/riscfreeworkspace3.png" /></a></p>
</li>
<li>
<p>When prompted for Switching Perspective, select <strong>Yes</strong>. The interface switches to the RiscFree Debugger, which is more user-friendly for debugging.
    <a class="glightbox" href="../images/riscfreeworkspace4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="riscfreeworkspace4.png" src="../images/riscfreeworkspace4.png" /></a></p>
</li>
<li>
<p>In the Debug view, select the project - uboot-linux_sdcard.simics and select Edit project to configure the debug session:</p>
<p><a class="glightbox" href="../images/riscfreeCfgDebugBaremetal.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="riscfreeworkspace4.png" src="../images/riscfreeCfgDebugBaremetal.png" /></a></p>
</li>
<li>
<p>Go to the <strong>PathMap</strong> tab menu and <strong>Add</strong>  a new source code mapping providing the Source and Destination as shown next:</p>
<ul>
<li>Source: /usr/src/debug/u-boot-socfpga/v2025.1+git/" </li>
</ul>
<ul>
<li>Destination: &lt;$TOP_FOLDER path&gt;/agilex5_soc_devkit_ghrd_a55/software/yocto_linux_sd/build/tmp/work/agilex5e-poky-linux/u-boot-socfpga/v2025.10+git/git/</li>
</ul>
<ul>
<li>
<p>Keep <strong>Context query</strong> empty.</p>
<p>Press <strong>Apply</strong> and <strong>Continue</strong>.</p>
</li>
</ul>
<p><a class="glightbox" href="../images/riscfreeAddSourceMapping.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="riscfreeworkspace4.png" src="../images/riscfreeAddSourceMapping.png" /></a></p>
</li>
</ol>
<h5>Procedure</h5>

<ol>
<li>In the RiscFree Debugger window, click on the <strong>Run</strong> button <a class="glightbox" href="../images/runbutton.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="runbutton.png" src="../images/runbutton.png" /></a> to launch the Intel Simics Simulator project.</li>
<li>
<p>As the project is launched, a Simics CLI window appears. When the CLI reaches the <strong>Hit any key to stop autoboot</strong> message, press any key to stop the autoboot to OS, which will then go into the U-boot Shell.</p>
<p><a class="glightbox" href="../images/riscfreeworkspace5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="riscfreeworkspace5.png" src="../images/riscfreeworkspace5.png" /></a></p>
</li>
<li>
<p>Start the test program by entering <strong>helloTestApp</strong> in the U-boot Shell.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>SOCFPGA_AGILEX5<span class="w"> </span><span class="c1"># helloTestApp</span>
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>simics&gt;<span class="w"> </span>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">     </span><span class="o">[</span>tcf<span class="o">]</span><span class="w"> </span>Breakpoint<span class="w"> </span><span class="m">1</span><span class="w"> </span>on<span class="w"> </span>execution<span class="w"> </span><span class="k">in</span><span class="w"> </span>context<span class="w"> </span>board.fpga.soc_inst.hps_subsys.agilex_hps.core<span class="o">[</span><span class="m">0</span><span class="o">]</span>
</code></pre></div>
</li>
<li>
<p>As the first breakpoint is met, the program is halted at the entry point of the <strong>do_helloTestApp()</strong> function. You will see the source code of the  application (<strong>socFPGATrainingExamples.c</strong>). Use the <strong>step into/step-over</strong> buttons <a class="glightbox" href="../images/stepsDbg.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="stepsDbg.png" src="../images/stepsDbg.png" /></a> to get to the <strong>while ((exitVar == 0)  &amp;&amp;  (waitIter &lt; 100000))</strong> line and show a capture of this with list command.</p>
<p><a class="glightbox" href="../images/helloTestApp1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="helloTestApp1.png" src="../images/helloTestApp1.png" /></a></p>
</li>
<li>
<p>At this point, if you click on the <strong>Run</strong> button, the test program prints <strong>“Hello Altera® SoC FPGA!”</strong> and finishes looping after some time.</p>
<p><a class="glightbox" href="../images/test1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="test1.png" src="../images/test1.png" /></a></p>
<p><strong>Note:</strong> If the loop already ended, relaunch the test program "helloTestApp" to proceed to the next step.</p>
</li>
<li>
<p>Set a breakpoint in the line 34 of the <strong>socFPGATrainingExamples.c</strong> file using the Riscfree source code window by doing a double left-click at the column at the left of this line. You can also do it from the Simics CLI using: <strong>bp.source_line.break filename=socFPGATrainingExamples.c line-number=34</strong>.</p>
<p><a class="glightbox" href="../images/riscfreeSetBreakpoint.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="test1.png" src="../images/riscfreeSetBreakpoint.png" /></a></p>
</li>
<li>
<p>Run the test and wait until the breakpoint triggers. To modify the loop conditions for debugging purposes, you can modify the value of <strong>exitVar</strong> in the Variable window. For example, changing the value of <strong>exitVar</strong> from ‘\377’ (this is a random value assigned by the system) to ‘\001’. As <code>exitVar</code> is no longer zero, the condition of the loop is exceeded, and thus the looping ends.</p>
<p>Before modification:</p>
<p><a class="glightbox" href="../images/exitVar0.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="exitVar0.png" src="../images/exitVar0.png" /></a></p>
<p>After modification:</p>
<p>[<a class="glightbox" href="../images/exitVar1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="exitVar1.png" src="../images/exitVar1.png" /></a></p>
</li>
<li>
<p>The loop exits depending on two conditions: <strong>exitVar</strong> not equals to zero OR <strong>waitIter</strong> reached 100,000. As the value of exitVar is modified to 1 in the middle of looping, the loop ends with exitVar = 1 and <code>waitIter</code> at any number less than 100,000. In this example, <strong>waitIter</strong> is 82251 when the loop ends. Following the code logic, <strong>Final result</strong> is the modulus value where Final result = ( (waitIter + myVarA) % 1000 ) = 252.</p>
<p><a class="glightbox" href="../images/loopends.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="loopends.png" src="../images/loopends.png" /></a></p>
</li>
</ol>
<h4 id="use-case-remote-debugging-of-a-linux-user-mode-program-using-arm-ds-debugger">Use Case: Remote Debugging of a Linux User Mode Program Using ARM DS Debugger<a class="headerlink" href="#use-case-remote-debugging-of-a-linux-user-mode-program-using-arm-ds-debugger" title="Permanent link">&para;</a></h4>
<p>This use case is an extension of the <strong>Use Case: Exercise SDCard Boot Flow from FSBL to Linux</strong> and consists of performing a debug session in a Linux user mode application using ARM Development Studio. For this, the debugging is done using the GDB server running in the target system. Also, set up the Simics network connectivity with the host PC, which is the one that runs ARM DS through TCP protocol. The application to be debugged is listed next <strong>myArmDSDebugExample.c</strong>. This application determines the core in which this run started and then enters into a loop counting the number of times the loop is executed and continue observing the execution core. It also counts the number of times the application is executed in each one of the four cores. The application exits from the loop when the iterator reaches a limit or the <strong>exitVar</strong> variable has a value of '1', which normally never should occur. After the loop, the application assigns the value in <strong>x</strong> variable to the <strong>a</strong> and <strong>b</strong> variables and then adds these variables and assigns the result value in <strong>c</strong> variable. In the end, the application prints the result of the addition, the number of times the loop was iterated and the final value of <strong>exitVar</strong>, and the number of times each core executed the application.</p>
<p><span style="color: red;"> <strong>NOTE:</strong> At this time, this use case can only be exercised with the Gold license for ARM DS Debugger. In the next release of Arm DS (2025.0) the Altera FPGA Edition license will support this case.</span></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="c1">#define _GNU_SOURCE</span>
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="c1">#include &lt;stdio.h&gt;</span>
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="c1">#define NUM_CORES 4</span>
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a>unsigned<span class="w"> </span>int<span class="w"> </span>coreCount<span class="o">[</span>NUM_CORES<span class="o">]</span><span class="p">;</span>
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a>unsigned<span class="w"> </span>long<span class="w"> </span>int<span class="w"> </span>read_mpidr<span class="o">(</span>void<span class="o">)</span>
<a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="o">{</span>
<a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">    </span>unsigned<span class="w"> </span>long<span class="w"> </span>int<span class="w"> </span>value<span class="p">;</span>
<a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="w">    </span>asm<span class="w"> </span>volatile<span class="o">(</span><span class="s2">&quot;mrs %[result], mpidr_el1&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">[</span>result<span class="o">]</span><span class="w"> </span><span class="s2">&quot;=r&quot;</span><span class="w"> </span><span class="o">(</span>value<span class="o">))</span><span class="p">;</span>
<a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span>value<span class="p">;</span>
<a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a><span class="o">}</span>
<a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a>
<a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a>unsigned<span class="w"> </span>int<span class="w"> </span>getCore<span class="o">(){</span>
<a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a><span class="w">   </span>static<span class="w"> </span>unsigned<span class="w"> </span>int<span class="w"> </span><span class="nv">corePrev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>unsigned<span class="w"> </span>int<span class="o">)(</span>-1<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a><span class="w">   </span>unsigned<span class="w"> </span>long<span class="w"> </span>mpidr<span class="p">;</span>
<a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a><span class="w">   </span>unsigned<span class="w"> </span>int<span class="w"> </span>core<span class="p">;</span>
<a id="__codelineno-61-19" name="__codelineno-61-19" href="#__codelineno-61-19"></a>
<a id="__codelineno-61-20" name="__codelineno-61-20" href="#__codelineno-61-20"></a><span class="w">   </span><span class="nv">mpidr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>read_mpidr<span class="o">()</span><span class="p">;</span>
<a id="__codelineno-61-21" name="__codelineno-61-21" href="#__codelineno-61-21"></a><span class="w">   </span><span class="nv">core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>mpidr<span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="m">8</span><span class="o">)</span><span class="w"> </span><span class="p">&amp;</span><span class="w"> </span>0xFF<span class="p">;</span><span class="w">    </span>
<a id="__codelineno-61-22" name="__codelineno-61-22" href="#__codelineno-61-22"></a><span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="o">(</span>core<span class="w"> </span>!<span class="o">=</span><span class="w"> </span>corePrev<span class="o">)</span>
<a id="__codelineno-61-23" name="__codelineno-61-23" href="#__codelineno-61-23"></a><span class="w">   </span><span class="o">{</span>
<a id="__codelineno-61-24" name="__codelineno-61-24" href="#__codelineno-61-24"></a><span class="w">      </span>coreCount<span class="o">[</span>core<span class="o">]</span>++<span class="p">;</span><span class="w"> </span>
<a id="__codelineno-61-25" name="__codelineno-61-25" href="#__codelineno-61-25"></a><span class="w">      </span><span class="nv">corePrev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>core<span class="p">;</span>
<a id="__codelineno-61-26" name="__codelineno-61-26" href="#__codelineno-61-26"></a><span class="w">   </span><span class="o">}</span>
<a id="__codelineno-61-27" name="__codelineno-61-27" href="#__codelineno-61-27"></a>
<a id="__codelineno-61-28" name="__codelineno-61-28" href="#__codelineno-61-28"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span>core<span class="p">;</span>
<a id="__codelineno-61-29" name="__codelineno-61-29" href="#__codelineno-61-29"></a><span class="o">}</span>
<a id="__codelineno-61-30" name="__codelineno-61-30" href="#__codelineno-61-30"></a>
<a id="__codelineno-61-31" name="__codelineno-61-31" href="#__codelineno-61-31"></a>int<span class="w"> </span>main<span class="o">()</span>
<a id="__codelineno-61-32" name="__codelineno-61-32" href="#__codelineno-61-32"></a><span class="o">{</span>
<a id="__codelineno-61-33" name="__codelineno-61-33" href="#__codelineno-61-33"></a>
<a id="__codelineno-61-34" name="__codelineno-61-34" href="#__codelineno-61-34"></a><span class="w">   </span>int<span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span><span class="p">;</span>
<a id="__codelineno-61-35" name="__codelineno-61-35" href="#__codelineno-61-35"></a><span class="w">   </span>unsigned<span class="w"> </span>int<span class="w"> </span>core<span class="p">;</span><span class="w">    </span>
<a id="__codelineno-61-36" name="__codelineno-61-36" href="#__codelineno-61-36"></a><span class="w">   </span>unsigned<span class="w"> </span>int<span class="w"> </span><span class="nv">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-61-37" name="__codelineno-61-37" href="#__codelineno-61-37"></a><span class="w">   </span>int<span class="w"> </span>a<span class="p">;</span>
<a id="__codelineno-61-38" name="__codelineno-61-38" href="#__codelineno-61-38"></a><span class="w">   </span>int<span class="w"> </span>b<span class="p">;</span>
<a id="__codelineno-61-39" name="__codelineno-61-39" href="#__codelineno-61-39"></a><span class="w">   </span>int<span class="w"> </span>c<span class="p">;</span>
<a id="__codelineno-61-40" name="__codelineno-61-40" href="#__codelineno-61-40"></a><span class="w">   </span>volatile<span class="w"> </span>int<span class="w"> </span><span class="nv">exitVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-61-41" name="__codelineno-61-41" href="#__codelineno-61-41"></a>
<a id="__codelineno-61-42" name="__codelineno-61-42" href="#__codelineno-61-42"></a><span class="w">   </span><span class="nv">core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>getCore<span class="o">()</span><span class="p">;</span>
<a id="__codelineno-61-43" name="__codelineno-61-43" href="#__codelineno-61-43"></a><span class="w">   </span>printf<span class="o">(</span><span class="s2">&quot;=== My Debug example started on Core %d ===\n&quot;</span>,<span class="w"> </span>core<span class="o">)</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-61-44" name="__codelineno-61-44" href="#__codelineno-61-44"></a>
<a id="__codelineno-61-45" name="__codelineno-61-45" href="#__codelineno-61-45"></a><span class="w">   </span><span class="k">while</span><span class="o">((</span><span class="nv">exitVar</span><span class="o">==</span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">(</span>iter<span class="w"> </span>&lt;<span class="w"> </span><span class="m">1000000000</span><span class="o">))</span>
<a id="__codelineno-61-46" name="__codelineno-61-46" href="#__codelineno-61-46"></a><span class="w">   </span><span class="o">{</span>
<a id="__codelineno-61-47" name="__codelineno-61-47" href="#__codelineno-61-47"></a><span class="w">       </span><span class="nv">core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>getCore<span class="o">()</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-61-48" name="__codelineno-61-48" href="#__codelineno-61-48"></a><span class="w">       </span>iter++<span class="p">;</span>
<a id="__codelineno-61-49" name="__codelineno-61-49" href="#__codelineno-61-49"></a><span class="w">   </span><span class="o">}</span>
<a id="__codelineno-61-50" name="__codelineno-61-50" href="#__codelineno-61-50"></a><span class="w">   </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>x<span class="p">;</span>
<a id="__codelineno-61-51" name="__codelineno-61-51" href="#__codelineno-61-51"></a><span class="w">   </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>x<span class="p">;</span>
<a id="__codelineno-61-52" name="__codelineno-61-52" href="#__codelineno-61-52"></a><span class="w">   </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>a<span class="w"> </span>+<span class="w"> </span>b<span class="p">;</span>
<a id="__codelineno-61-53" name="__codelineno-61-53" href="#__codelineno-61-53"></a><span class="w">   </span>printf<span class="o">(</span><span class="s2">&quot;Count:%d  iter: %d  exitVar:%d \n&quot;</span>,<span class="w"> </span>c,<span class="w"> </span>iter,<span class="w"> </span>exitVar<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-61-54" name="__codelineno-61-54" href="#__codelineno-61-54"></a><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="o">(</span><span class="nv">core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span>core<span class="w"> </span>&lt;<span class="w"> </span>NUM_CORES<span class="p">;</span><span class="w"> </span>core++<span class="o">)</span>
<a id="__codelineno-61-55" name="__codelineno-61-55" href="#__codelineno-61-55"></a><span class="w">       </span>printf<span class="o">(</span><span class="s2">&quot;  core[%d]: %d times\r\n&quot;</span>,<span class="w"> </span>core,<span class="w"> </span>coreCount<span class="o">[</span>core<span class="o">])</span><span class="p">;</span>
<a id="__codelineno-61-56" name="__codelineno-61-56" href="#__codelineno-61-56"></a>
<a id="__codelineno-61-57" name="__codelineno-61-57" href="#__codelineno-61-57"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<a id="__codelineno-61-58" name="__codelineno-61-58" href="#__codelineno-61-58"></a><span class="o">}</span>
</code></pre></div>
<h5>Setup</h5>

<ol>
<li>
<p>Start with the setup as the parent use case. From the Simics CLI or from the <strong>uboot-linux_sdcard.simics</strong> Simics script, add the network configuration that allows establishing the GDB server connexion between the target system and the host PC. This configuration creates an incoming forwarding port for TCP traffic from a port in the host PC to port <strong>9123</strong> in the target system. The port in the host PC is shown when calling the <strong>list-port-forwarding-setup</strong> command (port <strong>4001</strong> will be used in this example).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="c1"># uboot-linux_sdcard.simics</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>:
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a>connect-real-network-port-in<span class="w"> </span><span class="m">9123</span><span class="w"> </span>ethernet-link<span class="w"> </span><span class="o">=</span><span class="w"> </span>ethernet_switch0<span class="w"> </span>target-ip<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>.10.0.100<span class="w"> </span>-tcp<span class="w"> </span>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>list-port-forwarding-setup
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>running&gt;<span class="w">  </span>list-port-forwarding-setup<span class="w"> </span>
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a>NAPT<span class="w"> </span>enabled<span class="w"> </span>with<span class="w"> </span>gateway<span class="w"> </span><span class="m">10</span>.10.0.1/24<span class="w"> </span>on<span class="w"> </span>link<span class="w"> </span>ethernet_switch0.link.
<a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a>NAPT<span class="w"> </span>enabled<span class="w"> </span>with<span class="w"> </span>gateway<span class="w"> </span>fe80::2220:20ff:fe20:2000/64<span class="w"> </span>on<span class="w"> </span>link<span class="w"> </span>ethernet_switch0.link.
<a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a>
<a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a>Real<span class="w"> </span>DNS<span class="w"> </span>enabled<span class="w"> </span>at<span class="w"> </span><span class="m">10</span>.10.0.1/24<span class="w"> </span>on<span class="w"> </span>link<span class="w"> </span>ethernet_switch0.link.
<a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a>Real<span class="w"> </span>DNS<span class="w"> </span>enabled<span class="w"> </span>at<span class="w"> </span>fe80::2220:20ff:fe20:2000/64<span class="w"> </span>on<span class="w"> </span>link<span class="w"> </span>ethernet_switch0.link.
<a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a>
<a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a>Host<span class="w"> </span>TCP<span class="w"> </span>port<span class="w"> </span><span class="m">4001</span><span class="w"> </span>→<span class="w"> </span><span class="m">10</span>.10.0.100:9123
</code></pre></div>
</li>
<li>
<p>The Linux example application must be compiled so you can have the executable binary available. This binary is generated with a toolchain and should be built to include debug information (i.e. symbol file). ARM DS does not support the DWARF 5.0 format in the symbols files, so the application must be built with a toolchain that creates this with DWARF 4.0 version. The instructions to build the applications are shown next. This generates the <strong>myArmDSDebugExample</strong> binary.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>mkdir<span class="w"> </span>SymDbg<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>SymDbg
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>wget<span class="w"> </span>https://developer.arm.com/-/media/Files/downloads/gnu-a/10.2-2020.11/binrel/gcc-arm-10.2-2020.11-x86_64-aarch64-none-linux-gnu.tar.xz
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a>tar<span class="w"> </span>xf<span class="w"> </span>gcc-arm-10.2-2020.11-x86_64-aarch64-none-linux-gnu.tar.xz
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a>rm<span class="w"> </span>gcc-arm-10.2-2020.11-x86_64-aarch64-none-linux-gnu.tar.xz
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a>
<a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a>./gcc-arm-10.2-2020.11-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu-gcc<span class="w"> </span>-g<span class="w"> </span>-o<span class="w">  </span>myArmDSDebugExample<span class="w"> </span>myArmDSDebugExample.c
</code></pre></div>
</li>
</ol>
<h5>Procedure</h5>

<ol>
<li>
<p>Execute parent use case to get to the Linux prompt and log in.</p>
</li>
<li>
<p>Take the Linux application binary to the target system filesystem using tftp. For this, you will need to do the following. The <strong>myArmDSDebugExample</strong> binary should be located in the Simics project directory before calling <strong>tftp</strong> command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>root@dhcp0:~#<span class="w"> </span>ethtool<span class="w"> </span>-K<span class="w"> </span>eth1<span class="w"> </span>tx<span class="w"> </span>off<span class="w"> </span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>tx-checksum-ipv4:<span class="w"> </span>off
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a>tx-checksum-ipv6:<span class="w"> </span>off
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a>tx-tcp-segmentation:<span class="w"> </span>off<span class="w"> </span><span class="o">[</span>not<span class="w"> </span>requested<span class="o">]</span>
<a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a>tx-tcp6-segmentation:<span class="w"> </span>off<span class="w"> </span><span class="o">[</span>not<span class="w"> </span>requested<span class="o">]</span>
<a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a>root@dhcp0:~#<span class="w"> </span>tftp<span class="w"> </span>-gr<span class="w"> </span>myArmDSDebugExample<span class="w"> </span><span class="m">10</span>.10.0.1<span class="w"> </span>
<a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a>root@dhcp0:~#<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>myArmDSDebugExample<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>Start a GDB Server debug session over the application from the Linux prompt using the port created in the target system during the port forwarding setup:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a>root@dhcp0:~#<span class="w"> </span>gdbserver<span class="w"> </span><span class="m">10</span>.10.0.1:9123<span class="w"> </span>myArmDSDebugExample<span class="w"> </span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>Process<span class="w"> </span>/home/root/myArmDSDebugExample<span class="w"> </span>created<span class="p">;</span><span class="w"> </span><span class="nv">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">283</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a>Listening<span class="w"> </span>on<span class="w"> </span>port<span class="w"> </span><span class="m">9123</span>
</code></pre></div>
</li>
<li>
<p>In ARM Development Studio, create a new debug connection following the next steps:</p>
<p>a) Create a New Debug Connection to a <strong>Linux Application Connection</strong>. Press Next.</p>
<p><a class="glightbox" href="../images/ARMDS_Fig1.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig1.jpg" src="../images/ARMDS_Fig1.jpg" /></a> </p>
<p>b) Give a name to the Debug connection: <strong>DebugLinuxAppSimicsGDB</strong> . Press Finish.</p>
<p><a class="glightbox" href="../images/ARMDS_Fig2.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig2.jpg" src="../images/ARMDS_Fig2.jpg" /></a></p>
<p>c) Edit the configuration. In the <strong>Connection</strong> tab, select:<br></p>
<p>- Linux Application Debug → Application Debug → Connections via AArch64 gdbserver → Connect to already running application<br>
  - Address: localhost (or host PC IP if want to be accessed from a different PC in the same network)<br>
  - Port: 4001<br>
  - Select Terminate gdbserver on disconnect</p>
<p><a class="glightbox" href="../images/ARMDS_Fig3.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig3.jpg" src="../images/ARMDS_Fig3.jpg" /></a></p>
<p>d) Edit the configuration. In <strong>Files</strong> tab, select the application binary loaded as symbol file: <br><br />
<a class="glightbox" href="../images/ARMDS_Fig4.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig4.jpg" src="../images/ARMDS_Fig4.jpg" /></a></p>
<p>e) Edit the configuration. In <strong>Debugger</strong> tab, select <strong>Debug from symbol: main</strong> </p>
<p><a class="glightbox" href="../images/ARMDS_Fig5.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig5.jpg" src="../images/ARMDS_Fig5.jpg" /></a></p>
<p>Press <strong>Debug</strong> button to start the debug.</p>
</li>
<li>
<p>The application debug can be performed now. ARM DS shows the source code of the test application stopped at the entry point of the <strong>main()</strong> function and we observe at the left the Debug Control panel with the options to control the execution of the code:</p>
<p><a class="glightbox" href="../images/ARMDS_Fig6.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig6.jpg" src="../images/ARMDS_Fig6.jpg" /></a></p>
<p>Observe that in the target serial console, the gdb server reports that the connection with the host was achieved showing the message: <strong>Remote debugging from host 10.10.0.1, port 4097</strong></p>
<p>a) Run the code and after a few seconds pause it. Observe that it stops under the while loop (or under the <strong>getCore()</strong> function which is called under the loop). You can observe the value of the variables using the Variables tab. The <strong>iter</strong> variable is increased in every iteration in the loop and the current value of <strong>exitVar</strong> variable is 0. You can also observe that the application is being executed in core 0. The loop will exit whenever the <strong>exitVar</strong> variable has a value of 1 or the iterator reaches gets greater than 1000000000. At this point, the application already printed the <strong>=== My Debug example started on Core 0 ===</strong> message in the serial console. </p>
<p><a class="glightbox" href="../images/ARMDS_Fig7.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig7.jpg" src="../images/ARMDS_Fig7.jpg" /></a></p>
<p>b) You can change the value of the <strong>exitVar</strong> variable from the <strong>Value</strong> column in the <strong>Variables</strong> tab, use the <strong>step-over</strong> button to advance in the execution of the application, and confirm that this condition makes it exit from the loop. You can continue advancing in the code execution and observe that the variables <strong>a</strong> and <strong>b</strong> gets initialized with the value of <strong>x</strong>. Observe that the <strong>c</strong> variable gets updated with the result of the addition of <strong>a</strong> and <strong>b</strong> variables.</p>
<p><a class="glightbox" href="../images/ARMDS_Fig8.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig8.jpg" src="../images/ARMDS_Fig8.jpg" /></a></p>
<p>c) Proceed to continue the code execution and observe that the application gets finished printing the results. Also, you can get disconnected from the gdb server session and after this, the serial console shows again the Linux prompt.</p>
<p><a class="glightbox" href="../images/ARMDS_Fig9.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ARMDS Fig9.jpg" src="../images/ARMDS_Fig9.jpg" /></a></p>
</li>
</ol>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 23, 2026</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 7, 2024</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../../../e-series/013B/security/vab/hps-first/ug-vab-hps-first-agx5e-soc/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Vendor Authorized Boot (HPS-First) Tutorial Example Design User Guide" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Vendor Authorized Boot (HPS-First) Tutorial Example Design User Guide
              </div>
            </div>
          </a>
        
        
          
          <a href="../../zephyr-gsrd/ug-zephyr-gsrd-agilex5-virtual-platforms/" class="md-footer__link md-footer__link--next" aria-label="Next: Simics Zephyr GSRD" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Simics Zephyr GSRD
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.altera.com" target="_blank" rel="noopener" title="www.altera.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/altera-fpga" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/altera-fpga/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://community.intel.com/t5/FPGA/ct-p/fpga" target="_blank" rel="noopener" title="Need Help" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 18h2v-2h-2v2m1-16A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2 2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "navigation.indexes", "navigation.footer", "navigation.path", "navigation.tabs", "navigation.tabs.sticky", "search.suggest", "search.highlight", "content.code.copy", "navigation.indexes", "toc.follow"], "search": "../../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
  <script defer src="https://cloud.umami.is/script.js" data-website-id="95a45ca2-f7f4-47e3-ab82-76a7057c6f0f"></script>
  
      <script src="../../../../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
        <script src="https://unpkg.com/tablefilter@0.7.3/dist/tablefilter/tablefilter.js"></script>
      
        <script src="../../../../../../assets/tables.js"></script>
      
        <script src="../../../../../../assets/extra.js"></script>
      
    
  <!-- Floating Need Help Button -->
  <a href="https://community.intel.com/t5/FPGA/ct-p/fpga" class="floating-help-button" target="_blank" aria-label="Ask a question in the FPGA Forum">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"></circle>
      <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
      <line x1="12" y1="17" x2="12.01" y2="17"></line>
    </svg>
    <span>Ask in the Forum</span>
  </a>

  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>